/*! For license information please see main.82718dd2.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},153:(e,t,n)=>{"use strict";var r=n(43),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:i,_owner:o.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function k(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},k.prototype=v.prototype;var b=y.prototype=new k;b.constructor=y,g(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var a,i={},s=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)x.call(t,a)&&!j.hasOwnProperty(a)&&(i[a]=t[a]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===i[a]&&(i[a]=l[a]);return{$$typeof:n,type:e,key:s,ref:o,props:i,_owner:S.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,a,i,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===i?"."+N(l,0):i,w(s)?(a="",null!=e&&(a=e.replace(T,"$&/")+"/"),C(s,t,a,"",(function(e){return e}))):null!=s&&(E(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,a+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var u=i+N(o=e[c],c);l+=C(o,t,a,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=C(o=o.value,t,a,u=i+N(o,c++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],a=0;return C(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},L={transition:null},A={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:L,ReactCurrentOwner:S};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=a,t.Profiler=s,t.PureComponent=y,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.act=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=g({},e.props),i=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=S.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!j.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:n,type:e.type,key:i,ref:s,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.3.1"},210:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(829)),i=r(n(736)),s=n(745);class o{constructor(e){let{headers:t={},schema:n,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=r}from(e){const t=new URL(`${this.url}/${e}`);return new a.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new o(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:r=!1,get:a=!1,count:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=new URL(`${this.url}/rpc/${e}`);let l;r||a?(t=r?"HEAD":"GET",Object.entries(n).filter((e=>{let[t,n]=e;return void 0!==n})).map((e=>{let[t,n]=e;return[t,Array.isArray(n)?`{${n.join(",")}}`:`${n}`]})).forEach((e=>{let[t,n]=e;o.searchParams.append(t,n)}))):(t="POST",l=n);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new i.default({method:t,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}t.default=o},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,s=a>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<a&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,k="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(m=!1,b(e),!g)if(null!==r(c))g=!0,L(x);else{var t=r(u);null!==t&&A(w,t.startTime-e)}}function x(e,n){g=!1,m&&(m=!1,k(E),E=-1),p=!0;var i=f;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var o=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&a(c),b(n)}else a(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&A(w,d.startTime-n),l=!1}return l}finally{h=null,f=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,j=!1,_=null,E=-1,T=5,N=-1;function C(){return!(t.unstable_now()-N<T)}function P(){if(null!==_){var e=t.unstable_now();N=e;var n=!0;try{n=_(!0,e)}finally{n?S():(j=!1,_=null)}}else j=!1}if("function"===typeof y)S=function(){y(P)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,I=O.port2;O.port1.onmessage=P,S=function(){I.postMessage(null)}}else S=function(){v(P,0)};function L(e){_=e,j||(j=!0,S())}function A(e,n){E=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,L(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(m?(k(E),E=-1):m=!0,A(w,i-s))):(e.sortIndex=o,n(c,e),g||p||(g=!0,L(x))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},286:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(630)),i=r(n(611));t.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=a.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((async e=>{var t,n,r;let a=null,s=null,o=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(s="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const r=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),i=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");r&&i&&i.length>1&&(o=parseInt(i[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(s)&&(s.length>1?(a={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,o=null,l=406,c="Not Acceptable"):s=1===s.length?s[0]:null)}else{const t=await e.text();try{a=JSON.parse(t),Array.isArray(a)&&404===e.status&&(s=[],a=null,l=200,c="OK")}catch(u){404===e.status&&""===t?(l=204,c="No Content"):a={message:t}}if(a&&this.isMaybeSingle&&(null===(r=null===a||void 0===a?void 0:a.details)||void 0===r?void 0:r.includes("0 rows"))&&(a=null,l=200,c="OK"),a&&this.shouldThrowOnError)throw new i.default(a)}return{error:a,data:s,count:o,status:l,statusText:c}}));return this.shouldThrowOnError||(n=n.catch((e=>{var t,n,r;return{error:{message:`${null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null===e||void 0===e?void 0:e.message}`,details:`${null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""}`,hint:"",code:`${null!==(r=null===e||void 0===e?void 0:e.code)&&void 0!==r?r:""}`},data:null,count:null,status:0,statusText:""}}))),n.then(e,t)}returns(){return this}overrideTypes(){return this}}},324:e=>{e.exports=function(e,t,n,r){var a=n?n.call(r,e,t):void 0;if(void 0!==a)return!!a;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(t),l=0;l<i.length;l++){var c=i[l];if(!o(c))return!1;var u=e[c],d=t[c];if(!1===(a=n?n.call(r,u,d,c):void 0)||void 0===a&&u!==d)return!1}return!0}},366:e=>{var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,a="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function i(e,s){if(e===s)return!0;if(e&&s&&"object"==typeof e&&"object"==typeof s){if(e.constructor!==s.constructor)return!1;var o,l,c,u;if(Array.isArray(e)){if((o=e.length)!=s.length)return!1;for(l=o;0!==l--;)if(!i(e[l],s[l]))return!1;return!0}if(n&&e instanceof Map&&s instanceof Map){if(e.size!==s.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!s.has(l.value[0]))return!1;for(u=e.entries();!(l=u.next()).done;)if(!i(l.value[1],s.get(l.value[0])))return!1;return!0}if(r&&e instanceof Set&&s instanceof Set){if(e.size!==s.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!s.has(l.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(s)){if((o=e.length)!=s.length)return!1;for(l=o;0!==l--;)if(e[l]!==s[l])return!1;return!0}if(e.constructor===RegExp)return e.source===s.source&&e.flags===s.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"===typeof e.valueOf&&"function"===typeof s.valueOf)return e.valueOf()===s.valueOf();if(e.toString!==Object.prototype.toString&&"function"===typeof e.toString&&"function"===typeof s.toString)return e.toString()===s.toString();if((o=(c=Object.keys(e)).length)!==Object.keys(s).length)return!1;for(l=o;0!==l--;)if(!Object.prototype.hasOwnProperty.call(s,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=o;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!i(e[c[l]],s[c[l]]))return!1;return!0}return e!==e&&s!==s}e.exports=function(e,t){try{return i(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},374:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(286));class i extends a.default{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map((e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e))).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:a=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=a?`${a}.order`:"order",s=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${void 0===n?"":n?".nullsfirst":".nullslast"}`),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a="undefined"===typeof r?"offset":`${r}.offset`,i="undefined"===typeof r?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:a=!1,format:i="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var s;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(s=this.headers.Accept)&&void 0!==s?s:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${l}"; options=${o};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=i},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},400:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},579:(e,t,n)=>{"use strict";e.exports=n(153)},611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},630:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Headers:()=>s,Request:()=>o,Response:()=>l,default:()=>i,fetch:()=>a});var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();const a=r.fetch,i=r.fetch.bind(r),s=r.Headers,o=r.Request,l=r.Response},730:(e,t,n)=>{"use strict";var r=n(43),a=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,a,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function y(e,t,n,r){var a=m.hasOwnProperty(t)?m[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,k);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,k);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,k);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var D,$=Object.assign;function U(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var F=!1;function M(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),i=r.stack.split("\n"),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(1!==s||1!==o)do{if(s--,0>--o||a[s]!==i[o]){var l="\n"+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=M(e.type,!1);case 11:return e=M(e.type.render,!1);case 1:return e=M(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case _:return"Profiler";case j:return"StrictMode";case C:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var n=t.checked;return $({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return $({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ie(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,je=null;function _e(e){if(e=ya(e)){if("function"!==typeof xe)throw Error(i(280));var t=e.stateNode;t&&(t=wa(t),xe(e.stateNode,e.type,t))}}function Ee(e){Se?je?je.push(e):je=[e]:Se=e}function Te(){if(Se){var e=Se,t=je;if(je=Se=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ne(e,t){return e(t)}function Ce(){}var Pe=!1;function Oe(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ne(e,t,n)}finally{Pe=!1,(null!==Se||null!==je)&&(Ce(),Te())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var r=wa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Le=!1;if(u)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(ue){Le=!1}function Re(e,t,n,r,a,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var De=!1,$e=null,Ue=!1,Fe=null,Me={onError:function(e){De=!0,$e=e}};function ze(e,t,n,r,a,i,s,o,l){De=!1,$e=null,Re.apply(Me,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(i(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(r=a.return)){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return We(a),e;if(s===r)return We(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var Je=a.unstable_scheduleCallback,qe=a.unstable_cancelCallback,Ge=a.unstable_shouldYield,Qe=a.unstable_requestPaint,Ye=a.unstable_now,Xe=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~a;0!==o?r=dt(o):0!==(i&=s)&&(r=dt(i))}else 0!==(s=n&~a)?r=dt(s):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-st(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function kt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,St,jt,_t,Et=!1,Tt=[],Nt=null,Ct=null,Pt=null,Ot=new Map,It=new Map,Lt=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Dt(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=ya(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function $t(e){var t=ka(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void _t(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ya(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function Mt(){Et=!1,null!==Nt&&Ut(Nt)&&(Nt=null),null!==Ct&&Ut(Ct)&&(Ct=null),null!==Pt&&Ut(Pt)&&(Pt=null),Ot.forEach(Ft),It.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Mt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&zt(Nt,e),null!==Ct&&zt(Ct,e),null!==Pt&&zt(Pt,e),Ot.forEach(t),It.forEach(t),n=0;n<Lt.length;n++)(r=Lt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Lt.length&&null===(n=Lt[0]).blockedOn;)$t(n),null===n.blockedOn&&Lt.shift()}var Ht=b.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,n,r){var a=yt,i=Ht.transition;Ht.transition=null;try{yt=1,Jt(e,t,n,r)}finally{yt=a,Ht.transition=i}}function Vt(e,t,n,r){var a=yt,i=Ht.transition;Ht.transition=null;try{yt=4,Jt(e,t,n,r)}finally{yt=a,Ht.transition=i}}function Jt(e,t,n,r){if(Wt){var a=Gt(e,t,n,r);if(null===a)Wr(e,t,r,qt,n),Rt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Nt=Dt(Nt,e,t,n,r,a),!0;case"dragenter":return Ct=Dt(Ct,e,t,n,r,a),!0;case"mouseover":return Pt=Dt(Pt,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Ot.set(i,Dt(Ot.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,It.set(i,Dt(It.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<At.indexOf(e)){for(;null!==a;){var i=ya(a);if(null!==i&&wt(i),null===(i=Gt(e,t,n,r))&&Wr(e,t,r,qt,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var qt=null;function Gt(e,t,n,r){if(qt=null,null!==(e=ka(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,a="value"in Yt?Yt.value:Yt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===a[i-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return $(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=$({},cn,{view:0,detail:0}),hn=an(dn),fn=$({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=an(fn),gn=an($({},fn,{dataTransfer:0})),mn=an($({},dn,{relatedTarget:0})),vn=an($({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),kn=$({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=an(kn),bn=an($({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function _n(){return jn}var En=$({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Nn=an($({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an($({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Pn=an($({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=$({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=an(On),Ln=[9,13,27,32],An=u&&"CompositionEvent"in window,Rn=null;u&&"documentMode"in document&&(Rn=document.documentMode);var Dn=u&&"TextEvent"in window&&!Rn,$n=u&&(!An||Rn&&8<Rn&&11>=Rn),Un=String.fromCharCode(32),Fn=!1;function Mn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ee(r),0<(t=Vr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,Jn=null;function qn(e){Ur(e,0)}function Gn(e){if(J(ba(e)))return e}function Qn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Vn&&(Vn.detachEvent("onpropertychange",nr),Jn=Vn=null)}function nr(e){if("value"===e.propertyName&&Gn(Jn)){var t=[];Kn(t,Jn,e,we(e)),Oe(qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Jn=n,(Vn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Jn)}function ir(e,t){if("click"===e)return Gn(t)}function sr(e,t){if("input"===e||"change"===e)return Gn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!or(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=ur(n,i);var s=ur(n,r);a&&s&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,kr=null,yr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==mr||mr!==q(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},kr&&lr(kr,r)||(kr=r,0<(r=Vr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},jr={};function _r(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in jr)return Sr[e]=n[t];return e}u&&(jr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=_r("animationend"),Tr=_r("animationiteration"),Nr=_r("animationstart"),Cr=_r("transitionend"),Pr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Pr.set(e,t),l(t,[e])}for(var Lr=0;Lr<Or.length;Lr++){var Ar=Or[Lr];Ir(Ar.toLowerCase(),"on"+(Ar[0].toUpperCase()+Ar.slice(1)))}Ir(Er,"onAnimationEnd"),Ir(Tr,"onAnimationIteration"),Ir(Nr,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function $r(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,s,o,l,c){if(ze.apply(this,arguments),De){if(!De)throw Error(i(198));var u=$e;De=!1,$e=null,Ue||(Ue=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;$r(a,o,c),i=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;$r(a,o,c),i=l}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[ga];void 0===n&&(n=t[ga]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Mr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Mr(t,!1,e),Mr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Mr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Qt(t)){case 1:var a=Kt;break;case 4:a=Vt;break;default:a=Jt}n=a.bind(null,t,n,e),a=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;s=s.return}for(;null!==o;){if(null===(s=ka(o)))return;if(5===(l=s.tag)||6===l){r=i=s;continue e}o=o.parentNode}}r=r.return}Oe((function(){var r=i,a=we(n),s=[];e:{var o=Pr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case Er:case Tr:case Nr:l=vn;break;case Cr:l=Pn;break;case"scroll":l=hn;break;case"wheel":l=In;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==h&&(null!=(g=Ie(p,h))&&u.push(Kr(p,g,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,a),s.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!ka(c)&&!c[pa])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ka(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Nn,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:ba(l),f=null==c?o:ba(c),(o=new u(g,p+"leave",l,n,a)).target=d,o.relatedTarget=f,g=null,ka(a)===r&&((u=new u(h,p+"enter",c,n,a)).target=f,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Jr(f))p++;for(f=0,g=h;g;g=Jr(g))f++;for(;0<p-f;)u=Jr(u),p--;for(;0<f-p;)h=Jr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Jr(u),h=Jr(h)}u=null}else u=null;null!==l&&qr(s,o,l,u,!1),null!==c&&null!==d&&qr(s,d,c,u,!0)}if("select"===(l=(o=r?ba(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var m=Qn;else if(Wn(o))if(Yn)m=sr;else{m=ar;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(m=ir);switch(m&&(m=m(e,r))?Kn(s,m,n,a):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?ba(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,kr=null);break;case"focusout":kr=vr=mr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,br(s,n,a);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":br(s,n,a)}var k;if(An)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Bn?Mn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&($n&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Bn&&(k=en()):(Xt="value"in(Yt=a)?Yt.value:Yt.textContent,Bn=!0)),0<(v=Vr(r,y)).length&&(y=new bn(y,e,null,n,a),s.push({event:y,listeners:v}),k?y.data=k:null!==(k=zn(n))&&(y.data=k))),(k=Dn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!An&&Mn(e,t)?(e=en(),Zt=Xt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Vr(r,"onBeforeInput")).length&&(a=new bn("onBeforeInput","beforeinput",null,n,a),s.push({event:a,listeners:r}),a.data=k))}Ur(s,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Ie(e,n))&&r.unshift(Kr(e,i,a)),null!=(i=Ie(e,t))&&r.push(Kr(e,i,a))),e=e.return}return r}function Jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qr(e,t,n,r,a){for(var i=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,a?null!=(l=Ie(n,i))&&s.unshift(Kr(n,l,o)):a||null!=(l=Ie(n,i))&&s.push(Kr(n,l,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Gr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Gr,"\n").replace(Qr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(i(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,sa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(oa)}:ra;function oa(e){setTimeout((function(){throw e}))}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Bt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ha="__reactFiber$"+da,fa="__reactProps$"+da,pa="__reactContainer$"+da,ga="__reactEvents$"+da,ma="__reactListeners$"+da,va="__reactHandles$"+da;function ka(e){var t=e[ha];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[ha]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[ha])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function ya(e){return!(e=e[ha]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ba(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function wa(e){return e[fa]||null}var xa=[],Sa=-1;function ja(e){return{current:e}}function _a(e){0>Sa||(e.current=xa[Sa],xa[Sa]=null,Sa--)}function Ea(e,t){Sa++,xa[Sa]=e.current,e.current=t}var Ta={},Na=ja(Ta),Ca=ja(!1),Pa=Ta;function Oa(e,t){var n=e.type.contextTypes;if(!n)return Ta;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ia(e){return null!==(e=e.childContextTypes)&&void 0!==e}function La(){_a(Ca),_a(Na)}function Aa(e,t,n){if(Na.current!==Ta)throw Error(i(168));Ea(Na,t),Ea(Ca,n)}function Ra(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(i(108,H(e)||"Unknown",a));return $({},n,r)}function Da(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ta,Pa=Na.current,Ea(Na,e),Ea(Ca,Ca.current),!0}function $a(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Ra(e,t,Pa),r.__reactInternalMemoizedMergedChildContext=e,_a(Ca),_a(Na),Ea(Na,e)):_a(Ca),Ea(Ca,n)}var Ua=null,Fa=!1,Ma=!1;function za(e){null===Ua?Ua=[e]:Ua.push(e)}function Ba(){if(!Ma&&null!==Ua){Ma=!0;var e=0,t=yt;try{var n=Ua;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ua=null,Fa=!1}catch(a){throw null!==Ua&&(Ua=Ua.slice(e+1)),Je(Ze,Ba),a}finally{yt=t,Ma=!1}}return null}var Ha=[],Wa=0,Ka=null,Va=0,Ja=[],qa=0,Ga=null,Qa=1,Ya="";function Xa(e,t){Ha[Wa++]=Va,Ha[Wa++]=Ka,Ka=e,Va=t}function Za(e,t,n){Ja[qa++]=Qa,Ja[qa++]=Ya,Ja[qa++]=Ga,Ga=e;var r=Qa;e=Ya;var a=32-st(r)-1;r&=~(1<<a),n+=1;var i=32-st(t)+a;if(30<i){var s=a-a%5;i=(r&(1<<s)-1).toString(32),r>>=s,a-=s,Qa=1<<32-st(t)+a|n<<a|r,Ya=i+e}else Qa=1<<i|n<<a|r,Ya=e}function ei(e){null!==e.return&&(Xa(e,1),Za(e,1,0))}function ti(e){for(;e===Ka;)Ka=Ha[--Wa],Ha[Wa]=null,Va=Ha[--Wa],Ha[Wa]=null;for(;e===Ga;)Ga=Ja[--qa],Ja[qa]=null,Ya=Ja[--qa],Ja[qa]=null,Qa=Ja[--qa],Ja[qa]=null}var ni=null,ri=null,ai=!1,ii=null;function si(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ga?{id:Qa,overflow:Ya}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ai){var t=ri;if(t){var n=t;if(!oi(e,t)){if(li(e))throw Error(i(418));t=ca(n.nextSibling);var r=ni;t&&oi(e,t)?si(r,n):(e.flags=-4097&e.flags|2,ai=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,ni=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function di(e){if(e!==ni)return!1;if(!ai)return ui(e),ai=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ri)){if(li(e))throw hi(),Error(i(418));for(;t;)si(e,t),t=ca(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?ca(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=ri;e;)e=ca(e.nextSibling)}function fi(){ri=ni=null,ai=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var gi=b.ReactCurrentBatchConfig;function mi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=a.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function vi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ki(e){return(0,e._init)(e._payload)}function yi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=$c(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===I&&ki(i)===t.type)?((r=a(t,n.props)).ref=mi(e,t,n),r.return=e,r):((r=Ac(n.type,n.key,n.props,null,e.mode,r)).ref=mi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=$c(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ac(t.type,t.key,t.props,null,e.mode,n)).ref=mi(e,null,t),n.return=e,n;case x:return(t=Uc(t,e.mode,n)).return=e,t;case I:return h(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Rc(t,e.mode,n,null)).return=e,t;vi(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,r):null;case x:return n.key===a?u(e,t,n,r):null;case I:return f(e,t,(a=n._init)(n._payload),r)}if(te(n)||R(n))return null!==a?null:d(e,t,n,r,null);vi(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case I:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||R(r))return d(t,e=e.get(n)||null,r,a,null);vi(t,r)}return null}function g(a,i,o,l){for(var c=null,u=null,d=i,g=i=0,m=null;null!==d&&g<o.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=f(a,d,o[g],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(a,d),i=s(v,i,g),null===u?c=v:u.sibling=v,u=v,d=m}if(g===o.length)return n(a,d),ai&&Xa(a,g),c;if(null===d){for(;g<o.length;g++)null!==(d=h(a,o[g],l))&&(i=s(d,i,g),null===u?c=d:u.sibling=d,u=d);return ai&&Xa(a,g),c}for(d=r(a,d);g<o.length;g++)null!==(m=p(d,a,g,o[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),i=s(m,i,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(a,e)})),ai&&Xa(a,g),c}function m(a,o,l,c){var u=R(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,g=o,m=o=0,v=null,k=l.next();null!==g&&!k.done;m++,k=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var y=f(a,g,k.value,c);if(null===y){null===g&&(g=v);break}e&&g&&null===y.alternate&&t(a,g),o=s(y,o,m),null===d?u=y:d.sibling=y,d=y,g=v}if(k.done)return n(a,g),ai&&Xa(a,m),u;if(null===g){for(;!k.done;m++,k=l.next())null!==(k=h(a,k.value,c))&&(o=s(k,o,m),null===d?u=k:d.sibling=k,d=k);return ai&&Xa(a,m),u}for(g=r(a,g);!k.done;m++,k=l.next())null!==(k=p(g,a,m,k.value,c))&&(e&&null!==k.alternate&&g.delete(null===k.key?m:k.key),o=s(k,o,m),null===d?u=k:d.sibling=k,d=k);return e&&g.forEach((function(e){return t(a,e)})),ai&&Xa(a,m),u}return function e(r,i,s,l){if("object"===typeof s&&null!==s&&s.type===S&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,u=i;null!==u;){if(u.key===c){if((c=s.type)===S){if(7===u.tag){n(r,u.sibling),(i=a(u,s.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===I&&ki(c)===u.type){n(r,u.sibling),(i=a(u,s.props)).ref=mi(r,u,s),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===S?((i=Rc(s.props.children,r.mode,l,s.key)).return=r,r=i):((l=Ac(s.type,s.key,s.props,null,r.mode,l)).ref=mi(r,i,s),l.return=r,r=l)}return o(r);case x:e:{for(u=s.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(r,i.sibling),(i=a(i,s.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Uc(s,r.mode,l)).return=r,r=i}return o(r);case I:return e(r,i,(u=s._init)(s._payload),l)}if(te(s))return g(r,i,s,l);if(R(s))return m(r,i,s,l);vi(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(n(r,i.sibling),(i=a(i,s)).return=r,r=i):(n(r,i),(i=$c(s,r.mode,l)).return=r,r=i),o(r)):n(r,i)}}var bi=yi(!0),wi=yi(!1),xi=ja(null),Si=null,ji=null,_i=null;function Ei(){_i=ji=Si=null}function Ti(e){var t=xi.current;_a(xi),e._currentValue=t}function Ni(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ci(e,t){Si=e,_i=ji=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yo=!0),e.firstContext=null)}function Pi(e){var t=e._currentValue;if(_i!==e)if(e={context:e,memoizedValue:t,next:null},null===ji){if(null===Si)throw Error(i(308));ji=e,Si.dependencies={lanes:0,firstContext:e}}else ji=ji.next=e;return t}var Oi=null;function Ii(e){null===Oi?Oi=[e]:Oi.push(e)}function Li(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Ii(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ai(e,r)}function Ai(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ri=!1;function Di(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $i(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ui(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nl)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ai(e,n)}return null===(a=r.interleaved)?(t.next=t,Ii(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ai(e,n)}function Mi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,kt(e,n)}}function zi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bi(e,t,n,r){var a=e.updateQueue;Ri=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(s=0,u=c=l=null,o=i;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,g=o;switch(h=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(f,d,h):p)||void 0===h)break e;d=$({},d,h);break e;case 2:Ri=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(h=o).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{s|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Dl|=s,e.lanes=s,e.memoizedState=d}}function Hi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var Wi={},Ki=ja(Wi),Vi=ja(Wi),Ji=ja(Wi);function qi(e){if(e===Wi)throw Error(i(174));return e}function Gi(e,t){switch(Ea(Ji,t),Ea(Vi,e),Ea(Ki,Wi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_a(Ki),Ea(Ki,t)}function Qi(){_a(Ki),_a(Vi),_a(Ji)}function Yi(e){qi(Ji.current);var t=qi(Ki.current),n=le(t,e.type);t!==n&&(Ea(Vi,e),Ea(Ki,n))}function Xi(e){Vi.current===e&&(_a(Ki),_a(Vi))}var Zi=ja(0);function es(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ts=[];function ns(){for(var e=0;e<ts.length;e++)ts[e]._workInProgressVersionPrimary=null;ts.length=0}var rs=b.ReactCurrentDispatcher,as=b.ReactCurrentBatchConfig,is=0,ss=null,os=null,ls=null,cs=!1,us=!1,ds=0,hs=0;function fs(){throw Error(i(321))}function ps(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,a,s){if(is=s,ss=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rs.current=null===e||null===e.memoizedState?Xs:Zs,e=n(r,a),us){s=0;do{if(us=!1,ds=0,25<=s)throw Error(i(301));s+=1,ls=os=null,t.updateQueue=null,rs.current=eo,e=n(r,a)}while(us)}if(rs.current=Ys,t=null!==os&&null!==os.next,is=0,ls=os=ss=null,cs=!1,t)throw Error(i(300));return e}function ms(){var e=0!==ds;return ds=0,e}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ls?ss.memoizedState=ls=e:ls=ls.next=e,ls}function ks(){if(null===os){var e=ss.alternate;e=null!==e?e.memoizedState:null}else e=os.next;var t=null===ls?ss.memoizedState:ls.next;if(null!==t)ls=t,os=e;else{if(null===e)throw Error(i(310));e={memoizedState:(os=e).memoizedState,baseState:os.baseState,baseQueue:os.baseQueue,queue:os.queue,next:null},null===ls?ss.memoizedState=ls=e:ls=ls.next=e}return ls}function ys(e,t){return"function"===typeof t?t(e):t}function bs(e){var t=ks(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=os,a=r.baseQueue,s=n.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}r.baseQueue=a=s,n.pending=null}if(null!==a){s=a.next,r=r.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((is&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,ss.lanes|=d,Dl|=d}u=u.next}while(null!==u&&u!==s);null===c?o=r:c.next=l,or(r,t.memoizedState)||(yo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{s=a.lane,ss.lanes|=s,Dl|=s,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ws(e){var t=ks(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{s=e(s,o.action),o=o.next}while(o!==a);or(s,t.memoizedState)||(yo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function xs(){}function Ss(e,t){var n=ss,r=ks(),a=t(),s=!or(r.memoizedState,a);if(s&&(r.memoizedState=a,yo=!0),r=r.queue,Rs(Es.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ls&&1&ls.memoizedState.tag){if(n.flags|=2048,Ps(9,_s.bind(null,n,r,a,t),void 0,null),null===Cl)throw Error(i(349));0!==(30&is)||js(n,t,a)}return a}function js(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _s(e,t,n,r){t.value=n,t.getSnapshot=r,Ts(t)&&Ns(e)}function Es(e,t,n){return n((function(){Ts(t)&&Ns(e)}))}function Ts(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ns(e){var t=Ai(e,1);null!==t&&nc(t,e,1,-1)}function Cs(e){var t=vs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:e},t.queue=e,e=e.dispatch=Js.bind(null,ss,e),[t.memoizedState,e]}function Ps(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Os(){return ks().memoizedState}function Is(e,t,n,r){var a=vs();ss.flags|=e,a.memoizedState=Ps(1|t,n,void 0,void 0===r?null:r)}function Ls(e,t,n,r){var a=ks();r=void 0===r?null:r;var i=void 0;if(null!==os){var s=os.memoizedState;if(i=s.destroy,null!==r&&ps(r,s.deps))return void(a.memoizedState=Ps(t,n,i,r))}ss.flags|=e,a.memoizedState=Ps(1|t,n,i,r)}function As(e,t){return Is(8390656,8,e,t)}function Rs(e,t){return Ls(2048,8,e,t)}function Ds(e,t){return Ls(4,2,e,t)}function $s(e,t){return Ls(4,4,e,t)}function Us(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ls(4,4,Us.bind(null,t,e),n)}function Ms(){}function zs(e,t){var n=ks();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ps(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Bs(e,t){var n=ks();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ps(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hs(e,t,n){return 0===(21&is)?(e.baseState&&(e.baseState=!1,yo=!0),e.memoizedState=n):(or(n,t)||(n=gt(),ss.lanes|=n,Dl|=n,e.baseState=!0),t)}function Ws(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=as.transition;as.transition={};try{e(!1),t()}finally{yt=n,as.transition=r}}function Ks(){return ks().memoizedState}function Vs(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qs(e))Gs(t,n);else if(null!==(n=Li(e,t,n,r))){nc(n,e,r,ec()),Qs(n,t,r)}}function Js(e,t,n){var r=tc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qs(e))Gs(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,n);if(a.hasEagerState=!0,a.eagerState=o,or(o,s)){var l=t.interleaved;return null===l?(a.next=a,Ii(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Li(e,t,a,r))&&(nc(n,e,r,a=ec()),Qs(n,t,r))}}function qs(e){var t=e.alternate;return e===ss||null!==t&&t===ss}function Gs(e,t){us=cs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qs(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,kt(e,n)}}var Ys={readContext:Pi,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},Xs={readContext:Pi,useCallback:function(e,t){return vs().memoizedState=[e,void 0===t?null:t],e},useContext:Pi,useEffect:As,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Is(4194308,4,Us.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Is(4194308,4,e,t)},useInsertionEffect:function(e,t){return Is(4,2,e,t)},useMemo:function(e,t){var n=vs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Vs.bind(null,ss,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vs().memoizedState=e},useState:Cs,useDebugValue:Ms,useDeferredValue:function(e){return vs().memoizedState=e},useTransition:function(){var e=Cs(!1),t=e[0];return e=Ws.bind(null,e[1]),vs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ss,a=vs();if(ai){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Cl)throw Error(i(349));0!==(30&is)||js(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,As(Es.bind(null,r,s,e),[e]),r.flags|=2048,Ps(9,_s.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vs(),t=Cl.identifierPrefix;if(ai){var n=Ya;t=":"+t+"R"+(n=(Qa&~(1<<32-st(Qa)-1)).toString(32)+n),0<(n=ds++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zs={readContext:Pi,useCallback:zs,useContext:Pi,useEffect:Rs,useImperativeHandle:Fs,useInsertionEffect:Ds,useLayoutEffect:$s,useMemo:Bs,useReducer:bs,useRef:Os,useState:function(){return bs(ys)},useDebugValue:Ms,useDeferredValue:function(e){return Hs(ks(),os.memoizedState,e)},useTransition:function(){return[bs(ys)[0],ks().memoizedState]},useMutableSource:xs,useSyncExternalStore:Ss,useId:Ks,unstable_isNewReconciler:!1},eo={readContext:Pi,useCallback:zs,useContext:Pi,useEffect:Rs,useImperativeHandle:Fs,useInsertionEffect:Ds,useLayoutEffect:$s,useMemo:Bs,useReducer:ws,useRef:Os,useState:function(){return ws(ys)},useDebugValue:Ms,useDeferredValue:function(e){var t=ks();return null===os?t.memoizedState=e:Hs(t,os.memoizedState,e)},useTransition:function(){return[ws(ys)[0],ks().memoizedState]},useMutableSource:xs,useSyncExternalStore:Ss,useId:Ks,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=$({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:$({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),i=Ui(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Fi(e,i,a))&&(nc(t,e,a,r),Mi(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),i=Ui(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Fi(e,i,a))&&(nc(t,e,a,r),Mi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),a=Ui(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Fi(e,a,r))&&(nc(t,e,r,n),Mi(t,e,r))}};function ao(e,t,n,r,a,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,i))}function io(e,t,n){var r=!1,a=Ta,i=t.contextType;return"object"===typeof i&&null!==i?i=Pi(i):(a=Ia(t)?Pa:Na.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oa(e,a):Ta),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function so(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Di(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=Pi(i):(i=Ia(t)?Pa:Na.current,a.context=Oa(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(no(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ro.enqueueReplaceState(a,a.state,null),Bi(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Ui(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Kl=r),uo(0,t)},n}function po(e,t,n){(n=Ui(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){uo(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Vl?Vl=new Set([this]):Vl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function go(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function mo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ui(-1,1)).tag=2,Fi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var ko=b.ReactCurrentOwner,yo=!1;function bo(e,t,n,r){t.child=null===e?wi(t,null,n,r):bi(t,e.child,n,r)}function wo(e,t,n,r,a){n=n.render;var i=t.ref;return Ci(t,a),r=gs(e,t,n,r,i,a),n=ms(),null===e||yo?(ai&&n&&ei(t),t.flags|=1,bo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Wo(e,t,a))}function xo(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Ic(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ac(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,So(e,t,i,r,a))}if(i=e.child,0===(e.lanes&a)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Wo(e,t,a)}return t.flags|=1,(e=Lc(i,r)).ref=t.ref,e.return=t,t.child=e}function So(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(yo=!1,t.pendingProps=r=i,0===(e.lanes&a))return t.lanes=e.lanes,Wo(e,t,a);0!==(131072&e.flags)&&(yo=!0)}}return Eo(e,t,n,r,a)}function jo(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ea(Ll,Il),Il|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ea(Ll,Il),Il|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Ea(Ll,Il),Il|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ea(Ll,Il),Il|=r;return bo(e,t,a,n),t.child}function _o(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Eo(e,t,n,r,a){var i=Ia(n)?Pa:Na.current;return i=Oa(t,i),Ci(t,a),n=gs(e,t,n,r,i,a),r=ms(),null===e||yo?(ai&&r&&ei(t),t.flags|=1,bo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Wo(e,t,a))}function To(e,t,n,r,a){if(Ia(n)){var i=!0;Da(t)}else i=!1;if(Ci(t,a),null===t.stateNode)Ho(e,t),io(t,n,r),oo(t,n,r,a),r=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Pi(c):c=Oa(t,c=Ia(n)?Pa:Na.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==r||l!==c)&&so(t,s,r,c),Ri=!1;var h=t.memoizedState;s.state=h,Bi(t,r,s,a),l=t.memoizedState,o!==r||h!==l||Ca.current||Ri?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=Ri||ao(t,n,o,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,$i(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Pi(l):l=Oa(t,l=Ia(n)?Pa:Na.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==d||h!==l)&&so(t,s,r,l),Ri=!1,h=t.memoizedState,s.state=h,Bi(t,r,s,a);var p=t.memoizedState;o!==d||h!==p||Ca.current||Ri?("function"===typeof f&&(no(t,n,f,r),p=t.memoizedState),(c=Ri||ao(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return No(e,t,n,r,i,a)}function No(e,t,n,r,a,i){_o(e,t);var s=0!==(128&t.flags);if(!r&&!s)return a&&$a(t,n,!1),Wo(e,t,i);r=t.stateNode,ko.current=t;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=bi(t,e.child,null,i),t.child=bi(t,null,o,i)):bo(e,t,o,i),t.memoizedState=r.state,a&&$a(t,n,!0),t.child}function Co(e){var t=e.stateNode;t.pendingContext?Aa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Aa(0,t.context,!1),Gi(e,t.containerInfo)}function Po(e,t,n,r,a){return fi(),pi(a),t.flags|=256,bo(e,t,n,r),t.child}var Oo,Io,Lo,Ao,Ro={dehydrated:null,treeContext:null,retryLane:0};function Do(e){return{baseLanes:e,cachePool:null,transitions:null}}function $o(e,t,n){var r,a=t.pendingProps,s=Zi.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ea(Zi,1&s),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Dc(l,a,0,null),e=Rc(e,a,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Do(n),t.memoizedState=Ro,e):Uo(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,a,s,o){if(n)return 256&t.flags?(t.flags&=-257,Fo(e,t,o,r=co(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,a=t.mode,r=Dc({mode:"visible",children:r.children},a,0,null),(s=Rc(s,a,o,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&bi(t,e.child,null,o),t.child.memoizedState=Do(o),t.memoizedState=Ro,s);if(0===(1&t.mode))return Fo(e,t,o,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Fo(e,t,o,r=co(s=Error(i(419)),r,void 0))}if(l=0!==(o&e.childLanes),yo||l){if(null!==(r=Cl)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|o))?0:a)&&a!==s.retryLane&&(s.retryLane=a,Ai(e,a),nc(r,e,a,-1))}return gc(),Fo(e,t,o,r=co(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,ri=ca(a.nextSibling),ni=t,ai=!0,ii=null,null!==e&&(Ja[qa++]=Qa,Ja[qa++]=Ya,Ja[qa++]=Ga,Qa=e.id,Ya=e.overflow,Ga=t),t=Uo(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,s,n);if(o){o=a.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==s?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Lc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?o=Lc(r,o):(o=Rc(o,l,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=null===(l=e.child.memoizedState)?Do(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Ro,a}return e=(o=e.child).sibling,a=Lc(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Uo(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fo(e,t,n,r){return null!==r&&pi(r),bi(t,e.child,null,n),(e=Uo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Mo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ni(e.return,t,n)}function zo(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Bo(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(bo(e,t,r.children,n),0!==(2&(r=Zi.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Mo(e,n,t);else if(19===e.tag)Mo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ea(Zi,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===es(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),zo(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===es(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}zo(t,!0,n,null,i);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Lc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ko(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Jo(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vo(t),null;case 1:case 17:return Ia(t.type)&&La(),Vo(t),null;case 3:return r=t.stateNode,Qi(),_a(Ca),_a(Na),ns(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(sc(ii),ii=null))),Io(e,t),Vo(t),null;case 5:Xi(t);var a=qi(Ji.current);if(n=t.type,null!==e&&null!=t.stateNode)Lo(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Vo(t),null}if(e=qi(Ki.current),di(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[ha]=t,r[fa]=s,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(a=0;a<Rr.length;a++)Fr(Rr[a],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Q(r,s),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Fr("invalid",r);break;case"textarea":ae(r,s),Fr("invalid",r)}for(var l in ke(n,s),a=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),a=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":V(r),Z(r,s,!0);break;case"textarea":V(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ha]=t,e[fa]=r,Oo(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),a=r;break;case"iframe":case"object":case"embed":Fr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Rr.length;a++)Fr(Rr[a],e);a=r;break;case"source":Fr("error",e),a=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),a=r;break;case"details":Fr("toggle",e),a=r;break;case"input":Q(e,r),a=G(e,r),Fr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=$({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Fr("invalid",e)}for(s in ke(n,a),c=a)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?me(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Fr("scroll",e):null!=u&&y(e,s,u,l))}switch(n){case"input":V(e),Z(e,r,!1);break;case"textarea":V(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Vo(t),null;case 6:if(e&&null!=t.stateNode)Ao(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=qi(Ji.current),qi(Ki.current),di(t)){if(r=t.stateNode,n=t.memoizedProps,r[ha]=t,(s=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ha]=t,t.stateNode=r}return Vo(t),null;case 13:if(_a(Zi),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))hi(),fi(),t.flags|=98560,s=!1;else if(s=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[ha]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vo(t),s=!1}else null!==ii&&(sc(ii),ii=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zi.current)?0===Al&&(Al=3):gc())),null!==t.updateQueue&&(t.flags|=4),Vo(t),null);case 4:return Qi(),Io(e,t),null===e&&Br(t.stateNode.containerInfo),Vo(t),null;case 10:return Ti(t.type._context),Vo(t),null;case 19:if(_a(Zi),null===(s=t.memoizedState))return Vo(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ko(s,!1);else{if(0!==Al||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=es(e))){for(t.flags|=128,Ko(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ea(Zi,1&Zi.current|2),t.child}e=e.sibling}null!==s.tail&&Ye()>Bl&&(t.flags|=128,r=!0,Ko(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=es(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ko(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ai)return Vo(t),null}else 2*Ye()-s.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Ko(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ye(),t.sibling=null,n=Zi.current,Ea(Zi,r?1&n|2:1&n),t):(Vo(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Il)&&(Vo(t),6&t.subtreeFlags&&(t.flags|=8192)):Vo(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function qo(e,t){switch(ti(t),t.tag){case 1:return Ia(t.type)&&La(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qi(),_a(Ca),_a(Na),ns(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xi(t),null;case 13:if(_a(Zi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _a(Zi),null;case 4:return Qi(),null;case 10:return Ti(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Oo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Io=function(){},Lo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,qi(Ki.current);var i,s=null;switch(n){case"input":a=G(e,a),r=G(e,r),s=[];break;case"select":a=$({},a,{value:void 0}),r=$({},r,{value:void 0}),s=[];break;case"textarea":a=re(e,a),r=re(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ke(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Ao=function(e,t,n,r){n!==r&&(t.flags|=4)};var Go=!1,Qo=!1,Yo="function"===typeof WeakSet?WeakSet:Set,Xo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){jc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){jc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&el(t,n,i)}a=a.next}while(a!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[fa],delete t[ga],delete t[ma],delete t[va])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,n)}catch(o){}switch(n.tag){case 5:Qo||Zo(n,t);case 6:var r=ul,a=dl;ul=null,hl(e,t,n),dl=a,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Bt(e)):la(ul,n.stateNode));break;case 4:r=ul,a=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=a;break;case 0:case 11:case 14:case 15:if(!Qo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var i=a,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&el(n,t,s),a=a.next}while(a!==r)}hl(e,t,n);break;case 1:if(!Qo&&(Zo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){jc(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qo=(r=Qo)||null!==n.memoizedState,hl(e,t,n),Qo=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yo),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));fl(s,o,a),ul=null,dl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){jc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(m){jc(e,e.return,m)}try{nl(5,e,e.return)}catch(m){jc(e,e.return,m)}}break;case 1:gl(t,e),vl(e),512&r&&null!==n&&Zo(n,n.return);break;case 5:if(gl(t,e),vl(e),512&r&&null!==n&&Zo(n,n.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(m){jc(e,e.return,m)}}if(4&r&&null!=(a=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Y(a,s),ye(l,o);var u=ye(l,s);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?me(a,h):"dangerouslySetInnerHTML"===d?de(a,h):"children"===d?he(a,h):y(a,d,h,u)}switch(l){case"input":X(a,s);break;case"textarea":ie(a,s);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(a,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(a,!!s.multiple,s.defaultValue,!0):ne(a,!!s.multiple,s.multiple?[]:"",!1))}a[fa]=s}catch(m){jc(e,e.return,m)}}break;case 6:if(gl(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(m){jc(e,e.return,m)}}break;case 3:if(gl(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){jc(e,e.return,m)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(a=e.child).flags&&(s=null!==a.memoizedState,a.stateNode.isHidden=s,!s||null!==a.alternate&&null!==a.alternate.memoizedState||(zl=Ye())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qo=(u=Qo)||d,gl(t,e),Qo=u):gl(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xo=e,d=e.child;null!==d;){for(h=Xo=d;null!==Xo;){switch(p=(f=Xo).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zo(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){jc(r,n,m)}}break;case 5:Zo(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==p?(p.return=f,Xo=p):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,u?"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",o))}catch(m){jc(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){jc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(he(a,""),r.flags&=-33),cl(e,ol(e),a);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,ol(e),s);break;default:throw Error(i(161))}}catch(o){jc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function kl(e,t,n){Xo=e,yl(e,t,n)}function yl(e,t,n){for(var r=0!==(1&e.mode);null!==Xo;){var a=Xo,i=a.child;if(22===a.tag&&r){var s=null!==a.memoizedState||Go;if(!s){var o=a.alternate,l=null!==o&&null!==o.memoizedState||Qo;o=Go;var c=Qo;if(Go=s,(Qo=l)&&!c)for(Xo=a;null!==Xo;)l=(s=Xo).child,22===s.tag&&null!==s.memoizedState?xl(a):null!==l?(l.return=s,Xo=l):xl(a);for(;null!==i;)Xo=i,yl(i,t,n),i=i.sibling;Xo=a,Go=o,Qo=c}bl(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,Xo=i):bl(e)}}function bl(e){for(;null!==Xo;){var t=Xo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qo)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Hi(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hi(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(i(163))}Qo||512&t.flags&&al(t)}catch(f){jc(t,t.return,f)}}if(t===e){Xo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xo=n;break}Xo=t.return}}function wl(e){for(;null!==Xo;){var t=Xo;if(t===e){Xo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xo=n;break}Xo=t.return}}function xl(e){for(;null!==Xo;){var t=Xo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){jc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){jc(t,a,l)}}var i=t.return;try{al(t)}catch(l){jc(t,i,l)}break;case 5:var s=t.return;try{al(t)}catch(l){jc(t,s,l)}}}catch(l){jc(t,t.return,l)}if(t===e){Xo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Xo=o;break}Xo=t.return}}var Sl,jl=Math.ceil,_l=b.ReactCurrentDispatcher,El=b.ReactCurrentOwner,Tl=b.ReactCurrentBatchConfig,Nl=0,Cl=null,Pl=null,Ol=0,Il=0,Ll=ja(0),Al=0,Rl=null,Dl=0,$l=0,Ul=0,Fl=null,Ml=null,zl=0,Bl=1/0,Hl=null,Wl=!1,Kl=null,Vl=null,Jl=!1,ql=null,Gl=0,Ql=0,Yl=null,Xl=-1,Zl=0;function ec(){return 0!==(6&Nl)?Ye():-1!==Xl?Xl:Xl=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==Ol?Ol&-Ol:null!==gi.transition?(0===Zl&&(Zl=gt()),Zl):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,r){if(50<Ql)throw Ql=0,Yl=null,Error(i(185));vt(e,n,r),0!==(2&Nl)&&e===Cl||(e===Cl&&(0===(2&Nl)&&($l|=n),4===Al&&oc(e,Ol)),rc(e,r),1===n&&0===Nl&&0===(1&t.mode)&&(Bl=Ye()+500,Fa&&Ba()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),o=1<<s,l=a[s];-1===l?0!==(o&n)&&0===(o&r)||(a[s]=ft(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var r=ht(e,e===Cl?Ol:0);if(0===r)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){Fa=!0,za(e)}(lc.bind(null,e)):za(lc.bind(null,e)),sa((function(){0===(6&Nl)&&Ba()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Xl=-1,Zl=0,0!==(6&Nl))throw Error(i(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Cl?Ol:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var a=Nl;Nl|=2;var s=pc();for(Cl===e&&Ol===t||(Hl=null,Bl=Ye()+500,hc(e,t));;)try{kc();break}catch(l){fc(e,l)}Ei(),_l.current=s,Nl=a,null!==Pl?t=0:(Cl=null,Ol=0,t=Al)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=ic(e,a))),1===t)throw n=Rl,hc(e,0),oc(e,r),rc(e,Ye()),n;if(6===t)oc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!or(i(),a))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=mc(e,r))&&(0!==(s=pt(e))&&(r=s,t=ic(e,s))),1===t))throw n=Rl,hc(e,0),oc(e,r),rc(e,Ye()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:wc(e,Ml,Hl);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=zl+500-Ye())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(wc.bind(null,e,Ml,Hl),t);break}wc(e,Ml,Hl);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-st(r);s=1<<o,(o=t[o])>a&&(a=o),r&=~s}if(r=a,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jl(r/1960))-r)){e.timeoutHandle=ra(wc.bind(null,e,Ml,Hl),r);break}wc(e,Ml,Hl);break;default:throw Error(i(329))}}}return rc(e,Ye()),e.callbackNode===n?ac.bind(null,e):null}function ic(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Ml,Ml=n,null!==t&&sc(t)),e}function sc(e){null===Ml?Ml=e:Ml.push.apply(Ml,e)}function oc(e,t){for(t&=~Ul,t&=~$l,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Nl))throw Error(i(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Rl,hc(e,0),oc(e,t),rc(e,Ye()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Ml,Hl),rc(e,Ye()),null}function cc(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(Bl=Ye()+500,Fa&&Ba())}}function uc(e){null!==ql&&0===ql.tag&&0===(6&Nl)&&xc();var t=Nl;Nl|=1;var n=Tl.transition,r=yt;try{if(Tl.transition=null,yt=1,e)return e()}finally{yt=r,Tl.transition=n,0===(6&(Nl=t))&&Ba()}}function dc(){Il=Ll.current,_a(Ll)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&La();break;case 3:Qi(),_a(Ca),_a(Na),ns();break;case 5:Xi(r);break;case 4:Qi();break;case 13:case 19:_a(Zi);break;case 10:Ti(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Cl=e,Pl=e=Lc(e.current,null),Ol=Il=t,Al=0,Rl=null,Ul=$l=Dl=0,Ml=Fl=null,null!==Oi){for(t=0;t<Oi.length;t++)if(null!==(r=(n=Oi[t]).interleaved)){n.interleaved=null;var a=r.next,i=n.pending;if(null!==i){var s=i.next;i.next=a,r.next=s}n.pending=r}Oi=null}return e}function fc(e,t){for(;;){var n=Pl;try{if(Ei(),rs.current=Ys,cs){for(var r=ss.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}cs=!1}if(is=0,ls=os=ss=null,us=!1,ds=0,El.current=null,null===n||null===n.return){Al=1,Rl=t,Pl=null;break}e:{var s=e,o=n.return,l=n,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=mo(o);if(null!==p){p.flags&=-257,vo(p,o,l,0,t),1&p.mode&&go(s,u,t),c=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){go(s,u,t),gc();break e}c=Error(i(426))}else if(ai&&1&l.mode){var v=mo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),pi(lo(c,l));break e}}s=c=lo(c,l),4!==Al&&(Al=2),null===Fl?Fl=[s]:Fl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,zi(s,fo(0,c,t));break e;case 1:l=c;var k=s.type,y=s.stateNode;if(0===(128&s.flags)&&("function"===typeof k.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Vl||!Vl.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t,zi(s,po(s,l,t));break e}}s=s.return}while(null!==s)}bc(n)}catch(b){t=b,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function pc(){var e=_l.current;return _l.current=Ys,null===e?Ys:e}function gc(){0!==Al&&3!==Al&&2!==Al||(Al=4),null===Cl||0===(268435455&Dl)&&0===(268435455&$l)||oc(Cl,Ol)}function mc(e,t){var n=Nl;Nl|=2;var r=pc();for(Cl===e&&Ol===t||(Hl=null,hc(e,t));;)try{vc();break}catch(a){fc(e,a)}if(Ei(),Nl=n,_l.current=r,null!==Pl)throw Error(i(261));return Cl=null,Ol=0,Al}function vc(){for(;null!==Pl;)yc(Pl)}function kc(){for(;null!==Pl&&!Ge();)yc(Pl)}function yc(e){var t=Sl(e.alternate,e,Il);e.memoizedProps=e.pendingProps,null===t?bc(e):Pl=t,El.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Jo(n,t,Il)))return void(Pl=n)}else{if(null!==(n=qo(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Al=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Al&&(Al=5)}function wc(e,t,n){var r=yt,a=Tl.transition;try{Tl.transition=null,yt=1,function(e,t,n,r){do{xc()}while(null!==ql);if(0!==(6&Nl))throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-st(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}(e,s),e===Cl&&(Pl=Cl=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Jl||(Jl=!0,Cc(tt,(function(){return xc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Tl.transition,Tl.transition=null;var o=yt;yt=1;var l=Nl;Nl|=4,El.current=null,function(e,t){if(ea=Wt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(w){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==a&&3!==h.nodeType||(l=o+a),h!==s||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=o),f===s&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Wt=!1,Xo=t;null!==Xo;)if(e=(t=Xo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xo=e;else for(;null!==Xo;){t=Xo;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,k=t.stateNode,y=k.getSnapshotBeforeUpdate(t.elementType===t.type?m:to(t.type,m),v);k.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(i(163))}}catch(w){jc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xo=e;break}Xo=t.return}g=tl,tl=!1}(e,n),ml(n,e),pr(ta),Wt=!!ea,ta=ea=null,e.current=n,kl(n,e,a),Qe(),Nl=l,yt=o,Tl.transition=s}else e.current=n;if(Jl&&(Jl=!1,ql=e,Gl=a),s=e.pendingLanes,0===s&&(Vl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Wl)throw Wl=!1,e=Kl,Kl=null,e;0!==(1&Gl)&&0!==e.tag&&xc(),s=e.pendingLanes,0!==(1&s)?e===Yl?Ql++:(Ql=0,Yl=e):Ql=0,Ba()}(e,t,n,r)}finally{Tl.transition=a,yt=r}return null}function xc(){if(null!==ql){var e=bt(Gl),t=Tl.transition,n=yt;try{if(Tl.transition=null,yt=16>e?16:e,null===ql)var r=!1;else{if(e=ql,ql=null,Gl=0,0!==(6&Nl))throw Error(i(331));var a=Nl;for(Nl|=4,Xo=e.current;null!==Xo;){var s=Xo,o=s.child;if(0!==(16&Xo.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xo=u;null!==Xo;){var d=Xo;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Xo=h;else for(;null!==Xo;){var f=(d=Xo).sibling,p=d.return;if(il(d),d===u){Xo=null;break}if(null!==f){f.return=p,Xo=f;break}Xo=p}}}var g=s.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Xo=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,Xo=o;else e:for(;null!==Xo;){if(0!==(2048&(s=Xo).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var k=s.sibling;if(null!==k){k.return=s.return,Xo=k;break e}Xo=s.return}}var y=e.current;for(Xo=y;null!==Xo;){var b=(o=Xo).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Xo=b;else e:for(o=y;null!==Xo;){if(0!==(2048&(l=Xo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(x){jc(l,l.return,x)}if(l===o){Xo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Xo=w;break e}Xo=l.return}}if(Nl=a,Ba(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(x){}r=!0}return r}finally{yt=n,Tl.transition=t}}return!1}function Sc(e,t,n){e=Fi(e,t=fo(0,t=lo(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function jc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Vl||!Vl.has(r))){t=Fi(t,e=po(t,e=lo(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Cl===e&&(Ol&n)===n&&(4===Al||3===Al&&(130023424&Ol)===Ol&&500>Ye()-zl?hc(e,0):Ul|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ai(e,t))&&(vt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Ec(e,n)}function Cc(e,t){return Je(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Pc(e,t,n,r)}function Ic(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ac(e,t,n,r,a,s){var o=2;if(r=e,"function"===typeof e)Ic(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case S:return Rc(n.children,a,s,t);case j:o=8,a|=8;break;case _:return(e=Oc(12,n,t,2|a)).elementType=_,e.lanes=s,e;case C:return(e=Oc(13,n,t,a)).elementType=C,e.lanes=s,e;case P:return(e=Oc(19,n,t,a)).elementType=P,e.lanes=s,e;case L:return Dc(n,a,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:o=10;break e;case T:o=9;break e;case N:o=11;break e;case O:o=14;break e;case I:o=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Oc(o,n,t,a)).elementType=e,t.type=r,t.lanes=s,t}function Rc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Dc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=L,e.lanes=n,e.stateNode={isHidden:!1},e}function $c(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Mc(e,t,n,r,a,i,s,o,l){return e=new Fc(e,t,n,o,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Oc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Di(i),e}function zc(e){if(!e)return Ta;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ia(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Ia(n))return Ra(e,n,t)}return t}function Bc(e,t,n,r,a,i,s,o,l){return(e=Mc(n,r,!0,e,0,i,0,o,l)).context=zc(null),n=e.current,(i=Ui(r=ec(),a=tc(n))).callback=void 0!==t&&null!==t?t:null,Fi(n,i,a),e.current.lanes=a,vt(e,a,r),rc(e,r),e}function Hc(e,t,n,r){var a=t.current,i=ec(),s=tc(a);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ui(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fi(a,t,s))&&(nc(e,a,s,i),Mi(e,a,s)),s}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ca.current)yo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return yo=!1,function(e,t,n){switch(t.tag){case 3:Co(t),fi();break;case 5:Yi(t);break;case 1:Ia(t.type)&&Da(t);break;case 4:Gi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ea(xi,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ea(Zi,1&Zi.current),t.flags|=128,null):0!==(n&t.child.childLanes)?$o(e,t,n):(Ea(Zi,1&Zi.current),null!==(e=Wo(e,t,n))?e.sibling:null);Ea(Zi,1&Zi.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bo(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ea(Zi,Zi.current),r)break;return null;case 22:case 23:return t.lanes=0,jo(e,t,n)}return Wo(e,t,n)}(e,t,n);yo=0!==(131072&e.flags)}else yo=!1,ai&&0!==(1048576&t.flags)&&Za(t,Va,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ho(e,t),e=t.pendingProps;var a=Oa(t,Na.current);Ci(t,n),a=gs(null,t,r,e,a,n);var s=ms();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ia(r)?(s=!0,Da(t)):s=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Di(t),a.updater=ro,t.stateNode=a,a._reactInternals=t,oo(t,r,e,n),t=No(null,t,r,!0,s,n)):(t.tag=0,ai&&s&&ei(t),bo(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Ic(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===O)return 14}return 2}(r),e=to(r,e),a){case 0:t=Eo(null,t,r,e,n);break e;case 1:t=To(null,t,r,e,n);break e;case 11:t=wo(null,t,r,e,n);break e;case 14:t=xo(null,t,r,to(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Eo(e,t,r,a=t.elementType===r?a:to(r,a),n);case 1:return r=t.type,a=t.pendingProps,To(e,t,r,a=t.elementType===r?a:to(r,a),n);case 3:e:{if(Co(t),null===e)throw Error(i(387));r=t.pendingProps,a=(s=t.memoizedState).element,$i(e,t),Bi(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Po(e,t,r,n,a=lo(Error(i(423)),t));break e}if(r!==a){t=Po(e,t,r,n,a=lo(Error(i(424)),t));break e}for(ri=ca(t.stateNode.containerInfo.firstChild),ni=t,ai=!0,ii=null,n=wi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===a){t=Wo(e,t,n);break e}bo(e,t,r,n)}t=t.child}return t;case 5:return Yi(t),null===e&&ci(t),r=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,o=a.children,na(r,a)?o=null:null!==s&&na(r,s)&&(t.flags|=32),_o(e,t),bo(e,t,o,n),t.child;case 6:return null===e&&ci(t),null;case 13:return $o(e,t,n);case 4:return Gi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bi(t,null,r,n):bo(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,wo(e,t,r,a=t.elementType===r?a:to(r,a),n);case 7:return bo(e,t,t.pendingProps,n),t.child;case 8:case 12:return bo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,Ea(xi,r._currentValue),r._currentValue=o,null!==s)if(or(s.value,o)){if(s.children===a.children&&!Ca.current){t=Wo(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Ui(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ni(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(i(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ni(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}bo(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ci(t,n),r=r(a=Pi(a)),t.flags|=1,bo(e,t,r,n),t.child;case 14:return a=to(r=t.type,t.pendingProps),xo(e,t,r,a=to(r.type,a),n);case 15:return So(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:to(r,a),Ho(e,t),t.tag=1,Ia(r)?(e=!0,Da(t)):e=!1,Ci(t,n),io(t,r,a),oo(t,r,a,n),No(null,t,r,!0,e,n);case 19:return Bo(e,t,n);case 22:return jo(e,t,n)}throw Error(i(156,t.tag))};var Jc="function"===typeof reportError?reportError:function(e){console.error(e)};function qc(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,r,a){var i=n._reactRootContainer;if(i){var s=i;if("function"===typeof a){var o=a;a=function(){var e=Wc(s);o.call(e)}}Hc(t,s,e,a)}else s=function(e,t,n,r,a){if(a){if("function"===typeof r){var i=r;r=function(){var e=Wc(s);i.call(e)}}var s=Bc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=s,e[pa]=s.current,Br(8===e.nodeType?e.parentNode:e),uc(),s}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var o=r;r=function(){var e=Wc(l);o.call(e)}}var l=Mc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[pa]=l.current,Br(8===e.nodeType?e.parentNode:e),uc((function(){Hc(t,l,n,r)})),l}(n,t,e,a,r);return Wc(s)}Gc.prototype.render=qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Hc(e,t,null,null)},Gc.prototype.unmount=qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Hc(null,e,null,null)})),t[pa]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=jt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&0!==t&&t<Lt[n].priority;n++);Lt.splice(n,0,e),0===n&&$t(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(kt(t,1|n),rc(t,Ye()),0===(6&Nl)&&(Bl=Ye()+500,Ba()))}break;case 13:uc((function(){var t=Ai(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Vc(e,1)}},xt=function(e){if(13===e.tag){var t=Ai(e,134217728);if(null!==t)nc(t,e,134217728,ec());Vc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Ai(e,t);if(null!==n)nc(n,e,t,ec());Vc(e,t)}},jt=function(){return yt},_t=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(i(90));J(r),X(r,a)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=cc,Ce=uc;var eu={usingClientEntryPoint:!1,Events:[ya,ba,wa,Ee,Te,cc]},tu={findFiberByHostInstance:ka,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{at=ru.inject(nu),it=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(i(299));var n=!1,r="",a=Jc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Mc(e,1,!1,null,0,n,0,r,a),e[pa]=t.current,Br(8===e.nodeType?e.parentNode:e),new qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(i(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,a=!1,s="",o=Jc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,a,0,s,o),e[pa]=t.current,Br(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Gc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(i(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pa]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},736:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(374));class i extends a.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map((e=>"string"===typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`)).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="";"plain"===r?a="pl":"phrase"===r?a="ph":"websearch"===r&&(a="w");const i=void 0===n?"":`(${n})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach((e=>{let[t,n]=e;this.url.searchParams.append(t,`eq.${n}`)})),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}}t.default=i},740:e=>{"use strict";e.exports=function(e,t,n,r,a,i,s,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,a,i,s,o],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},745:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;const r=n(400);t.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`}},829:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(736));t.default=class{constructor(e,t){let{headers:n={},schema:r,fetch:a}=t;this.url=e,this.headers=n,this.schema=r,this.fetch=a}select(e){let{head:t=!1,count:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t?"HEAD":"GET";let i=!1;const s=(null!==e&&void 0!==e?e:"*").split("").map((e=>/\s/.test(e)&&!i?"":('"'===e&&(i=!i),e))).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),new a.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),n||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=[`resolution=${n?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),i||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),this.headers.Prefer=n.join(","),new a.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new a.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},980:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const a=r(n(210));t.PostgrestClient=a.default;const i=r(n(829));t.PostgrestQueryBuilder=i.default;const s=r(n(736));t.PostgrestFilterBuilder=s.default;const o=r(n(374));t.PostgrestTransformBuilder=o.default;const l=r(n(286));t.PostgrestBuilder=l.default;const c=r(n(611));t.PostgrestError=c.default,t.default={PostgrestClient:a.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(i,s),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+"."+{198:"10b313bb",453:"36515fcc"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="nyskolen-posten:";n.l=(r,a,i,s)=>{if(e[r])e[r].push(a);else{var o,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+i),o.src=r),e[r]=[a];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var a=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/NyskolenPosten/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var i=new Promise(((n,r)=>a=e[t]=[n,r]));r.push(a[2]=i);var s=n.p+n.u(t),o=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",o.name="ChunkLoadError",o.type=i,o.request=s,a[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var a,i,s=r[0],o=r[1],l=r[2],c=0;if(s.some((t=>0!==e[t]))){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(l)l(n)}for(t&&t(r);c<s.length;c++)i=s[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunknyskolen_posten=self.webpackChunknyskolen_posten||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e,t=n(43),r=n.t(t,2),a=n(391),i=n(366),s=n.n(i),o=n(740),l=n.n(o),c=n(324),u=n.n(c),d=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(d||{}),h={rel:["amphtml","canonical","alternate"]},f={type:["application/ld+json"]},p={charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},g=Object.values(d),m={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},v=Object.entries(m).reduce(((e,t)=>{let[n,r]=t;return e[r]=n,e}),{}),k="data-rh",y="defaultTitle",b="defer",w="encodeSpecialCharacters",x="onChangeClientState",S="titleTemplate",j="prioritizeSeoTags",_=(e,t)=>{for(let n=e.length-1;n>=0;n-=1){const r=e[n];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},E=e=>{let t=_(e,"title");const n=_(e,S);if(Array.isArray(t)&&(t=t.join("")),n&&t)return n.replace(/%s/g,(()=>t));const r=_(e,y);return t||r||void 0},T=e=>_(e,x)||(()=>{}),N=(e,t)=>t.filter((t=>"undefined"!==typeof t[e])).map((t=>t[e])).reduce(((e,t)=>({...e,...t})),{}),C=(e,t)=>t.filter((e=>"undefined"!==typeof e.base)).map((e=>e.base)).reverse().reduce(((t,n)=>{if(!t.length){const r=Object.keys(n);for(let a=0;a<r.length;a+=1){const i=r[a].toLowerCase();if(-1!==e.indexOf(i)&&n[i])return t.concat(n)}}return t}),[]),P=(e,t,n)=>{const r={};return n.filter((t=>{return!!Array.isArray(t[e])||("undefined"!==typeof t[e]&&(n=`Helmet: ${e} should be of type "Array". Instead found type "${typeof t[e]}"`,console&&"function"===typeof console.warn&&console.warn(n)),!1);var n})).map((t=>t[e])).reverse().reduce(((e,n)=>{const a={};n.filter((e=>{let n;const i=Object.keys(e);for(let r=0;r<i.length;r+=1){const a=i[r],s=a.toLowerCase();-1===t.indexOf(s)||"rel"===n&&"canonical"===e[n].toLowerCase()||"rel"===s&&"stylesheet"===e[s].toLowerCase()||(n=s),-1===t.indexOf(a)||"innerHTML"!==a&&"cssText"!==a&&"itemprop"!==a||(n=a)}if(!n||!e[n])return!1;const s=e[n].toLowerCase();return r[n]||(r[n]={}),a[n]||(a[n]={}),!r[n][s]&&(a[n][s]=!0,!0)})).reverse().forEach((t=>e.push(t)));const i=Object.keys(a);for(let t=0;t<i.length;t+=1){const e=i[t],n={...r[e],...a[e]};r[e]=n}return e}),[]).reverse()},O=(e,t)=>{if(Array.isArray(e)&&e.length)for(let n=0;n<e.length;n+=1){if(e[n][t])return!0}return!1},I=e=>Array.isArray(e)?e.join(""):e,L=(e,t)=>Array.isArray(e)?e.reduce(((e,n)=>(((e,t)=>{const n=Object.keys(e);for(let r=0;r<n.length;r+=1)if(t[n[r]]&&t[n[r]].includes(e[n[r]]))return!0;return!1})(n,t)?e.priority.push(n):e.default.push(n),e)),{priority:[],default:[]}):{default:e,priority:[]},A=(e,t)=>({...e,[t]:void 0}),R=["noscript","script","style"],D=function(e){return!1===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},$=e=>Object.keys(e).reduce(((t,n)=>{const r="undefined"!==typeof e[n]?`${n}="${e[n]}"`:`${n}`;return t?`${t} ${r}`:r}),""),U=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce(((t,n)=>(t[m[n]||n]=e[n],t)),t)},F=(e,n)=>n.map(((n,r)=>{const a={key:r,[k]:!0};return Object.keys(n).forEach((e=>{const t=m[e]||e;if("innerHTML"===t||"cssText"===t){const e=n.innerHTML||n.cssText;a.dangerouslySetInnerHTML={__html:e}}else a[t]=n[e]})),t.createElement(e,a)})),M=function(e,n){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];switch(e){case"title":return{toComponent:()=>((e,n,r)=>{const a=U(r,{key:n,[k]:!0});return[t.createElement("title",a,n)]})(0,n.title,n.titleAttributes),toString:()=>((e,t,n,r)=>{const a=$(n),i=I(t);return a?`<${e} ${k}="true" ${a}>${D(i,r)}</${e}>`:`<${e} ${k}="true">${D(i,r)}</${e}>`})(e,n.title,n.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>U(n),toString:()=>$(n)};default:return{toComponent:()=>F(e,n),toString:()=>function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t.reduce(((t,r)=>{const a=r,i=Object.keys(a).filter((e=>!("innerHTML"===e||"cssText"===e))).reduce(((e,t)=>{const r="undefined"===typeof a[t]?t:`${t}="${D(a[t],n)}"`;return e?`${e} ${r}`:r}),""),s=a.innerHTML||a.cssText||"",o=-1===R.indexOf(e);return`${t}<${e} ${k}="true" ${i}${o?"/>":`>${s}</${e}>`}`}),"")}(e,n,r)}}},z=e=>{const{baseTag:t,bodyAttributes:n,encode:r=!0,htmlAttributes:a,noscriptTags:i,styleTags:s,title:o="",titleAttributes:l,prioritizeSeoTags:c}=e;let{linkTags:u,metaTags:d,scriptTags:g}=e,m={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:m,linkTags:u,metaTags:d,scriptTags:g}=(e=>{let{metaTags:t,linkTags:n,scriptTags:r,encode:a}=e;const i=L(t,p),s=L(n,h),o=L(r,f);return{priorityMethods:{toComponent:()=>[...F("meta",i.priority),...F("link",s.priority),...F("script",o.priority)],toString:()=>`${M("meta",i.priority,a)} ${M("link",s.priority,a)} ${M("script",o.priority,a)}`},metaTags:i.default,linkTags:s.default,scriptTags:o.default}})(e)),{priority:m,base:M("base",t,r),bodyAttributes:M("bodyAttributes",n,r),htmlAttributes:M("htmlAttributes",a,r),link:M("link",u,r),meta:M("meta",d,r),noscript:M("noscript",i,r),script:M("script",g,r),style:M("style",s,r),title:M("title",{title:o,titleAttributes:l},r)}},B=[],H=!("undefined"===typeof window||!window.document||!window.document.createElement),W=class{instances=[];canUseDOM=(()=>H)();context;value={setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?B:this.instances,add:e=>{(this.canUseDOM?B:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?B:this.instances).indexOf(e);(this.canUseDOM?B:this.instances).splice(t,1)}}};constructor(e,t){this.context=e,this.canUseDOM=t||!1,t||(e.helmet=z({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},K=t.createContext({}),V=class e extends t.Component{static canUseDOM=(()=>H)();helmetData;constructor(t){super(t),this.helmetData=new W(this.props.context||{},e.canUseDOM)}render(){return t.createElement(K.Provider,{value:this.helmetData.value},this.props.children)}},J=(e,t)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${e}[${k}]`),a=[].slice.call(r),i=[];let s;return t&&t.length&&t.forEach((t=>{const n=document.createElement(e);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))if("innerHTML"===e)n.innerHTML=t.innerHTML;else if("cssText"===e)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{const r=e,a="undefined"===typeof t[r]?"":t[r];n.setAttribute(e,a)}n.setAttribute(k,"true"),a.some(((e,t)=>(s=t,n.isEqualNode(e))))?a.splice(s,1):i.push(n)})),a.forEach((e=>e.parentNode?.removeChild(e))),i.forEach((e=>n.appendChild(e))),{oldTags:a,newTags:i}},q=(e,t)=>{const n=document.getElementsByTagName(e)[0];if(!n)return;const r=n.getAttribute(k),a=r?r.split(","):[],i=[...a],s=Object.keys(t);for(const o of s){const e=t[o]||"";n.getAttribute(o)!==e&&n.setAttribute(o,e),-1===a.indexOf(o)&&a.push(o);const r=i.indexOf(o);-1!==r&&i.splice(r,1)}for(let o=i.length-1;o>=0;o-=1)n.removeAttribute(i[o]);a.length===i.length?n.removeAttribute(k):n.getAttribute(k)!==s.join(",")&&n.setAttribute(k,s.join(","))},G=(e,t)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:a,linkTags:i,metaTags:s,noscriptTags:o,onChangeClientState:l,scriptTags:c,styleTags:u,title:d,titleAttributes:h}=e;q("body",r),q("html",a),((e,t)=>{"undefined"!==typeof e&&document.title!==e&&(document.title=I(e)),q("title",t)})(d,h);const f={baseTag:J("base",n),linkTags:J("link",i),metaTags:J("meta",s),noscriptTags:J("noscript",o),scriptTags:J("script",c),styleTags:J("style",u)},p={},g={};Object.keys(f).forEach((e=>{const{newTags:t,oldTags:n}=f[e];t.length&&(p[e]=t),n.length&&(g[e]=f[e].oldTags)})),t&&t(),l(e,p,g)},Q=null,Y=e=>{Q&&cancelAnimationFrame(Q),e.defer?Q=requestAnimationFrame((()=>{G(e,(()=>{Q=null}))})):(G(e),Q=null)},X=class extends t.Component{rendered=!1;shouldComponentUpdate(e){return!u()(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let n=null;const r=(a=e.get().map((e=>{const t={...e.props};return delete t.context,t})),{baseTag:C(["href"],a),bodyAttributes:N("bodyAttributes",a),defer:_(a,b),encode:_(a,w),htmlAttributes:N("htmlAttributes",a),linkTags:P("link",["rel","href"],a),metaTags:P("meta",["name","charset","http-equiv","property","itemprop"],a),noscriptTags:P("noscript",["innerHTML"],a),onChangeClientState:T(a),scriptTags:P("script",["src","innerHTML"],a),styleTags:P("style",["cssText"],a),title:E(a),titleAttributes:N("titleAttributes",a),prioritizeSeoTags:O(a,j)});var a;V.canUseDOM?Y(r):z&&(n=z(r)),t(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Z=class extends t.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(e){return!s()(A(this.props,"helmetData"),A(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,n,r){return{...t,[e.type]:[...t[e.type]||[],{...n,...this.mapNestedChildrenToProps(e,r)}]}}mapObjectTypeChildren(e,t,n,r){switch(e.type){case"title":return{...t,[e.type]:r,titleAttributes:{...n}};case"body":return{...t,bodyAttributes:{...n}};case"html":return{...t,htmlAttributes:{...n}};default:return{...t,[e.type]:{...n}}}}mapArrayTypeChildrenToProps(e,t){let n={...t};return Object.keys(e).forEach((t=>{n={...n,[t]:e[t]}})),n}warnOnInvalidChildren(e,t){return l()(g.some((t=>e.type===t)),"function"===typeof e.type?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${g.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),l()(!t||"string"===typeof t||Array.isArray(t)&&!t.some((e=>"string"!==typeof e)),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,n){let r={};return t.Children.forEach(e,(e=>{if(!e||!e.props)return;const{children:t,...a}=e.props,i=Object.keys(a).reduce(((e,t)=>(e[v[t]||t]=a[t],e)),{});let{type:s}=e;switch("symbol"===typeof s?s=s.toString():this.warnOnInvalidChildren(e,t),s){case"Symbol(react.fragment)":n=this.mapChildrenToProps(t,n);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(e,r,i,t);break;default:n=this.mapObjectTypeChildren(e,n,i,t)}})),this.mapArrayTypeChildrenToProps(r,n)}render(){const{children:e,...n}=this.props;let r={...n},{helmetData:a}=n;if(e&&(r=this.mapChildrenToProps(e,r)),a&&!(a instanceof W)){a=new W(a.context,!0),delete r.helmetData}return a?t.createElement(X,{...r,context:a.value}):t.createElement(K.Consumer,null,(e=>t.createElement(X,{...r,context:e})))}};function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ee.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const te="popstate";function ne(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function re(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Za){}}}function ae(e,t){return{usr:e.state,key:e.key,idx:t}}function ie(e,t,n,r){return void 0===n&&(n=null),ee({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?oe(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function se(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function oe(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function le(t,n,r,a){void 0===a&&(a={});let{window:i=document.defaultView,v5Compat:s=!1}=a,o=i.history,l=e.Pop,c=null,u=d();function d(){return(o.state||{idx:null}).idx}function h(){l=e.Pop;let t=d(),n=null==t?null:t-u;u=t,c&&c({action:l,location:p.location,delta:n})}function f(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:se(e);return n=n.replace(/ $/,"%20"),ne(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==u&&(u=0,o.replaceState(ee({},o.state,{idx:u}),""));let p={get action(){return l},get location(){return t(i,o)},listen(e){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(te,h),c=e,()=>{i.removeEventListener(te,h),c=null}},createHref:e=>n(i,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){l=e.Push;let a=ie(p.location,t,n);r&&r(a,t),u=d()+1;let h=ae(a,u),f=p.createHref(a);try{o.pushState(h,"",f)}catch(g){if(g instanceof DOMException&&"DataCloneError"===g.name)throw g;i.location.assign(f)}s&&c&&c({action:l,location:p.location,delta:1})},replace:function(t,n){l=e.Replace;let a=ie(p.location,t,n);r&&r(a,t),u=d();let i=ae(a,u),h=p.createHref(a);o.replaceState(i,"",h),s&&c&&c({action:l,location:p.location,delta:0})},go:e=>o.go(e)};return p}var ce;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(ce||(ce={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function ue(e,t,n){return void 0===n&&(n="/"),de(e,t,n,!1)}function de(e,t,n,r){let a=_e(("string"===typeof t?oe(t):t).pathname||"/",n);if(null==a)return null;let i=he(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o){let e=je(a);s=xe(i[o],e,r)}return s}function he(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,i)=>{let s={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};s.relativePath.startsWith("/")&&(ne(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let o=Pe([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(ne(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),he(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:we(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of fe(e.path))a(e,t,r);else a(e,t)})),t}function fe(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return a?[i,""]:[i];let s=fe(r.join("/")),o=[];return o.push(...s.map((e=>""===e?i:[i,e].join("/")))),a&&o.push(...s),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const pe=/^:[\w-]+$/,ge=3,me=2,ve=1,ke=10,ye=-2,be=e=>"*"===e;function we(e,t){let n=e.split("/"),r=n.length;return n.some(be)&&(r+=ye),t&&(r+=me),n.filter((e=>!be(e))).reduce(((e,t)=>e+(pe.test(t)?ge:""===t?ve:ke)),r)}function xe(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,a={},i="/",s=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=Se({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=Se({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),s.push({params:a,pathname:Pe([i,u.pathname]),pathnameBase:Oe(Pe([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=Pe([i,u.pathnameBase]))}return s}function Se(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);re("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let i=new RegExp(a,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=o[n]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:i,pathnameBase:s,pattern:e}}function je(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return re(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function _e(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Ee(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Te(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function Ne(e,t){let n=Te(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function Ce(e,t,n,r){let a;void 0===r&&(r=!1),"string"===typeof e?a=oe(e):(a=ee({},e),ne(!a.pathname||!a.pathname.includes("?"),Ee("?","pathname","search",a)),ne(!a.pathname||!a.pathname.includes("#"),Ee("#","pathname","hash",a)),ne(!a.search||!a.search.includes("#"),Ee("#","search","hash",a)));let i,s=""===e||""===a.pathname,o=s?"/":a.pathname;if(null==o)i=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:a=""}="string"===typeof e?oe(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:Ie(r),hash:Le(a)}}(a,i),c=o&&"/"!==o&&o.endsWith("/"),u=(s||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const Pe=e=>e.join("/").replace(/\/\/+/g,"/"),Oe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ie=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Le=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function Ae(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const Re=["post","put","patch","delete"],De=(new Set(Re),["get",...Re]);new Set(De),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function $e(){return $e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$e.apply(this,arguments)}const Ue=t.createContext(null);const Fe=t.createContext(null);const Me=t.createContext(null);const ze=t.createContext(null);const Be=t.createContext({outlet:null,matches:[],isDataRoute:!1});const He=t.createContext(null);function We(){return null!=t.useContext(ze)}function Ke(){return We()||ne(!1),t.useContext(ze).location}function Ve(e){t.useContext(Me).static||t.useLayoutEffect(e)}function Je(){let{isDataRoute:e}=t.useContext(Be);return e?function(){let{router:e}=rt(tt.UseNavigateStable),n=it(nt.UseNavigateStable),r=t.useRef(!1);return Ve((()=>{r.current=!0})),t.useCallback((function(t,a){void 0===a&&(a={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,$e({fromRouteId:n},a)))}),[e,n])}():function(){We()||ne(!1);let e=t.useContext(Ue),{basename:n,future:r,navigator:a}=t.useContext(Me),{matches:i}=t.useContext(Be),{pathname:s}=Ke(),o=JSON.stringify(Ne(i,r.v7_relativeSplatPath)),l=t.useRef(!1);return Ve((()=>{l.current=!0})),t.useCallback((function(t,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof t)return void a.go(t);let i=Ce(t,JSON.parse(o),s,"path"===r.relative);null==e&&"/"!==n&&(i.pathname="/"===i.pathname?n:Pe([n,i.pathname])),(r.replace?a.replace:a.push)(i,r.state,r)}),[n,a,o,s,e])}()}function qe(e,n){let{relative:r}=void 0===n?{}:n,{future:a}=t.useContext(Me),{matches:i}=t.useContext(Be),{pathname:s}=Ke(),o=JSON.stringify(Ne(i,a.v7_relativeSplatPath));return t.useMemo((()=>Ce(e,JSON.parse(o),s,"path"===r)),[e,o,s,r])}function Ge(n,r,a,i){We()||ne(!1);let{navigator:s,static:o}=t.useContext(Me),{matches:l}=t.useContext(Be),c=l[l.length-1],u=c?c.params:{},d=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let h,f=Ke();if(r){var p;let e="string"===typeof r?oe(r):r;"/"===d||(null==(p=e.pathname)?void 0:p.startsWith(d))||ne(!1),h=e}else h=f;let g=h.pathname||"/",m=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=!o&&a&&a.matches&&a.matches.length>0?a.matches:ue(n,{pathname:m});let k=et(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:Pe([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:Pe([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,a,i);return r&&k?t.createElement(ze.Provider,{value:{location:$e({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:e.Pop}},k):k}function Qe(){let e=function(){var e;let n=t.useContext(He),r=at(nt.UseRouteError),a=it(nt.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[a]}(),n=Ae(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:i},r):null,null)}const Ye=t.createElement(Qe,null);class Xe extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(Be.Provider,{value:this.props.routeContext},t.createElement(He.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ze(e){let{routeContext:n,match:r,children:a}=e,i=t.useContext(Ue);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(Be.Provider,{value:n},a)}function et(e,n,r,a){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===a&&(a=null),null==e){var s;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(s=a)&&s.v7_partialHydration&&0===n.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let o=e,l=null==(i=r)?void 0:i.errors;if(null!=l){let e=o.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||ne(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(r&&a&&a.v7_partialHydration)for(let t=0;t<o.length;t++){let e=o[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=t),e.route.id){let{loaderData:t,errors:n}=r,a=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||a){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight(((e,a,i)=>{let s,d=!1,h=null,f=null;var p;r&&(s=l&&a.route.id?l[a.route.id]:void 0,h=a.route.errorElement||Ye,c&&(u<0&&0===i?(p="route-fallback",!1||st[p]||(st[p]=!0),d=!0,f=null):u===i&&(d=!0,f=a.route.hydrateFallbackElement||null)));let g=n.concat(o.slice(0,i+1)),m=()=>{let n;return n=s?h:d?f:a.route.Component?t.createElement(a.route.Component,null):a.route.element?a.route.element:e,t.createElement(Ze,{match:a,routeContext:{outlet:e,matches:g,isDataRoute:null!=r},children:n})};return r&&(a.route.ErrorBoundary||a.route.errorElement||0===i)?t.createElement(Xe,{location:r.location,revalidation:r.revalidation,component:h,error:s,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()}),null)}var tt=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(tt||{}),nt=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(nt||{});function rt(e){let n=t.useContext(Ue);return n||ne(!1),n}function at(e){let n=t.useContext(Fe);return n||ne(!1),n}function it(e){let n=function(){let e=t.useContext(Be);return e||ne(!1),e}(),r=n.matches[n.matches.length-1];return r.route.id||ne(!1),r.route.id}const st={};function ot(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}r.startTransition;function lt(e){let{to:n,replace:r,state:a,relative:i}=e;We()||ne(!1);let{future:s,static:o}=t.useContext(Me),{matches:l}=t.useContext(Be),{pathname:c}=Ke(),u=Je(),d=Ce(n,Ne(l,s.v7_relativeSplatPath),c,"path"===i),h=JSON.stringify(d);return t.useEffect((()=>u(JSON.parse(h),{replace:r,state:a,relative:i})),[u,h,i,r,a]),null}function ct(e){ne(!1)}function ut(n){let{basename:r="/",children:a=null,location:i,navigationType:s=e.Pop,navigator:o,static:l=!1,future:c}=n;We()&&ne(!1);let u=r.replace(/^\/*/,"/"),d=t.useMemo((()=>({basename:u,navigator:o,static:l,future:$e({v7_relativeSplatPath:!1},c)})),[u,c,o,l]);"string"===typeof i&&(i=oe(i));let{pathname:h="/",search:f="",hash:p="",state:g=null,key:m="default"}=i,v=t.useMemo((()=>{let e=_e(h,u);return null==e?null:{location:{pathname:e,search:f,hash:p,state:g,key:m},navigationType:s}}),[u,h,f,p,g,m,s]);return null==v?null:t.createElement(Me.Provider,{value:d},t.createElement(ze.Provider,{children:a,value:v}))}function dt(e){let{children:t,location:n}=e;return Ge(ht(t),n)}new Promise((()=>{}));t.Component;function ht(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,a)=>{if(!t.isValidElement(e))return;let i=[...n,a];if(e.type===t.Fragment)return void r.push.apply(r,ht(e.props.children,i));e.type!==ct&&ne(!1),e.props.index&&e.props.children&&ne(!1);let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=ht(e.props.children,i)),r.push(s)})),r}var ft=n(950),pt=n.t(ft,2);function gt(){return gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gt.apply(this,arguments)}function mt(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const vt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Za){}new Map;const kt=r.startTransition;pt.flushSync,r.useId;function yt(e){let{basename:n,children:r,future:a,window:i}=e,s=t.useRef();var o;null==s.current&&(s.current=(void 0===(o={window:i,v5Compat:!0})&&(o={}),le((function(e,t){let{pathname:n,search:r,hash:a}=e.location;return ie("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:se(t)}),null,o)));let l=s.current,[c,u]=t.useState({action:l.action,location:l.location}),{v7_startTransition:d}=a||{},h=t.useCallback((e=>{d&&kt?kt((()=>u(e))):u(e)}),[u,d]);return t.useLayoutEffect((()=>l.listen(h)),[l,h]),t.useEffect((()=>ot(a)),[a]),t.createElement(ut,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:a})}const bt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,wt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xt=t.forwardRef((function(e,n){let r,{onClick:a,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,f=mt(e,vt),{basename:p}=t.useContext(Me),g=!1;if("string"===typeof u&&wt.test(u)&&(r=u,bt))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=_e(t.pathname,p);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:g=!0}catch(Za){}let m=function(e,n){let{relative:r}=void 0===n?{}:n;We()||ne(!1);let{basename:a,navigator:i}=t.useContext(Me),{hash:s,pathname:o,search:l}=qe(e,{relative:r}),c=o;return"/"!==a&&(c="/"===o?a:Pe([a,o])),i.createHref({pathname:c,search:l,hash:s})}(u,{relative:i}),v=function(e,n){let{target:r,replace:a,state:i,preventScrollReset:s,relative:o,viewTransition:l}=void 0===n?{}:n,c=Je(),u=Ke(),d=qe(e,{relative:o});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==a?a:se(u)===se(d);c(e,{replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:l})}}),[u,c,d,a,i,r,e,s,o,l])}(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:h});return t.createElement("a",gt({},f,{href:r||m,onClick:g||s?a:function(e){a&&a(e),e.defaultPrevented||v(e)},ref:n,target:c}))}));var St,jt;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(St||(St={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(jt||(jt={}));class _t extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class Et extends _t{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Tt extends _t{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Nt extends _t{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ct;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(Ct||(Ct={}));var Pt=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function s(e){try{l(r.next(e))}catch(Za){i(Za)}}function o(e){try{l(r.throw(e))}catch(Za){i(Za)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};class Ot{constructor(e){let{headers:t={},customFetch:r,region:a=Ct.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=a,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}})(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return Pt(this,void 0,void 0,(function*(){try{const{headers:r,method:a,body:i}=t;let s,o={},{region:l}=t;l||(l=this.region),l&&"any"!==l&&(o["x-region"]=l),i&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!==typeof Blob&&i instanceof Blob||i instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",s=i):"string"===typeof i?(o["Content-Type"]="text/plain",s=i):"undefined"!==typeof FormData&&i instanceof FormData?s=i:(o["Content-Type"]="application/json",s=JSON.stringify(i)));const c=yield this.fetch(`${this.url}/${e}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),r),body:s}).catch((e=>{throw new Et(e)})),u=c.headers.get("x-relay-error");if(u&&"true"===u)throw new Tt(c);if(!c.ok)throw new Nt(c);let d,h=(null!==(n=c.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return d="application/json"===h?yield c.json():"application/octet-stream"===h?yield c.blob():"text/event-stream"===h?c:"multipart/form-data"===h?yield c.formData():yield c.text(),{data:d,error:null}}catch(r){return{data:null,error:r}}}))}}var It=n(980);const{PostgrestClient:Lt,PostgrestQueryBuilder:At,PostgrestFilterBuilder:Rt,PostgrestTransformBuilder:Dt,PostgrestBuilder:$t,PostgrestError:Ut}=It,Ft={"X-Client-Info":"realtime-js/2.11.2"};var Mt,zt,Bt,Ht,Wt,Kt;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(Mt||(Mt={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(zt||(zt={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(Bt||(Bt={})),function(e){e.websocket="websocket"}(Ht||(Ht={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(Wt||(Wt={}));class Vt{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),a=t.getUint8(2);let i=this.HEADER_LENGTH+2;const s=n.decode(e.slice(i,i+r));i+=r;const o=n.decode(e.slice(i,i+a));i+=a;return{ref:null,topic:s,event:o,payload:JSON.parse(n.decode(e.slice(i,e.byteLength)))}}}class Jt{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(Kt||(Kt={}));const qt=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce(((n,a)=>(n[a]=Gt(a,e,t,r),n)),{})},Gt=(e,t,n,r)=>{const a=t.find((t=>t.name===e)),i=null===a||void 0===a?void 0:a.type,s=n[e];return i&&!r.includes(i)?Qt(i,s):Yt(s)},Qt=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return tn(t,n)}switch(e){case Kt.bool:return Xt(t);case Kt.float4:case Kt.float8:case Kt.int2:case Kt.int4:case Kt.int8:case Kt.numeric:case Kt.oid:return Zt(t);case Kt.json:case Kt.jsonb:return en(t);case Kt.timestamp:return nn(t);case Kt.abstime:case Kt.date:case Kt.daterange:case Kt.int4range:case Kt.int8range:case Kt.money:case Kt.reltime:case Kt.text:case Kt.time:case Kt.timestamptz:case Kt.timetz:case Kt.tsrange:case Kt.tstzrange:default:return Yt(t)}},Yt=e=>e,Xt=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Zt=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},en=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},tn=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const i=e.slice(1,n);try{r=JSON.parse("["+i+"]")}catch(a){r=i?i.split(","):[]}return r.map((e=>Qt(t,e)))}return e},nn=e=>"string"===typeof e?e.replace(" ","T"):e,rn=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class an{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter((e=>e.status===t)).forEach((e=>e.callback(n)))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var sn,on,ln,cn;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(sn||(sn={}));class un{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},(e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=un.syncState(this.state,e,t,n),this.pendingDiffs.forEach((e=>{this.state=un.syncDiff(this.state,e,t,n)})),this.pendingDiffs=[],r()})),this.channel._on(n.diff,{},(e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=un.syncDiff(this.state,e,t,n),r())})),this.onJoin(((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})})),this.onLeave(((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})})),this.onSync((()=>{this.channel._trigger("presence",{event:"sync"})}))}static syncState(e,t,n,r){const a=this.cloneDeep(e),i=this.transformState(t),s={},o={};return this.map(a,((e,t)=>{i[e]||(o[e]=t)})),this.map(i,((e,t)=>{const n=a[e];if(n){const r=t.map((e=>e.presence_ref)),a=n.map((e=>e.presence_ref)),i=t.filter((e=>a.indexOf(e.presence_ref)<0)),l=n.filter((e=>r.indexOf(e.presence_ref)<0));i.length>0&&(s[e]=i),l.length>0&&(o[e]=l)}else s[e]=t})),this.syncDiff(a,{joins:s,leaves:o},n,r)}static syncDiff(e,t,n,r){const{joins:a,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(a,((t,r)=>{var a;const i=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(r),i.length>0){const n=e[t].map((e=>e.presence_ref)),r=i.filter((e=>n.indexOf(e.presence_ref)<0));e[t].unshift(...r)}n(t,i,r)})),this.map(i,((t,n)=>{let a=e[t];if(!a)return;const i=n.map((e=>e.presence_ref));a=a.filter((e=>i.indexOf(e.presence_ref)<0)),e[t]=a,r(t,a,n),0===a.length&&delete e[t]})),e}static map(e,t){return Object.getOwnPropertyNames(e).map((n=>t(n,e[n])))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce(((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map((e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e))):r,t}),{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(on||(on={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(ln||(ln={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(cn||(cn={}));class dn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=zt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new an(this,Bt.join,this.params,this.timeout),this.rejoinTimer=new Jt((()=>this._rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=zt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((e=>e.send())),this.pushBuffer=[]})),this._onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=zt.closed,this.socket._remove(this)})),this._onError((e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())})),this._on(Bt.reply,{},((e,t)=>{this._trigger(this._replyEventName(t),e)})),this.presence=new un(this),this.broadcastEndpointURL=rn(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:i,private:s}}=this.params;this._onError((t=>null===e||void 0===e?void 0:e(cn.CHANNEL_ERROR,t))),this._onClose((()=>null===e||void 0===e?void 0:e(cn.CLOSED)));const o={},l={broadcast:a,presence:i,postgres_changes:null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map((e=>e.filter)))&&void 0!==r?r:[],private:s};this.socket.accessTokenValue&&(o.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},o)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",(async t=>{let{postgres_changes:n}=t;var r;if(this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,a=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,i=[];for(let r=0;r<a;r++){const a=t[r],{filter:{event:s,schema:o,table:l,filter:c}}=a,u=n&&n[r];if(!u||u.event!==s||u.schema!==o||u.table!==l||u.filter!==c)return this.unsubscribe(),void(null===e||void 0===e||e(cn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));i.push(Object.assign(Object.assign({},a),{id:u.id}))}return this.bindings.postgres_changes=i,void(e&&e(cn.SUBSCRIBED))}null===e||void 0===e||e(cn.SUBSCRIBED)})).receive("error",(t=>{null===e||void 0===e||e(cn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))})).receive("timeout",(()=>{null===e||void 0===e||e(cn.TIMED_OUT)}))}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise((n=>{var r,a,i;const s=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(i=null===(a=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===a?void 0:a.broadcast)||void 0===i?void 0:i.ack)||n("ok"),s.receive("ok",(()=>n("ok"))),s.receive("error",(()=>n("error"))),s.receive("timeout",(()=>n("timed out")))}));{const{event:i,payload:s}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=zt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Bt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise((n=>{const r=new an(this,Bt.leave,{},e);r.receive("ok",(()=>{t(),n("ok")})).receive("timeout",(()=>{t(),n("timed out")})).receive("error",(()=>{n("error")})),r.send(),this._canPush()||r.trigger("ok",{})}))}async _fetchWithTimeout(e,t,n){const r=new AbortController,a=setTimeout((()=>r.abort()),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(a),i}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new an(this,e,t,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,a;const i=e.toLocaleLowerCase(),{close:s,error:o,leave:l,join:c}=Bt;if(n&&[s,o,l,c].indexOf(i)>=0&&n!==this._joinRef())return;let u=this._onMessage(i,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter((e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===i})).map((e=>e.callback(u,n))):null===(a=this.bindings[i])||void 0===a||a.filter((e=>{var n,r,a,s,o,l;if(["broadcast","presence","postgres_changes"].includes(i)){if("id"in e){const i=e.id,s=null===(n=e.filter)||void 0===n?void 0:n.event;return i&&(null===(r=t.ids)||void 0===r?void 0:r.includes(i))&&("*"===s||(null===s||void 0===s?void 0:s.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const n=null===(o=null===(s=null===e||void 0===e?void 0:e.filter)||void 0===s?void 0:s.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===i})).map((e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:a,errors:i}=e,s={schema:t,table:n,commit_timestamp:r,eventType:a,new:{},old:{},errors:i};u=Object.assign(Object.assign({},s),this._getPayloadRecords(e))}e.callback(u,n)}))}_isClosed(){return this.state===zt.closed}_isJoined(){return this.state===zt.joined}_isJoining(){return this.state===zt.joining}_isLeaving(){return this.state===zt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const r=e.toLocaleLowerCase(),a={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(a):this.bindings[r]=[a],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter((e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&dn.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Bt.close,{},e)}_onError(e){this._on(Bt.error,{},(t=>e(t)))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=zt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=qt(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=qt(e.columns,e.old_record)),t}}const hn=()=>{},fn="undefined"!==typeof WebSocket;class pn{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Ft,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=hn,this.conn=null,this.sendBuffer=[],this.serializer=new Vt,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}},this.endPoint=`${e}/${Ht.websocket}`,this.httpEndpoint=rn(e),(null===t||void 0===t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null===t||void 0===t?void 0:t.params)&&(this.params=t.params),(null===t||void 0===t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null===t||void 0===t?void 0:t.timeout)&&(this.timeout=t.timeout),(null===t||void 0===t?void 0:t.logger)&&(this.logger=t.logger),(null===t||void 0===t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const a=null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=(null===t||void 0===t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null===t||void 0===t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null===t||void 0===t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Jt((async()=>{this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch),null===t||void 0===t?void 0:t.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null===t||void 0===t?void 0:t.worker)||!1,this.workerUrl=null===t||void 0===t?void 0:t.workerUrl}this.accessToken=(null===t||void 0===t?void 0:t.accessToken)||null}connect(){if(!this.conn)if(this.transport)this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});else{if(fn)return this.conn=new WebSocket(this.endpointURL()),void this.setupConnection();this.conn=new gn(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),n.e(198).then(n.t.bind(n,198,23)).then((e=>{let{default:t}=e;this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()}))}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map((e=>e.unsubscribe())));return this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Mt.connecting:return Wt.Connecting;case Mt.open:return Wt.Open;case Mt.closing:return Wt.Closing;default:return Wt.Closed}}isConnected(){return this.connectionState()===Wt.Open}channel(e){const t=new dn(`realtime:${e}`,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},this);return this.channels.push(t),t}push(e){const{topic:t,event:n,payload:r,ref:a}=e,i=()=>{this.encode(e,(e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)}))};this.log("push",`${t} ${n} (${a})`,r),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(e){let n=null;try{n=JSON.parse(atob(e.split(".")[1]))}catch(t){}if(n&&n.exp){if(!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`)}this.accessTokenValue=e,this.channels.forEach((t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(Bt.access_token,{access_token:e})}))}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((e=>e())),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find((t=>t.topic===e&&(t._isJoined()||t._isJoining())));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter((t=>t._joinRef()!==e._joinRef()))}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,(e=>{let{topic:t,event:n,payload:r,ref:a}=e;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${t} ${n} ${a&&"("+a+")"||""}`,r),this.channels.filter((e=>e._isMember(t))).forEach((e=>e._trigger(n,r,a))),this.stateChangeCallbacks.message.forEach((t=>t(e)))}))}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}else this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this.sendHeartbeat()),this.heartbeatIntervalMs);this.stateChangeCallbacks.open.forEach((e=>e()))}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((t=>t(e)))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((t=>t(e)))}_triggerChanError(){this.channels.forEach((e=>e._trigger(Bt.error)))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?";return`${e}${n}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}}class gn{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Mt.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class mn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function vn(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class kn extends mn{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class yn extends mn{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var bn=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function s(e){try{l(r.next(e))}catch(Za){i(Za)}}function o(e){try{l(r.throw(e))}catch(Za){i(Za)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};const wn=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}},xn=e=>{if(Array.isArray(e))return e.map((e=>xn(e)));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach((e=>{let[n,r]=e;const a=n.replace(/([-_][a-z])/gi,(e=>e.toUpperCase().replace(/[-_]/g,"")));t[a]=xn(r)})),t};var Sn=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function s(e){try{l(r.next(e))}catch(Za){i(Za)}}function o(e){try{l(r.throw(e))}catch(Za){i(Za)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};const jn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_n=(e,t,r)=>Sn(void 0,void 0,void 0,(function*(){const a=yield bn(void 0,void 0,void 0,(function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(n.bind(n,630))).Response:Response}));e instanceof a&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then((n=>{t(new kn(jn(n),e.status||500))})).catch((e=>{t(new yn(jn(e),e))})):t(new yn(jn(e),e))}));function En(e,t,n,r,a,i){return Sn(this,void 0,void 0,(function*(){return new Promise(((s,o)=>{e(n,((e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),r&&(a.body=JSON.stringify(r)),Object.assign(Object.assign({},a),n))})(t,r,a,i)).then((e=>{if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?e:e.json()})).then((e=>s(e))).catch((e=>_n(e,o,r)))}))}))}function Tn(e,t,n,r){return Sn(this,void 0,void 0,(function*(){return En(e,"GET",t,n,r)}))}function Nn(e,t,n,r,a){return Sn(this,void 0,void 0,(function*(){return En(e,"POST",t,r,a,n)}))}function Cn(e,t,n,r,a){return Sn(this,void 0,void 0,(function*(){return En(e,"DELETE",t,r,a,n)}))}var Pn=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function s(e){try{l(r.next(e))}catch(Za){i(Za)}}function o(e){try{l(r.throw(e))}catch(Za){i(Za)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};const On={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},In={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ln{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=n,this.fetch=wn(r)}uploadOrUpdate(e,t,n,r){return Pn(this,void 0,void 0,(function*(){try{let a;const i=Object.assign(Object.assign({},In),r);let s=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(i.upsert)});const o=i.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),o&&a.append("metadata",this.encodeMetadata(o)),a.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(a=n,a.append("cacheControl",i.cacheControl),o&&a.append("metadata",this.encodeMetadata(o))):(a=n,s["cache-control"]=`max-age=${i.cacheControl}`,s["content-type"]=i.contentType,o&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),(null===r||void 0===r?void 0:r.headers)&&(s=Object.assign(Object.assign({},s),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:a,headers:s},(null===i||void 0===i?void 0:i.duplex)?{duplex:i.duplex}:{})),d=yield u.json();if(u.ok)return{data:{path:l,id:d.Id,fullPath:d.Key},error:null};return{data:null,error:d}}catch(a){if(vn(a))return{data:null,error:a};throw a}}))}upload(e,t,n){return Pn(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",e,t,n)}))}uploadToSignedUrl(e,t,n,r){return Pn(this,void 0,void 0,(function*(){const a=this._removeEmptyFolders(e),i=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${i}`);s.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:In.upsert},r),i=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,i["cache-control"]=`max-age=${t.cacheControl}`,i["content-type"]=t.contentType);const o=yield this.fetch(s.toString(),{method:"PUT",body:e,headers:i}),l=yield o.json();if(o.ok)return{data:{path:a,fullPath:l.Key},error:null};return{data:null,error:l}}catch(o){if(vn(o))return{data:null,error:o};throw o}}))}createSignedUploadUrl(e,t){return Pn(this,void 0,void 0,(function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(r["x-upsert"]="true");const a=yield Nn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),i=new URL(this.url+a.url),s=i.searchParams.get("token");if(!s)throw new mn("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:s},error:null}}catch(n){if(vn(n))return{data:null,error:n};throw n}}))}update(e,t,n){return Pn(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",e,t,n)}))}move(e,t,n){return Pn(this,void 0,void 0,(function*(){try{return{data:yield Nn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(vn(r))return{data:null,error:r};throw r}}))}copy(e,t,n){return Pn(this,void 0,void 0,(function*(){try{return{data:{path:(yield Nn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(vn(r))return{data:null,error:r};throw r}}))}createSignedUrl(e,t,n){return Pn(this,void 0,void 0,(function*(){try{let r=this._getFinalPath(e),a=yield Nn(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const i=(null===n||void 0===n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(r){if(vn(r))return{data:null,error:r};throw r}}))}createSignedUrls(e,t,n){return Pn(this,void 0,void 0,(function*(){try{const r=yield Nn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=(null===n||void 0===n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:r.map((e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${a}`):null}))),error:null}}catch(r){if(vn(r))return{data:null,error:r};throw r}}))}download(e,t){return Pn(this,void 0,void 0,(function*(){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),a=r?`?${r}`:"";try{const t=this._getFinalPath(e),r=yield Tn(this.fetch,`${this.url}/${n}/${t}${a}`,{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(i){if(vn(i))return{data:null,error:i};throw i}}))}info(e){return Pn(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{const e=yield Tn(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:xn(e),error:null}}catch(n){if(vn(n))return{data:null,error:n};throw n}}))}exists(e){return Pn(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return Sn(this,void 0,void 0,(function*(){return En(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)}))}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(vn(n)&&n instanceof yn){const e=n.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:n}}throw n}}))}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],a=(null===t||void 0===t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==a&&r.push(a);const i="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",s=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==s&&r.push(s);let o=r.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${o}`)}}}remove(e){return Pn(this,void 0,void 0,(function*(){try{return{data:yield Cn(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(vn(t))return{data:null,error:t};throw t}}))}list(e,t,n){return Pn(this,void 0,void 0,(function*(){try{const r=Object.assign(Object.assign(Object.assign({},On),t),{prefix:e||""});return{data:yield Nn(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(vn(r))return{data:null,error:r};throw r}}))}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const An={"X-Client-Info":"storage-js/2.7.1"};var Rn=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function s(e){try{l(r.next(e))}catch(Za){i(Za)}}function o(e){try{l(r.throw(e))}catch(Za){i(Za)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};class Dn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this.url=e,this.headers=Object.assign(Object.assign({},An),t),this.fetch=wn(n)}listBuckets(){return Rn(this,void 0,void 0,(function*(){try{return{data:yield Tn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(vn(e))return{data:null,error:e};throw e}}))}getBucket(e){return Rn(this,void 0,void 0,(function*(){try{return{data:yield Tn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(vn(t))return{data:null,error:t};throw t}}))}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return Rn(this,void 0,void 0,(function*(){try{return{data:yield Nn(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(vn(n))return{data:null,error:n};throw n}}))}updateBucket(e,t){return Rn(this,void 0,void 0,(function*(){try{const n=yield function(e,t,n,r,a){return Sn(this,void 0,void 0,(function*(){return En(e,"PUT",t,r,a,n)}))}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:n,error:null}}catch(n){if(vn(n))return{data:null,error:n};throw n}}))}emptyBucket(e){return Rn(this,void 0,void 0,(function*(){try{return{data:yield Nn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(vn(t))return{data:null,error:t};throw t}}))}deleteBucket(e){return Rn(this,void 0,void 0,(function*(){try{return{data:yield Cn(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(vn(t))return{data:null,error:t};throw t}}))}}class $n extends Dn{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0)}from(e){return new Ln(this.url,this.headers,e,this.fetch)}}let Un="";Un="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Fn={headers:{"X-Client-Info":`supabase-js-${Un}/2.49.8`}},Mn={schema:"public"},zn={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Bn={};var Hn=n(630),Wn=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function s(e){try{l(r.next(e))}catch(Za){i(Za)}}function o(e){try{l(r.throw(e))}catch(Za){i(Za)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};const Kn=e=>{let t;return t=e||("undefined"===typeof fetch?Hn.default:fetch),function(){return t(...arguments)}},Vn=(e,t,n)=>{const r=Kn(n),a="undefined"===typeof Headers?Hn.Headers:Headers;return(n,i)=>Wn(void 0,void 0,void 0,(function*(){var s;const o=null!==(s=yield t())&&void 0!==s?s:e;let l=new a(null===i||void 0===i?void 0:i.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),r(n,Object.assign(Object.assign({},i),{headers:l}))}))};var Jn=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function s(e){try{l(r.next(e))}catch(Za){i(Za)}}function o(e){try{l(r.throw(e))}catch(Za){i(Za)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};const qn="2.69.1",Gn=3e4,Qn=9e4,Yn={"X-Client-Info":`gotrue-js/${qn}`},Xn="X-Supabase-Api-Version",Zn={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},er=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class tr extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function nr(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class rr extends tr{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class ar extends tr{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class ir extends tr{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class sr extends ir{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class or extends ir{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class lr extends ir{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class cr extends ir{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ur extends ir{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dr extends ir{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function hr(e){return nr(e)&&"AuthRetryableFetchError"===e.name}class fr extends ir{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class pr extends ir{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const gr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),mr=" \t\n\r=".split(""),vr=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<mr.length;t+=1)e[mr[t].charCodeAt(0)]=-2;for(let t=0;t<gr.length;t+=1)e[gr[t].charCodeAt(0)]=t;return e})();function kr(e,t,n){const r=vr[e];if(!(r>-1)){if(-2===r)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function yr(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let s=0;s<e.length;s+=1)kr(e.charCodeAt(s),a,i);return t.join("")}function br(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function wr(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}br(r,t)}}function xr(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)kr(e.charCodeAt(a),n,r);return new Uint8Array(t)}const Sr=()=>"undefined"!==typeof window&&"undefined"!==typeof document,jr={tested:!1,writable:!1},_r=()=>{if(!Sr())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(Za){return!1}if(jr.tested)return jr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),jr.tested=!0,jr.writable=!0}catch(Za){jr.tested=!0,jr.writable=!1}return jr.writable};const Er=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}},Tr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Nr=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},Cr=async(e,t)=>{await e.removeItem(t)};class Pr{constructor(){this.promise=new Pr.promiseConstructor(((e,t)=>{this.resolve=e,this.reject=t}))}}function Or(e){const t=e.split(".");if(3!==t.length)throw new pr("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!er.test(t[n]))throw new pr("JWT not in base64url format");return{header:JSON.parse(yr(t[0])),payload:JSON.parse(yr(t[1])),signature:xr(t[2]),raw:{header:t[0],payload:t[1]}}}function Ir(e){return("0"+e.toString(16)).substr(-2)}async function Lr(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map((e=>String.fromCharCode(e))).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ar(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,Ir).join("")}();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await Tr(e,`${t}-code-verifier`,a);const i=await Lr(r);return[i,r===i?"plain":"s256"]}Pr.promiseConstructor=Promise;const Rr=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;var Dr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const $r=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ur=[502,503,504];async function Fr(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new dr($r(e),0);if(Ur.includes(e.status))throw new dr($r(e),e.status);let r,a;try{r=await e.json()}catch(Za){throw new ar($r(Za),Za)}const i=function(e){const t=e.headers.get(Xn);if(!t)return null;if(!t.match(Rr))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(Za){return null}}(e);if(i&&i.getTime()>=Zn.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?a=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(a=r.error_code),a){if("weak_password"===a)throw new fr($r(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new sr}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce(((e,t)=>e&&"string"===typeof t),!0))throw new fr($r(r),e.status,r.weak_password.reasons);throw new rr($r(r),e.status||500,a)}async function Mr(e,t,n,r){var a;const i=Object.assign({},null===r||void 0===r?void 0:r.headers);i[Xn]||(i[Xn]=Zn.name),(null===r||void 0===r?void 0:r.jwt)&&(i.Authorization=`Bearer ${r.jwt}`);const s=null!==(a=null===r||void 0===r?void 0:r.query)&&void 0!==a?a:{};(null===r||void 0===r?void 0:r.redirectTo)&&(s.redirect_to=r.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await async function(e,t,n,r,a,i){const s=((e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))})(t,r,a,i);let o;try{o=await e(n,Object.assign({},s))}catch(Za){throw console.error(Za),new dr($r(Za),0)}o.ok||await Fr(o);if(null===r||void 0===r?void 0:r.noResolveJson)return o;try{return await o.json()}catch(Za){await Fr(Za)}}(e,t,n+o,{headers:i,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function zr(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Br(e){const t=zr(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce(((e,t)=>e&&"string"===typeof t),!0)&&(t.data.weak_password=e.weak_password),t}function Hr(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Wr(e){return{data:e,error:null}}function Kr(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i}=e,s=Dr(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i},user:Object.assign({},s)},error:null}}function Vr(e){return e}var Jr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};class qr{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=Er(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";try{return await Mr(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(nr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await Mr(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Hr})}catch(n){if(nr(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=Jr(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await Mr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Kr,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(nr(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Mr(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Hr})}catch(t){if(nr(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,a,i,s,o;try{const l={nextPage:null,lastPage:0,total:0},c=await Mr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(a=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==a?a:""},xform:Vr});if(c.error)throw c.error;const u=await c.json(),d=null!==(i=c.headers.get("x-total-count"))&&void 0!==i?i:0,h=null!==(o=null===(s=c.headers.get("link"))||void 0===s?void 0:s.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach((e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l[`${n}Page`]=t})),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(nr(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){try{return await Mr(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Hr})}catch(t){if(nr(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await Mr(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Hr})}catch(n){if(nr(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{return await Mr(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Hr})}catch(n){if(nr(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:t,error:n}=await Mr(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(nr(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await Mr(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(nr(t))return{data:null,error:t};throw t}}}const Gr={getItem:e=>_r()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{_r()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{_r()&&globalThis.localStorage.removeItem(e)}};function Qr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Yr=!!(globalThis&&_r()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Xr extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Zr extends Xr{}async function ea(e,t,n){Yr&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout((()=>{r.abort(),Yr&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)}),t),await Promise.resolve().then((()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},(async r=>{if(!r){if(0===t)throw Yr&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Zr(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Yr)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(Za){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",Za)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}Yr&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{Yr&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(Za){"undefined"!==typeof self&&(self.globalThis=self)}}();const ta={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Yn,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function na(e,t,n){return await n()}class ra{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ra.nextInstanceID,ra.nextInstanceID+=1,this.instanceID>0&&Sr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},ta),e);if(this.logDebugMessages=!!r.debug,"function"===typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new qr({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Er(r.fetch),this.lock=r.lock||na,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Sr()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=ea:this.lock=na,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:_r()?this.storage=Gr:(this.memoryStorage={},this.storage=Qr(this.memoryStorage)):(this.memoryStorage={},this.storage=Qr(this.memoryStorage)),Sr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(Za){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",Za)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",(async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}))}this.initialize()}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger(`GoTrueClient@${this.instanceID} (${qn}) ${(new Date).toISOString()}`,...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,(async()=>await this._initialize())))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach(((e,n)=>{t[n]=e}))}catch(Za){}return n.searchParams.forEach(((e,n)=>{t[n]=e})),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),Sr()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:a}=await this._getSessionFromURL(t,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return nr(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:s}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",s),await this._saveSession(i),setTimeout((async()=>{"recovery"===s?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)}),0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return nr(t)?{error:t}:{error:new ar("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const a=await Mr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:zr}),{data:i,error:s}=a;if(s||!i)return{data:{user:null,session:null},error:s};const o=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(nr(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,n,r;try{let a;if("email"in e){const{email:n,password:r,options:i}=e;let s=null,o=null;"pkce"===this.flowType&&([s,o]=await Ar(this.storage,this.storageKey)),a=await Mr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null===i||void 0===i?void 0:i.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===i||void 0===i?void 0:i.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken},code_challenge:s,code_challenge_method:o},xform:zr})}else{if(!("phone"in e))throw new lr("You must provide either an email or phone number and a password");{const{phone:t,password:i,options:s}=e;a=await Mr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:i,data:null!==(n=null===s||void 0===s?void 0:s.data)&&void 0!==n?n:{},channel:null!==(r=null===s||void 0===s?void 0:s.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:zr})}}const{data:i,error:s}=a;if(s||!i)return{data:{user:null,session:null},error:s};const o=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(nr(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:a}=e;t=await Mr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:Br})}else{if(!("phone"in e))throw new lr("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:a}=e;t=await Mr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:Br})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new or}}catch(t){if(nr(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,(async()=>this._exchangeCodeForSession(e)))}async _exchangeCodeForSession(e){const t=await Nr(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:a}=await Mr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:zr});if(await Cr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:a}):{data:{user:null,session:null,redirectType:null},error:new or}}catch(a){if(nr(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:a,nonce:i}=e,s=await Mr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:zr}),{data:o,error:l}=s;return l?{data:{user:null,session:null},error:l}:o&&o.session&&o.user?(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:l}):{data:{user:null,session:null},error:new or}}catch(t){if(nr(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,a,i;try{if("email"in e){const{email:r,options:a}=e;let i=null,s=null;"pkce"===this.flowType&&([i,s]=await Ar(this.storage,this.storageKey));const{error:o}=await Mr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(n=null===a||void 0===a?void 0:a.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:i,code_challenge_method:s},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:t,options:n}=e,{data:s,error:o}=await Mr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(a=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(i=null===n||void 0===n?void 0:n.channel)&&void 0!==i?i:"sms"}});return{data:{user:null,session:null,messageId:null===s||void 0===s?void 0:s.message_id},error:o}}throw new lr("You must provide either an email or phone number.")}catch(s){if(nr(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(e){var t,n;try{let r,a;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:i,error:s}=await Mr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:r,xform:zr});if(s)throw s;if(!i)throw new Error("An error occurred on token verification.");const o=i.session,l=i.user;return(null===o||void 0===o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(r){if(nr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let a=null,i=null;return"pkce"===this.flowType&&([a,i]=await Ar(this.storage,this.storageKey)),await Mr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:Wr})}catch(a){if(nr(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._reauthenticate()))}async _reauthenticate(){try{return await this._useSession((async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new sr;const{error:r}=await Mr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}}))}catch(e){if(nr(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:a}=e,{error:i}=await Mr(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in e){const{phone:n,type:r,options:a}=e,{data:i,error:s}=await Mr(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:s}}throw new lr("You must provide either an email or phone number and a type")}catch(t){if(nr(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,(async()=>this._useSession((async e=>e))))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(Za){}})()),n}return await this.lock(`lock:${this.storageKey}`,e,(async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(Za){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Nr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<Qn;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,(async()=>await this._getUser()))}async _getUser(e){try{return e?await Mr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Hr}):await this._useSession((async e=>{var t,n,r;const{data:a,error:i}=e;if(i)throw i;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Mr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:Hr}):{data:{user:null},error:new sr}}))}catch(t){if(nr(t))return function(e){return nr(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await Cr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._updateUser(e,t)))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession((async n=>{const{data:r,error:a}=n;if(a)throw a;if(!r.session)throw new sr;const i=r.session;let s=null,o=null;"pkce"===this.flowType&&null!=e.email&&([s,o]=await Ar(this.storage,this.storageKey));const{data:l,error:c}=await Mr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:o}),jwt:i.access_token,xform:Hr});if(c)throw c;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}}))}catch(n){if(nr(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._setSession(e)))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new sr;const t=Date.now()/1e3;let n=t,r=!0,a=null;const{payload:i}=Or(e.access_token);if(i.exp&&(n=i.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:r,error:i}=await this._getUser(e.access_token);if(i)throw i;a={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(nr(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._refreshSession(e)))}async _refreshSession(e){try{return await this._useSession((async t=>{var n;if(!e){const{data:r,error:a}=t;if(a)throw a;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new sr;const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(nr(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Sr())throw new cr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new cr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new ur("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new cr("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ur("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:a,refresh_token:i,expires_in:s,expires_at:o,token_type:l}=e;if(!a||!s||!i||!l)throw new cr("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(s);let d=c+u;o&&(d=parseInt(o));const h=d-c;1e3*h<=Gn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${u}s`);const f=d-u;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,c);const{data:p,error:g}=await this._getUser(a);if(g)throw g;const m={provider_token:n,provider_refresh_token:r,access_token:a,expires_in:u,expires_at:d,refresh_token:i,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(n){if(nr(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Nr(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._signOut(e)))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession((async t=>{var n;const{data:r,error:a}=t;if(a)return{error:a};const i=null===(n=r.session)||void 0===n?void 0:n.access_token;if(i){const{error:t}=await this.admin.signOut(i,e);if(t&&(!function(e){return nr(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await Cr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,(async()=>{this._emitInitialSession(t)}))})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession((async t=>{var n,r;try{const{data:{session:r},error:a}=t;if(a)throw a;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(a){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}}))}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await Ar(this.storage,this.storageKey,!0));try{return await Mr(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(nr(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(nr(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession((async t=>{var n,r,a,i,s;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await Mr(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(s=null===(i=o.session)||void 0===i?void 0:i.access_token)&&void 0!==s?s:void 0})}));if(r)throw r;return Sr()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),{data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null}}catch(n){if(nr(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession((async t=>{var n,r;const{data:a,error:i}=t;if(i)throw i;return await Mr(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})}))}catch(t){if(nr(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await function(e,t){const n=new Promise(((n,r)=>{(async()=>{for(let a=0;a<1/0;a++)try{const r=await e(a);if(!t(a,null,r))return void n(r)}catch(Za){if(!t(a,Za))return void r(Za)}})()}));return n}((async n=>(n>0&&await async function(e){return await new Promise((t=>{setTimeout((()=>t(null)),e)}))}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await Mr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:zr}))),((e,t)=>{const r=200*Math.pow(2,e);return t&&hr(t)&&Date.now()+r-n<Gn}))}catch(n){if(this._debug(t,"error",n),nr(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Sr()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await Nr(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n))return this._debug(t,"session is not valid"),void(null!==n&&await this._removeSession());const r=1e3*(null!==(e=n.expires_at)&&void 0!==e?e:1/0)-Date.now()<Qn;if(this._debug(t,`session has${r?"":" not"} expired with margin of 90000s`),r){if(this.autoRefreshToken&&n.refresh_token){const{error:e}=await this._callRefreshToken(n.refresh_token);e&&(console.error(e),hr(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){return this._debug(t,"error",n),void console.error(n)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new sr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Pr;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new sr;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(a){if(this._debug(r,"error",a),nr(a)){const e={session:null,error:a};return hr(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],a=Array.from(this.stateChangeEmitters.values()).map((async n=>{try{await n.callback(e,t)}catch(Za){r.push(Za)}}));if(await Promise.all(a),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Tr(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Cr(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Sr()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(Za){console.error("removing visibilitychange callback failed",Za)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval((()=>this._autoRefreshTokenTick()),Gn);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout((async()=>{await this.initializePromise,await this._autoRefreshTokenTick()}),0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,(async()=>{try{const e=Date.now();try{return await this._useSession((async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-e)/Gn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(n.refresh_token)}))}catch(Za){console.error("Auto refresh tick failed with error. This is likely a transient error.",Za)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(Za){if(!(Za.isAcquireTimeout||Za instanceof Xr))throw Za;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Sr()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,(async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=[`provider=${encodeURIComponent(t)}`];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),(null===n||void 0===n?void 0:n.scopes)&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),"pkce"===this.flowType){const[e,t]=await Ar(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession((async t=>{var n;const{data:r,error:a}=t;return a?{data:null,error:a}:await Mr(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(t){if(nr(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession((async t=>{var n,r;const{data:a,error:i}=t;if(i)return{data:null,error:i};const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:o,error:l}=await Mr(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:null===(n=null===a||void 0===a?void 0:a.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null===o||void 0===o?void 0:o.totp)||void 0===r?void 0:r.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})}))}catch(t){if(nr(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:r,error:a}=t;if(a)return{data:null,error:a};const{data:i,error:s}=await Mr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:s})}))}catch(t){if(nr(t))return{data:null,error:t};throw t}}))}async _challenge(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:r,error:a}=t;return a?{data:null,error:a}:await Mr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(t){if(nr(t))return{data:null,error:t};throw t}}))}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null===e||void 0===e?void 0:e.factors)||[],r=n.filter((e=>"totp"===e.factor_type&&"verified"===e.status)),a=n.filter((e=>"phone"===e.factor_type&&"verified"===e.status));return{data:{all:n,totp:r,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,(async()=>await this._useSession((async e=>{var t,n;const{data:{session:r},error:a}=e;if(a)return{data:null,error:a};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Or(r.access_token);let s=null;i.aal&&(s=i.aal);let o=s;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter((e=>"verified"===e.status)))&&void 0!==n?n:[]).length>0&&(o="aal2");return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:i.amr||[]},error:null}}))))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find((t=>t.kid===e));if(t)return t;if(t=this.jwks.keys.find((t=>t.kid===e)),t&&this.jwks_cached_at+6e5>Date.now())return t;const{data:n,error:r}=await Mr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(r)throw r;if(!n.keys||0===n.keys.length)throw new pr("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),t=n.keys.find((t=>t.kid===e)),!t)throw new pr("No matching signing key found in JWKS");return t}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:r,payload:a,signature:i,raw:{header:s,payload:o}}=Or(n);if(function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp),!r.kid||"HS256"===r.alg||!("crypto"in globalThis)||!("subtle"in globalThis.crypto)){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:a,header:r,signature:i},error:null}}const l=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),c=await this.fetchJwk(r.kid,t),u=await crypto.subtle.importKey("jwk",c,l,!0,["verify"]);if(!await crypto.subtle.verify(l,u,i,function(e){const t=[];return wr(e,(e=>t.push(e))),new Uint8Array(t)}(`${s}.${o}`)))throw new pr("Invalid JWT signature");return{data:{claims:a,header:r,signature:i},error:null}}catch(n){if(nr(n))return{data:null,error:n};throw n}}}ra.nextInstanceID=0;const aa=ra;class ia extends aa{constructor(e){super(e)}}var sa=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function s(e){try{l(r.next(e))}catch(Za){i(Za)}}function o(e){try{l(r.throw(e))}catch(Za){i(Za)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};class oa{constructor(e,t,n){var r,a,i;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const s=(o=e).endsWith("/")?o:o+"/";var o;const l=new URL(s);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u=function(e,t){var n,r;const{db:a,auth:i,realtime:s,global:o}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),s),global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},null!==(n=null===d||void 0===d?void 0:d.headers)&&void 0!==n?n:{}),null!==(r=null===o||void 0===o?void 0:o.headers)&&void 0!==r?r:{})}),accessToken:()=>Jn(this,void 0,void 0,(function*(){return""}))};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==n&&void 0!==n?n:{},{db:Mn,realtime:Bn,auth:Object.assign(Object.assign({},zn),{storageKey:c}),global:Fn});this.storageKey=null!==(r=u.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(a=u.global.headers)&&void 0!==a?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(i=u.auth)&&void 0!==i?i:{},this.headers,u.global.fetch),this.fetch=Vn(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Lt(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Ot(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new $n(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return sa(this,void 0,void 0,(function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null}))}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:a,detectSessionInUrl:i,storage:s,storageKey:o,flowType:l,lock:c,debug:u}=e;const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ia({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),t),storageKey:o,autoRefreshToken:r,persistSession:a,detectSessionInUrl:i,storage:s,flowType:l,lock:c,debug:u,fetch:n,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new pn(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange(((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)}))}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}const la=window.location.hostname.includes("github.io"),ca="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?"http://127.0.0.1:54321":"https://lucbodhuwimhqnvtmdzg.supabase.co",ua="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx1Y2JvZGh1d2ltaHFudnRtZHpnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcxMzY4NzIsImV4cCI6MjA2MjcxMjg3Mn0.hhqPTYtTL3M1jrGDa8OlJ3GEMIxaFJPLRw6dpCTwG2A";let da=null;const ha=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Supabase operation";console.warn(`${t} feilet. Bruker fallback.`)},fa=1e4,pa=()=>navigator.onLine,ga=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fa,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const a=new Promise(((e,r)=>{t=setTimeout((()=>{r(new Error("Tilkoblingen tok for lang tid. Sjekk nettverksforbindelsen."))}),n)}));return Promise.race([e.then((e=>(clearTimeout(t),e))).catch((e=>{throw clearTimeout(t),e})),a]).catch((e=>(console.warn("Supabase-kall feilet:",e.message),r)))},ma=()=>{const e={data:null,error:null},t={data:[],error:null},n=[],r={select:()=>({order:()=>Promise.resolve({data:n,error:null}),eq:()=>Promise.resolve({data:null,error:null}),single:()=>Promise.resolve({data:null,error:null})}),insert:e=>{const t={data:{...e,id:"new-"+Date.now().toString(36)},error:null};return{select:e=>({single:()=>Promise.resolve(t)}),then:e=>e(t)}},update:()=>Promise.resolve({data:null,error:null}),delete:()=>Promise.resolve({error:null})},a={select:()=>({eq:()=>Promise.resolve({data:{id:"local-user",navn:"Lokal Bruker",rolle:"bruker",godkjent:!0},error:null}),single:()=>Promise.resolve({data:{id:"local-user",navn:"Lokal Bruker",rolle:"bruker",godkjent:!0},error:null})}),insert:e=>{const t={data:{id:"new-user-"+Date.now().toString(36),...e,navn:e.navn||"Ny Bruker",rolle:"bruker"},error:null};return{select:e=>({single:()=>Promise.resolve(t)}),then:e=>e(t)}},update:()=>Promise.resolve({data:{id:"local-user",navn:"Oppdatert Bruker"},error:null}),delete:()=>Promise.resolve({error:null})},i={select:()=>({eq:()=>Promise.resolve(e),single:()=>Promise.resolve(e),order:()=>Promise.resolve(t)}),insert:e=>{const t={data:{...e,id:"mock-"+Date.now().toString(36)},error:null};return{select:e=>({single:()=>Promise.resolve(t)}),then:e=>e(t)}},update:()=>Promise.resolve(e),delete:()=>Promise.resolve({error:null})},s={getSession:()=>Promise.resolve({data:{session:localStorage.getItem("innloggetBruker")?{user:JSON.parse(localStorage.getItem("innloggetBruker"))}:null},error:null}),getUser:()=>{const e=localStorage.getItem("innloggetBruker");return Promise.resolve({data:{user:e?JSON.parse(e):null},error:null})},signUp:e=>{try{var t,n;const r=JSON.parse(localStorage.getItem("brukere")||"[]");if(r.some((t=>t.email===e.email)))return Promise.resolve({data:null,error:{message:"Denne e-postadressen er allerede registrert."}});const a={id:"local-"+Date.now(),email:e.email,navn:(null===(t=e.options)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.full_name)||e.email.split("@")[0],rolle:"bruker",godkjent:!1,opprettet:(new Date).toISOString()};return r.push(a),localStorage.setItem("brukere",JSON.stringify(r)),Promise.resolve({data:{user:a},error:null})}catch(r){return console.error("Feil ved lokal brukerregistrering:",r),Promise.resolve({data:null,error:{message:"Feil ved registrering. Vennligst pr\xf8v igjen senere."}})}},signInWithPassword:e=>{try{const t=JSON.parse(localStorage.getItem("brukere")||"[]").find((t=>t.email===e.email));return t&&t.password===e.password?(localStorage.setItem("innloggetBruker",JSON.stringify(t)),Promise.resolve({data:{user:t,session:{access_token:"mock-token-"+Date.now()}},error:null})):Promise.resolve({data:null,error:{message:"Feil e-post eller passord."}})}catch(t){return console.error("Feil ved lokal innlogging:",t),Promise.resolve({data:null,error:{message:"Feil ved innlogging. Vennligst pr\xf8v igjen senere."}})}},signOut:()=>(localStorage.removeItem("innloggetBruker"),localStorage.removeItem("currentUser"),localStorage.removeItem("nyskolenposten-auth"),setTimeout((()=>{"function"===typeof window._nyskolenAuthCallbacks&&window._nyskolenAuthCallbacks("SIGNED_OUT",null)}),10),Promise.resolve({error:null})),resetPasswordForEmail:e=>Promise.resolve({error:null}),onAuthStateChange:e=>{window._nyskolenAuthCallbacks=e;const t=localStorage.getItem("innloggetBruker");return setTimeout((()=>{if(t)try{const n=JSON.parse(t);e("SIGNED_IN",{user:n})}catch(Za){e("SIGNED_OUT",null)}else e("SIGNED_OUT",null)}),10),{data:{subscription:{unsubscribe:()=>{window._nyskolenAuthCallbacks=null}}}}}};return{from:e=>"artikler"===e?r:"brukere"===e?a:i,auth:s,supabaseUrl:ca}},va=(()=>{if(da)return da;if(la||!pa())return ma();try{da=((e,t,n)=>new oa(e,t,n))(ca,ua,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:"nyskolenposten-auth"},global:{headers:{"X-Client-Info":"NyskolenPosten","Content-Type":"application/json",Accept:"*/*",Prefer:"return=representation","Accept-Profile":"public","Accept-Encoding":"gzip, deflate, br",Authorization:`Bearer ${ua}`,apikey:ua}},realtime:{params:{eventsPerSecond:10}},fetch:{handleError:!1},db:{schema:"public"}});const e=da.auth;return da.auth={...e,signIn:e.signIn,signInWithPassword:async t=>{try{if(!pa())throw new Error("Ingen internettforbindelse. Pr\xf8ver lokal innlogging.");return await ga(e.signInWithPassword(t),fa,ma().auth.signInWithPassword(t))}catch(n){return console.warn("Innlogging feilet, bruker fallback:",n),ma().auth.signInWithPassword(t)}},signUp:async t=>{try{if(!pa())throw new Error("Ingen internettforbindelse. Pr\xf8ver lokal registrering.");return await ga(e.signUp(t),fa,ma().auth.signUp(t))}catch(n){return console.warn("Registrering feilet, bruker fallback:",n),ma().auth.signUp(t)}},getSession:async()=>{try{if(!pa())throw new Error("Ingen internettforbindelse. Bruker lokal sesjon.");return await ga(e.getSession(),fa,ma().auth.getSession())}catch(t){return console.warn("Henting av sesjon feilet, bruker fallback:",t),ma().auth.getSession()}},getUser:async()=>{try{if(!pa())throw new Error("Ingen internettforbindelse. Bruker lokal bruker.");return await ga(e.getUser(),fa,ma().auth.getUser())}catch(t){return console.warn("Henting av bruker feilet, bruker fallback:",t),ma().auth.getUser()}},signOut:async()=>{try{return pa()?await e.signOut():ma().auth.signOut()}catch(t){return console.warn("Utlogging feilet, bruker fallback:",t),ma().auth.signOut()}},resetPasswordForEmail:async t=>{try{if(!pa())throw new Error("Ingen internettforbindelse. Kan ikke tilbakestille passord.");return await e.resetPasswordForEmail(t)}catch(n){return console.warn("Tilbakestilling av passord feilet:",n),{error:{message:"Kunne ikke tilbakestille passord. Sjekk internettforbindelsen."}}}},onAuthStateChange:t=>{try{if(!pa())return{data:{subscription:{unsubscribe:()=>{}}}};try{return e.onAuthStateChange(t)}catch(n){return console.warn("onAuthStateChange feilet p\xe5 original auth, bruker fallback:",n),ma().auth.onAuthStateChange(t)}}catch(n){return console.warn("onAuthStateChange feilet helt, bruker mock subscription:",n),{data:{subscription:{unsubscribe:()=>{}}}}}}},da}catch(e){return ha(e,"Initialisering av Supabase-klient"),ma()}})(),ka=window.location.hostname.includes("github.io"),ya=!navigator.onLine,ba=e=>{if("artikler"===e){const e=localStorage.getItem("artikler");if(e)try{return{success:!0,data:JSON.parse(e)}}catch(Za){console.warn("Kunne ikke parse lokale artikler")}const t=[{id:"test-1",artikkelID:"test-1",tittel:"Velkommen til NyskolenPosten!",innhold:"Dette er en test-artikkel som vises n\xe5r appen kj\xf8rer i offline-modus. Du kan legge til dine egne artikler ved \xe5 registrere deg og logge inn.",forfatter:"Systemet",forfatterID:"system",forfatterNavn:"Systemet",kategori:"Velkommen",dato:(new Date).toISOString(),created_at:(new Date).toISOString(),godkjent:!0}];return localStorage.setItem("artikler",JSON.stringify(t)),{success:!0,data:t}}if("brukere"===e){const e=localStorage.getItem("brukere");if(e)try{return{success:!0,data:JSON.parse(e)}}catch(Za){console.warn("Kunne ikke parse lokale brukere")}return{success:!0,data:[]}}return{success:!0,data:[]}};const wa=new class{constructor(){this.tabellData={},this.expires={},this.DEFAULT_TTL=3e5,this.lastTabellDataFraStorage(),this.startAutoSave()}lastTabellDataFraStorage(){try{const e=localStorage.getItem("nyskolen_tabell_cache");if(e){const t=JSON.parse(e);this.tabellData=t.data||{},this.expires=t.expires||{},this.ryddUtlopteData()}}catch(e){console.warn("Kunne ikke laste cache fra localStorage:",e)}}startAutoSave(){setInterval((()=>{this.lagreTabellDataTilStorage()}),3e4)}lagreTabellDataTilStorage(){try{this.ryddUtlopteData(),localStorage.setItem("nyskolen_tabell_cache",JSON.stringify({data:this.tabellData,expires:this.expires,lastUpdated:(new Date).toISOString()}))}catch(e){console.warn("Kunne ikke lagre cache til localStorage:",e)}}ryddUtlopteData(){const e=Date.now();Object.keys(this.expires).forEach((t=>{this.expires[t]<e&&(delete this.tabellData[t],delete this.expires[t])}))}lagreTabell(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.DEFAULT_TTL;return this.tabellData[e]=t,this.expires[e]=Date.now()+n,this.lagreTabellDataTilStorage(),t}hentTabell(e){return this.tabellData[e]&&this.expires[e]>Date.now()?this.tabellData[e]:null}async hentEllerLastTabell(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.DEFAULT_TTL;const r=this.hentTabell(e);if(null!==r)return r;try{const r=await t();return this.lagreTabell(e,r,n)}catch(a){throw console.error(`Feil ved lasting av tabell ${e}:`,a),a}}fjernTabell(e){delete this.tabellData[e],delete this.expires[e],this.lagreTabellDataTilStorage()}"t\xf8mCache"(){this.tabellData={},this.expires={},localStorage.removeItem("nyskolen_tabell_cache")}async hentFraTabell(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=t?`${e}:filter:${JSON.stringify(t)}`:`${e}:alle`,r=this.hentTabell(n);if(null!==r)return r;if(ka||ya||!ca){console.log(`Bruker fallback-data for tabell: ${e}`);const r=ba(e);if(t&&r.success&&r.data){let e=r.data;Object.entries(t).forEach((t=>{let[n,r]=t;"order"===n?"created_at.desc"===r&&(e=e.sort(((e,t)=>new Date(t.created_at||t.dato)-new Date(e.created_at||e.dato)))):"godkjent"===n?e=e.filter((e=>e.godkjent===r)):"forfatter_id"!==n&&"forfatterID"!==n||(e=e.filter((e=>e.forfatter_id===r||e.forfatterID===r)))}));const a={success:!0,data:e};return this.lagreTabell(n,a),a}return this.lagreTabell(n,r),r}try{let r=`${ca}/rest/v1/${e}`;if(t){const e=new URLSearchParams;Object.entries(t).forEach((t=>{let[n,r]=t;"order"===n?e.append("order",r):e.append(`${n}`,`eq.${r}`)})),r+=`?${e.toString()}`}const a=await fetch(r,{headers:{apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx1Y2JvZGh1d2ltaHFudnRtZHpnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcxMzY4NzIsImV4cCI6MjA2MjcxMjg3Mn0.hhqPTYtTL3M1jrGDa8OlJ3GEMIxaFJPLRw6dpCTwG2A","Content-Type":"application/json"}});if(!a.ok)throw new Error(`Feil ved henting fra tabell ${e}: ${a.statusText}`);const i={success:!0,data:await a.json()};return this.lagreTabell(n,i),i}catch(a){console.error(`Feil ved henting fra tabell ${e}:`,a),console.log(`Pr\xf8ver fallback for tabell: ${e}`);const t=ba(e);return this.lagreTabell(n,t),t}}async hentEnkeltRad(e,t){const n=`${e}:id:${t}`,r=this.hentTabell(n);if(null!==r)return r;if(ka||ya||!ca){console.log(`Bruker fallback-data for enkelt rad: ${e}:${t}`);const r=ba(e);if(r.success&&r.data){const e={success:!0,data:r.data.find((e=>e.id===t||e.artikkelID===t))||null};return this.lagreTabell(n,e),e}return{success:!1,error:"Ingen data funnet"}}try{const r=`${ca}/rest/v1/${e}?id=eq.${t}&limit=1`,a=await fetch(r,{headers:{apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx1Y2JvZGh1d2ltaHFudnRtZHpnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcxMzY4NzIsImV4cCI6MjA2MjcxMjg3Mn0.hhqPTYtTL3M1jrGDa8OlJ3GEMIxaFJPLRw6dpCTwG2A","Content-Type":"application/json"}});if(!a.ok)throw new Error(`Feil ved henting av rad fra ${e}: ${a.statusText}`);const i=await a.json(),s={success:!0,data:i.length>0?i[0]:null};return this.lagreTabell(n,s),s}catch(a){console.error(`Feil ved henting av rad fra ${e}:`,a),console.log(`Pr\xf8ver fallback for enkelt rad: ${e}:${t}`);const r=ba(e);if(r.success&&r.data){const e={success:!0,data:r.data.find((e=>e.id===t||e.artikkelID===t))||null};return this.lagreTabell(n,e),e}return{success:!1,error:a.message}}}},xa="artikler:godkjente",Sa="artikler:alle",ja=e=>`artikler:bruker:${e}`,_a=e=>`artikkel:${e}`,Ea=wa;async function Ta(){return wa.hentFraTabell("artikler",{godkjent:!0,order:"created_at.desc"})}var Na=n(579);const Ca=function(e){let{artikler:n=[]}=e;const[r,a]=(0,t.useState)([]),[i,s]=(0,t.useState)(!0);(0,t.useEffect)((()=>{(async()=>{try{const e=await Ta();e.success&&Array.isArray(e.data)&&a(e.data)}catch(e){console.error("Feil ved henting av artikler fra cache:",e)}finally{s(!1)}})()}),[]);const o=(n.length>0?n:r).filter((e=>e.godkjent)).sort(((e,t)=>new Date(t.created_at||t.dato)-new Date(e.created_at||e.dato))),l=o.reduce(((e,t)=>{const n=t.kategori||"Ukategorisert";return e[n]||(e[n]=[]),e[n].push(t),e}),{}),c=o.slice(0,3);return i&&0===o.length?(0,Na.jsxs)("div",{className:"laster-container",children:[(0,Na.jsx)("div",{className:"laster-spinner"}),(0,Na.jsx)("p",{children:"Laster artikler..."})]}):(0,Na.jsxs)("div",{className:"hjem",children:[(0,Na.jsxs)("section",{className:"hovedoppslag",children:[(0,Na.jsx)("h2",{className:"seksjon-tittel",children:"Siste nytt"}),(0,Na.jsx)("div",{className:"hovedoppslag-grid",children:c.map((e=>(0,Na.jsx)("article",{className:"hovedoppslag-artikkel",children:(0,Na.jsxs)(xt,{to:`/artikkel/${e.id||e.artikkelID}`,children:[e.bilde&&(0,Na.jsx)("div",{className:"artikkel-bilde",children:(0,Na.jsx)("img",{src:e.bilde,alt:e.tittel})}),(0,Na.jsxs)("div",{className:"artikkel-info",children:[(0,Na.jsx)("h3",{className:"artikkel-tittel",children:e.tittel}),(0,Na.jsx)("p",{className:"artikkel-ingress",children:e.ingress}),(0,Na.jsxs)("div",{className:"artikkel-meta",children:[(0,Na.jsx)("span",{className:"artikkel-forfatter",children:e.forfatter_navn||e.forfatter}),(0,Na.jsx)("span",{className:"artikkel-dato",children:e.created_at||e.dato?new Date(e.created_at||e.dato).toLocaleDateString("no-NO"):"Ukjent dato"})]})]})]})},e.id||e.artikkelID)))})]}),Object.keys(l).map((e=>(0,Na.jsxs)("section",{className:"kategori-seksjon",children:[(0,Na.jsx)("h2",{className:"seksjon-tittel",children:e}),(0,Na.jsx)("div",{className:"artikkel-grid",children:l[e].map((e=>(0,Na.jsx)("article",{className:"artikkel-kort",children:(0,Na.jsxs)(xt,{to:`/artikkel/${e.id||e.artikkelID}`,children:[e.bilde&&(0,Na.jsx)("div",{className:"artikkel-bilde",children:(0,Na.jsx)("img",{src:e.bilde,alt:e.tittel})}),(0,Na.jsx)("h3",{className:"artikkel-tittel",children:e.tittel}),(0,Na.jsxs)("p",{className:"artikkel-ingress",children:[e.ingress&&e.ingress.substring(0,100),"..."]}),(0,Na.jsxs)("div",{className:"artikkel-meta",children:[(0,Na.jsx)("span",{className:"artikkel-forfatter",children:e.forfatter_navn||e.forfatter}),(0,Na.jsx)("span",{className:"artikkel-dato",children:e.created_at||e.dato?new Date(e.created_at||e.dato).toLocaleDateString("no-NO"):"Ukjent dato"})]})]})},e.id||e.artikkelID)))})]},e))),0===o.length&&(0,Na.jsxs)("div",{className:"ingen-artikler",children:[(0,Na.jsx)("h2",{children:"Ingen artikler enn\xe5"}),(0,Na.jsx)("p",{children:"Det er ingen publiserte artikler i Nyskolen Posten enn\xe5."}),(0,Na.jsx)("p",{children:(0,Na.jsx)(xt,{to:"/ny-artikkel",className:"skriv-artikkel-knapp",children:"Skriv den f\xf8rste artikkelen!"})})]})]})},Pa={navigation:{home:"Forsiden",about:"Om oss",login:"Logg inn",register:"Registrer deg",writeArticle:"Skriv artikkel",myArticles:"Mine artikler",admin:"Administrer",logout:"Logg ut",websitePanel:"Website Panel"},footer:{contactUs:"Kontakt oss",becomeJournalist:"Bli journalist",copyright:"Nyskolen Posten - Elevdrevet avis for Nyskolen i Oslo",contact:"Kontakt oss",contactAriaLabel:"Send e-post til redaksjonen"},login:{title:"Logg inn",email:"E-post",emailPlaceholder:"Din e-postadresse",password:"Passord",passwordPlaceholder:"Ditt passord",loginButton:"Logg inn",registerPrompt:"Har du ikke en konto?",registerHere:"Registrer deg her",success:"Suksess!",loginSuccess:"Du er n\xe5 logget inn.",sessionExpired:"\xd8kten din har utl\xf8pt. Vennligst logg inn igjen.",userNotFound:"Brukeren finnes ikke. Vennligst sjekk e-postadressen eller registrer deg.",fillBothFields:"Vennligst fyll ut begge feltene.",wrongPassword:"Feil passord. Pr\xf8v igjen."},registration:{title:"Registrer deg",name:"Navn",namePlaceholder:"Skriv inn fullt navn",email:"E-post",emailPlaceholder:"Din e-postadresse",password:"Passord",passwordPlaceholder:"Velg et passord",confirmPassword:"Bekreft passord",confirmPasswordPlaceholder:"Skriv passordet p\xe5 nytt",class:"Klasse",classPlaceholder:"Hvilken klasse g\xe5r du i?",registerButton:"Registrer deg",backButton:"Tilbake",haveAccount:"Har du allerede en konto?",loginHere:"Logg inn her",registrationComplete:"Registrering fullf\xf8rt",goToLogin:"G\xe5 til innlogging",allFieldsRequired:"Alle felt m\xe5 fylles ut",passwordsMustMatch:"Passordene m\xe5 v\xe6re like",invalidEmail:"Vennligst oppgi en gyldig e-postadresse",registrationSuccess:"Registrering fullf\xf8rt! Du kan n\xe5 logge inn.",registrationFailed:"Registrering feilet. Vennligst pr\xf8v igjen."},articles:{readMore:"Les mer",publishedOn:"Publisert",by:"av",category:"Kategori",contentPlaceholder:"Skriv artikkelinnhold her...",title:"Tittel",introduction:"Ingress",saveDraft:"Lagre utkast",publish:"Publiser",edit:"Rediger",delete:"Slett",confirmDelete:"Er du sikker p\xe5 at du vil slette denne artikkelen?",noArticles:"Ingen artikler funnet"},admin:{userManagement:"Brukerh\xe5ndtering",articleManagement:"Artikkelh\xe5ndtering",approve:"Godkjenn",approved:"Godkjent",pending:"Venter",role:"Rolle",journalist:"Journalist",editor:"Redakt\xf8r",admin:"Administrator",technicalDirector:"Teknisk leder"},websitePanel:{title:"Website Panel - Teknisk leder",welcome:"Velkommen",controlPanel:"Nettsidekontroll",activateLockdown:"AKTIVER LOCKDOWN",deactivateLockdown:"DEAKTIVER LOCKDOWN",activateWebsiteLockdown:"AKTIVER WEBSITE LOCKDOWN",deactivateWebsiteLockdown:"DEAKTIVER WEBSITE LOCKDOWN",lockdownDescription:"LOCKDOWN: N\xe5r aktivert, kan brukere bare lese artikler. Admin-paneler er utilgjengelige og nye artikler kan ikke opprettes.",websiteLockdownDescription:"WEBSITE LOCKDOWN: N\xe5r aktivert, vises bare en vedlikeholdsmelding p\xe5 nettsiden. Ingen tilgang til innhold.",noteSection:"Forsidemelding (NOTE)",noteText:"Meldingstekst:",notePlaceholder:"Skriv en viktig melding som skal vises p\xe5 forsiden...",addNote:"Legg til NOTE",removeNote:"Fjern NOTE",notePreview:"Forh\xe5ndsvisning av NOTE:",currentStatus:"N\xe5v\xe6rende tilstand",lockdownStatus:"LOCKDOWN Status:",websiteLockdownStatus:"WEBSITE LOCKDOWN Status:",noteStatus:"NOTE Status:",active:"AKTIV",inactive:"INAKTIV",noteShown:"VISES P\xc5 FORSIDEN",noNote:"INGEN NOTE",accessControl:"Tilgangskontroll",enterPassword:"Skriv inn passordet ditt for \xe5 f\xe5 tilgang til Website panel.",wrongPassword:"Feil passord. Pr\xf8v igjen."},systemMessages:{maintenance:"NyskolenPosten er nede for vedlikehold",maintenanceInfo:"Vi jobber med \xe5 forbedre nettsiden og er straks tilbake.",maintenanceApology:"Beklager ulempene dette medf\xf8rer.",offlineWarning:"Du er offline. Noen funksjoner kan v\xe6re begrenset.",lockdownModeLabel:"LOCKDOWN MODUS"},general:{loading:"Laster inn...",error:"En feil har oppst\xe5tt",save:"Lagre",cancel:"Avbryt",confirm:"Bekreft",submit:"Send inn",success:"Suksess!",language:"Spr\xe5k",norwegian:"Norsk",english:"Engelsk"}},Oa={navigation:{home:"Home",about:"About Us",login:"Log In",register:"Sign Up",writeArticle:"Write Article",myArticles:"My Articles",admin:"Admin",logout:"Log Out",websitePanel:"Website Panel"},footer:{contactUs:"Contact Us",becomeJournalist:"Become a Journalist",copyright:"Nyskolen Post - Student-run newspaper for Nyskolen in Oslo",contact:"Contact Us",contactAriaLabel:"Send email to the editorial team"},login:{title:"Login",email:"Email",emailPlaceholder:"Your email address",password:"Password",passwordPlaceholder:"Your password",loginButton:"Login",registerPrompt:"Don't have an account?",registerHere:"Register here",success:"Success!",loginSuccess:"You are now logged in.",sessionExpired:"Your session has expired. Please log in again.",userNotFound:"User not found. Please check your email or register.",fillBothFields:"Please fill in both fields.",wrongPassword:"Incorrect password. Please try again."},registration:{title:"Sign Up",name:"Name",namePlaceholder:"Enter your full name",email:"Email",emailPlaceholder:"Your email address",password:"Password",passwordPlaceholder:"Choose a password",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Retype your password",class:"Class",classPlaceholder:"Which class are you in?",registerButton:"Sign Up",backButton:"Back",haveAccount:"Already have an account?",loginHere:"Log in here",registrationComplete:"Registration Complete",goToLogin:"Go to Login",allFieldsRequired:"All fields must be filled out",passwordsMustMatch:"Passwords must match",invalidEmail:"Please provide a valid email address",registrationSuccess:"Registration complete! You can now log in.",registrationFailed:"Registration failed. Please try again."},articles:{readMore:"Read More",publishedOn:"Published on",by:"by",category:"Category",contentPlaceholder:"Write article content here...",title:"Title",introduction:"Introduction",saveDraft:"Save Draft",publish:"Publish",edit:"Edit",delete:"Delete",confirmDelete:"Are you sure you want to delete this article?",noArticles:"No articles found"},admin:{userManagement:"User Management",articleManagement:"Article Management",approve:"Approve",approved:"Approved",pending:"Pending",role:"Role",journalist:"Journalist",editor:"Editor",admin:"Administrator",technicalDirector:"Technical Director"},websitePanel:{title:"Website Panel - Technical Director",welcome:"Welcome",controlPanel:"Website Control",activateLockdown:"ACTIVATE LOCKDOWN",deactivateLockdown:"DEACTIVATE LOCKDOWN",activateWebsiteLockdown:"ACTIVATE WEBSITE LOCKDOWN",deactivateWebsiteLockdown:"DEACTIVATE WEBSITE LOCKDOWN",lockdownDescription:"LOCKDOWN: When activated, users can only read articles. Admin panels are unavailable and new articles cannot be created.",websiteLockdownDescription:"WEBSITE LOCKDOWN: When activated, only a maintenance message is displayed on the website. No access to content.",noteSection:"Homepage Message (NOTE)",noteText:"Message text:",notePlaceholder:"Write an important message to be displayed on the homepage...",addNote:"Add NOTE",removeNote:"Remove NOTE",notePreview:"NOTE Preview:",currentStatus:"Current Status",lockdownStatus:"LOCKDOWN Status:",websiteLockdownStatus:"WEBSITE LOCKDOWN Status:",noteStatus:"NOTE Status:",active:"ACTIVE",inactive:"INACTIVE",noteShown:"DISPLAYED ON HOMEPAGE",noNote:"NO NOTE",accessControl:"Access Control",enterPassword:"Enter your password to access the Website panel.",wrongPassword:"Wrong password. Please try again."},systemMessages:{maintenance:"NyskolenPosten is down for maintenance",maintenanceInfo:"We are working to improve the website and will be back shortly.",maintenanceApology:"We apologize for the inconvenience.",offlineWarning:"You are offline. Some features may be limited.",lockdownModeLabel:"LOCKDOWN MODE"},general:{loading:"Loading...",error:"An error occurred",save:"Save",cancel:"Cancel",confirm:"Confirm",submit:"Submit",success:"Success!",language:"Language",norwegian:"Norwegian",english:"English"}},Ia=(0,t.createContext)(),La=e=>{let{children:n}=e;const[r,a]=(0,t.useState)((()=>localStorage.getItem("language")||"no")),[i,s]=(0,t.useState)("no"===r?Pa:Oa);(0,t.useEffect)((()=>{s("no"===r?Pa:Oa)}),[r]);const o={language:r,translations:i,changeLanguage:e=>{a(e),s("no"===e?Pa:Oa),localStorage.setItem("language",e)}};return(0,Na.jsx)(Ia.Provider,{value:o,children:n})},Aa=()=>{const e=(0,t.useContext)(Ia);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e},Ra={title:"Om oss",intro:"Nyskolen Posten er en elevdrevet nettavis for Nyskolen i Oslo. Avisen ble startet i 2025 som et prosjekt for \xe5 gi elevene en stemme og en plattform for \xe5 dele nyheter, meninger og kreativt innhold.",vision:"V\xe5r visjon er \xe5 skape en levende og engasjerende avis som gjenspeiler skolens verdier om demokrati, medvirkning og kreativitet.",editorial:"Redaksjonen\nNyskolen Posten drives av elever for elever. Redaksjonen best\xe5r av elever fra ulike trinn som samarbeider om \xe5 skrive, redigere og publisere innhold.",staff:"V\xe5re medarbeidere",mattis:"Mattis B T\xf8llefsen",techlead:"Teknisk leder",techdesc:"Ansvarlig for teknisk utvikling og vedlikehold av nettavisen",join:"Bli med!\nHar du lyst til \xe5 bli med i redaksjonen? Vi er alltid p\xe5 jakt etter nye skribenter, fotografer og id\xe9skapere!\nFor \xe5 bli med, registrer deg som bruker p\xe5 nettsiden og send en melding til redakt\xf8ren. Du kan ogs\xe5 skrive din f\xf8rste artikkel og sende den inn til vurdering.",register:"Registrer deg",write:"Skriv en artikkel",contact:"Kontakt oss",contactdesc:"Har du sp\xf8rsm\xe5l, tilbakemeldinger eller tips til saker? Kontakt oss p\xe5"},Da={title:"About Us",intro:"Nyskolen Posten is a student-run online newspaper for Nyskolen in Oslo. The newspaper was started in 2025 as a project to give students a voice and a platform to share news, opinions, and creative content.",vision:"Our vision is to create a vibrant and engaging newspaper that reflects the school's values of democracy, participation, and creativity.",editorial:"Editorial Team\nNyskolen Posten is run by students, for students. The editorial team consists of students from different grades who collaborate to write, edit, and publish content.",staff:"Our Staff",mattis:"Mattis B T\xf8llefsen",techlead:"Technical Manager",techdesc:"Responsible for technical development and maintenance of the online newspaper.",join:"Join Us!\nWould you like to join the editorial team? We are always looking for new writers, photographers, and idea creators!\nTo join, register as a user on the website and send a message to the editor. You can also write your first article and submit it for review.",register:"Register",write:"Write an article",contact:"Contact Us",contactdesc:"Do you have questions, feedback, or story tips? Contact us at"};const $a=function(){const{language:e}=(0,t.useContext)(Ia),n="en"===e?Da:Ra;return(0,Na.jsxs)("div",{className:"om-oss-container",children:[(0,Na.jsx)("h2",{children:n.title}),(0,Na.jsx)("p",{children:n.intro}),(0,Na.jsx)("p",{children:n.vision}),(0,Na.jsx)("h3",{children:n.editorial.split("\n")[0]}),(0,Na.jsx)("p",{children:n.editorial.split("\n").slice(1).join(" ")}),(0,Na.jsx)("h3",{children:n.staff}),(0,Na.jsx)("div",{className:"medarbeider-kort",children:(0,Na.jsxs)("div",{className:"medarbeider",children:[(0,Na.jsx)("strong",{children:n.mattis}),(0,Na.jsx)("div",{children:n.techlead}),(0,Na.jsx)("div",{className:"medarbeider-beskrivelse",children:n.techdesc})]})}),(0,Na.jsx)("h3",{children:n.join.split("\n")[0]}),(0,Na.jsx)("p",{children:n.join.split("\n").slice(1).join(" ")}),(0,Na.jsxs)("div",{className:"omoss-knapper",children:[(0,Na.jsx)("a",{href:"/registrer",className:"omoss-btn",children:n.register}),(0,Na.jsx)("a",{href:"/ny-artikkel",className:"omoss-btn",children:n.write})]}),(0,Na.jsx)("h3",{children:n.contact}),(0,Na.jsxs)("p",{children:[n.contactdesc," ",(0,Na.jsx)("a",{href:"mailto:mattis.tollefsen@nionett.no",children:"mattis.tollefsen@nionett.no"})]})]})},Ua=(0,t.createContext)();function Fa(e){return e?e.includes("Failed to fetch")?"Kunne ikke koble til serveren. Sjekk internettforbindelsen.":e.includes("network error")?"Nettverksfeil. Sjekk internettforbindelsen og pr\xf8v igjen.":e.includes("timeout")||e.includes("timed out")?"Foresp\xf8rselen tok for lang tid. Sjekk internettforbindelsen.":e.includes("No connection to server")?"Ingen tilkobling til serveren. Sjekk internettforbindelsen.":e.includes("Tilkoblingen tok for lang tid")?"Tilkoblingen tok for lang tid. Sjekk internettforbindelsen.":e.includes("Ingen internettforbindelse")?"Ingen internettforbindelse. Sjekk nettverkstilkoblingen.":e.includes("Invalid login credentials")?"Feil e-post eller passord.":e.includes("User already registered")?"Brukeren er allerede registrert.":e.includes("Email not confirmed")?"E-posten er ikke bekreftet. Sjekk innboksen din.":e.includes("Password should be at least")?"Passordet er for kort.":e.includes("No user found")?"Ingen bruker funnet med denne e-posten.":e.includes("Email is invalid")?"E-postadressen er ugyldig.":e.includes("Password is required")?"Passord m\xe5 fylles ut.":e.includes("Email is required")?"E-post m\xe5 fylles ut.":"En ukjent feil oppstod. Pr\xf8v igjen senere.":""}function Ma(){return(0,t.useContext)(Ua)}function za(e){let{children:n}=e;const[r,a]=(0,t.useState)(null),[i,s]=(0,t.useState)(!0),[o,l]=(0,t.useState)(""),c=window.location.hostname.includes("github.io");(0,t.useEffect)((()=>{const e=localStorage.getItem("innloggetBruker"),t=localStorage.getItem("currentUser");let n=!1;if(e||t)try{if(e){const t=JSON.parse(e);t&&t.id&&t.email&&t.navn&&"object"===typeof t?(console.log("Lastet bruker fra innloggetBruker:",t.email),a(t),n=!0):(console.warn("Ugyldige brukerdata funnet i innloggetBruker, fjerner data"),localStorage.removeItem("innloggetBruker"))}else if(t){const e=JSON.parse(t);if(e&&(e.id||e.uid)&&(e.email||e.displayName||e.navn)&&"object"===typeof e){var r;const t={id:e.id||e.uid,email:e.email||"",navn:e.navn||e.displayName||(null===(r=e.email)||void 0===r?void 0:r.split("@")[0])||"Bruker"};console.log("Lastet bruker fra currentUser:",t.email),a(t),localStorage.setItem("innloggetBruker",JSON.stringify(t)),n=!0}else console.warn("Ugyldige brukerdata funnet i currentUser, fjerner data"),localStorage.removeItem("currentUser")}}catch(o){console.error("Feil ved parsing av brukerdata:",o),e&&localStorage.removeItem("innloggetBruker"),t&&localStorage.removeItem("currentUser")}if(n)return s(!1),()=>{};{if(!va||!va.auth)return console.warn("Supabase-klient er ikke tilgjengelig, bruker kun lokal autentisering"),s(!1),()=>{};va.auth.getSession().then((e=>{let{data:{session:t}}=e;t&&t.user&&a(t.user),s(!1)})).catch((e=>{console.error("Feil ved henting av Supabase sesjon:",e),s(!1)}));let e=null;try{var i;const t=va.auth.onAuthStateChange(((e,t)=>{if(t&&t.user)a(t.user);else{localStorage.getItem("innloggetBruker")||localStorage.getItem("currentUser")||a(null)}s(!1)}));e=null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.subscription}catch(l){console.warn("Kunne ikke sette opp auth state listener:",l),s(!1)}return()=>{try{var t;null===(t=e)||void 0===t||t.unsubscribe()}catch(l){console.warn("Feil ved unsubscribe:",l)}}}}),[]);const u=e=>{if(!e||!e.id||!e.email)return console.error("Fors\xf8k p\xe5 \xe5 sette ugyldig bruker avbrutt:",e),l("Ugyldig brukerdata. Vennligst pr\xf8v p\xe5 nytt."),!1;const t={...e,navn:e.navn||e.email.split("@")[0]||"Bruker"};return a(t),t&&(localStorage.setItem("innloggetBruker",JSON.stringify(t)),localStorage.setItem("currentUser",JSON.stringify({uid:t.id,email:t.email,navn:t.navn}))),!0};(0,t.useEffect)((()=>{const e=e=>{if("innloggetBruker"===e.key)if(e.newValue)try{a(JSON.parse(e.newValue))}catch(t){console.error("Feil ved parsing av brukerdata fra storage event:",t)}else a(null);else if("currentUser"===e.key&&!localStorage.getItem("innloggetBruker"))if(e.newValue)try{const t=JSON.parse(e.newValue);a({id:t.uid,email:t.email,navn:t.navn})}catch(t){console.error("Feil ved parsing av brukerdata fra storage event:",t)}else a(null)};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)}),[]);const d={user:r,loading:i,authError:o,signIn:async(e,t)=>{l("");try{if(c){const n=JSON.parse(localStorage.getItem("brukere")||"[]").find((t=>t.email===e));return n&&n.password===t?(u(n),!0):(l("Feil e-post eller passord."),!1)}const{error:n}=await va.auth.signInWithPassword({email:e,password:t});return!n||(l(Fa(n.message)),!1)}catch(n){return l("En feil oppstod under innlogging. Vennligst pr\xf8v igjen senere."),!1}},signUp:async(e,t,n,r)=>{l("");try{if(c){const a=JSON.parse(localStorage.getItem("brukere")||"[]");if(a.some((t=>t.email===e)))return l("Denne e-postadressen er allerede registrert."),!1;const i={id:"local-"+Date.now(),email:e,password:t,navn:n||e.split("@")[0],rolle:"bruker",godkjent:!1,klasse:r||null,opprettet:(new Date).toISOString()};return a.push(i),localStorage.setItem("brukere",JSON.stringify(a)),u(i),!0}const{error:a}=await va.auth.signUp({email:e,password:t,options:{data:{full_name:n,klasse:r}}});return!a||(l(Fa(a.message)),!1)}catch(a){return l("En feil oppstod under registrering. Vennligst pr\xf8v igjen senere."),!1}},signOut:async()=>{l("");try{if(localStorage.removeItem("innloggetBruker"),localStorage.removeItem("currentUser"),a(null),!c){const{error:e}=await va.auth.signOut();if(e)return l(Fa(e.message)),!1}return!0}catch(e){return l("En feil oppstod under utlogging."),localStorage.removeItem("innloggetBruker"),localStorage.removeItem("currentUser"),a(null),!0}},resetPassword:async e=>{if(l(""),c)return l("Tilbakestilling av passord er ikke tilgjengelig i offline-modus."),!1;const{error:t}=await va.auth.resetPasswordForEmail(e);return!t||(l(Fa(t.message)),!1)},setAuthUser:u};return(0,Na.jsx)(Ua.Provider,{value:d,children:!i&&n})}var Ba=function(){return Ba=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Ba.apply(this,arguments)};function Ha(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}function Wa(e){if(e){var t=e.textContent;e.style.direction=t&&/[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/.test(t[0])?"rtl":"ltr"}}function Ka(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(Boolean).join(" ")}function Va(){if(document.selection)return document.selection.createRange().parentElement();var e=window.getSelection();return e&&e.rangeCount>0&&e.getRangeAt(0).startContainer.parentNode||void 0}function Ja(e){return e?e.replace(/&nbsp;|\u202F|\u00A0/g," ").replace(/<br \/>/g,"<br>"):""}function qa(e,t){"function"===typeof t?t(e):"object"===typeof t&&t&&(t.current=e)}"function"===typeof SuppressedError&&SuppressedError;var Ga=t.memo(t.forwardRef((function(e,n){var r=e.className,a=e.disabled,i=e.tagName,s=e.value,o=void 0===s?"":s,l=e.placeholder,c=Ha(e,["className","disabled","tagName","value","placeholder"]),u=t.useRef(null),d=t.useRef(o),h=t.useRef(c);return t.useEffect((function(){h.current=c;var e=u.current;e&&Ja(d.current)!==Ja(o)&&(d.current=o,e.innerHTML=o,function(e){var t=document.createTextNode("");e.appendChild(t);var n=document.activeElement===e;if(null!==t&&null!==t.nodeValue&&n){var r=window.getSelection();if(null!==r){var a=document.createRange();a.setStart(t,t.nodeValue.length),a.collapse(!0),r.removeAllRanges(),r.addRange(a)}e instanceof HTMLElement&&e.focus()}}(e))})),t.useMemo((function(){function e(e){var t,n,r=u.current;if(r){var a=r.innerHTML;a!==d.current&&(null===(n=(t=h.current).onChange)||void 0===n||n.call(t,Ba(Ba({},e),{target:{value:a,name:c.name}}))),Wa(r),d.current=a}}var s=Ka("rsw-ce",r);return t.createElement(i||"div",Ba(Ba({},c),{className:s,contentEditable:!a,dangerouslySetInnerHTML:{__html:o},onBlur:function(t){return(h.current.onBlur||e)(t)},onInput:e,onKeyDown:function(t){return(h.current.onKeyDown||e)(t)},onKeyUp:function(t){return(h.current.onKeyUp||e)(t)},placeholder:l,ref:function(e){u.current=e,Wa(e),qa(e,n)}}))}),[r,a,l,i])}))),Qa=t.createContext(void 0);function Ya(e){var n=e.children,r=t.useState({htmlMode:!1,update:function(e){i((function(t){return Ba(Ba({},t),e)}))}}),a=r[0],i=r[1];return t.createElement(Qa.Provider,{value:a},n)}function Xa(){var e=t.useContext(Qa);if(!e)throw new Error("You should wrap your component by EditorProvider");return e}var Za=[],ei=[];!function(e,t){if(e&&"undefined"!=typeof document){var n,r=!0===t.prepend?"prepend":"append",a=!0===t.singleTag,i="string"==typeof t.container?document.querySelector(t.container):document.getElementsByTagName("head")[0];if(a){var s=Za.indexOf(i);-1===s&&(s=Za.push(i)-1,ei[s]={}),n=ei[s]&&ei[s][r]?ei[s][r]:ei[s][r]=o()}else n=o();65279===e.charCodeAt(0)&&(e=e.substring(1)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(document.createTextNode(e))}function o(){var e=document.createElement("style");if(e.setAttribute("type","text/css"),t.attributes)for(var n=Object.keys(t.attributes),a=0;a<n.length;a++)e.setAttribute(n[a],t.attributes[n[a]]);var s="prepend"===r?"afterbegin":"beforeend";return i.insertAdjacentElement(s,e),e}}(".rsw-editor{border:1px solid #ddd;border-radius:.375rem;display:flex;flex-direction:column;min-height:100px;overflow:hidden}.rsw-ce{flex:1 0 auto;padding:.5rem}.rsw-ce:focus{outline:1px solid #668}.rsw-ce[contentEditable=true]:empty:not(:focus):before{color:grey;content:attr(placeholder);pointer-events:none}.rsw-html{background:transparent;border:none;font-family:monospace,Courier New}.rsw-separator{align-self:stretch;border-right:1px solid #ddd;display:flex;margin:0 3px}.rsw-dd{box-sizing:border-box;outline:none}.rsw-btn{background:transparent;border:0;color:#222;cursor:pointer;font-size:1em;height:2em;outline:none;padding:0;width:2em}.rsw-btn:hover{background:#eaeaea}.rsw-btn[data-active=true]{background:#e0e0e0}.rsw-toolbar{align-items:center;background-color:#f5f5f5;border-bottom:1px solid #ddd;display:flex}",{});var ti=t.forwardRef((function(e,n){var r=e.autoFocus,a=e.children,i=e.containerProps,s=e.onSelect,o=Ha(e,["autoFocus","children","containerProps","onSelect"]),l=Xa();function c(e){var t;e.target!==l.$el&&((null===(t=l.$el)||void 0===t?void 0:t.contains(e.target))||l.update({$selection:void 0}))}t.useEffect((function(){return document.addEventListener("click",c),function(){return document.removeEventListener("click",c)}}));var u=Ka("rsw-editor",null===i||void 0===i?void 0:i.className);return l.htmlMode?t.createElement("div",Ba({},i,{className:u}),a,t.createElement("textarea",Ba({},o,{className:"rsw-ce rsw-html"}))):t.createElement("div",Ba({},i,{className:u}),a,t.createElement(Ga,Ba({},o,{ref:function(e){l.update({$el:e}),qa(e,n),r&&e&&void 0===l.$el&&e.focus()},onSelect:function(e){null===s||void 0===s||s(e),l.update({$selection:Va()})}})))}));var ni=hi("Bold","\ud835\udc01","bold"),ri=hi("Bullet list",t.createElement((function(){return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",style:{verticalAlign:"text-top"}},t.createElement("path",{fill:"currentColor",d:"M7 5h14v2H7V5zm0 8v-2h14v2H7zM4 4.50001c.83 0 1.5.66992 1.5 1.5 0 .83007-.67 1.5-1.5 1.5s-1.5-.66993-1.5-1.5c0-.83008.67-1.5 1.5-1.5zM4 10.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5zM7 19v-2h14v2H7zm-3-2.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5z"}))}),null),"insertUnorderedList"),ai=hi("Clear formatting","T\u0332\u2093","removeFormat"),ii=hi("Italic","\ud835\udc70","italic"),si=hi("Strike through",t.createElement("s",null,"ab"),"strikeThrough"),oi=hi("Link","\ud83d\udd17",(function(e){var t=e.$selection;"A"===(null===t||void 0===t?void 0:t.nodeName)?document.execCommand("unlink"):document.execCommand("createLink",!1,prompt("URL","")||void 0)})),li=hi("Numbered list",t.createElement((function(){return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",style:{verticalAlign:"text-top"}},t.createElement("path",{fill:"currentColor",d:"M6.99938 12.998v-2H20.9994v2H6.99938zm0 6.0001v-2H20.9994v2H6.99938zm0-12.00001v-2H20.9994v2H6.99938zm-4 1v-3h-1v-1h2v4h-1zm-1 9.00001v-1h3v4h-3v-1h2v-.5h-1v-1h1v-.5h-2zM4.25 10c.41421 0 .75.3358.75.75 0 .2024-.08017.3861-.2105.521L3.11983 13H5v1H2v-.9218L4 11H2v-1h2.25z"}))}),null),"insertOrderedList"),ci=hi("Redo","\u21b7","redo"),ui=hi("Underline",t.createElement("span",{style:{textDecoration:"underline"}},"\ud835\udc14"),"underline"),di=hi("Undo","\u21b6","undo");function hi(e,n,r){return a.displayName=e.replace(/\s/g,""),a;function a(a){var i=Xa(),s=i.$el,o=i.$selection,l=!1;return"string"===typeof r&&(l=!!o&&document.queryCommandState(r)),i.htmlMode?null:t.createElement("button",Ba({className:"rsw-btn","data-active":l,onMouseDown:function(e){e.preventDefault(),document.activeElement!==s&&(null===s||void 0===s||s.focus()),"function"===typeof r?r(i):document.execCommand(r)},tabIndex:-1,title:e,type:"button"},a),n)}}var fi=function(e,n){return r.displayName=e,r;function r(r){var a=Xa(),i=a.$el,s=a.$selection;if(a.htmlMode)return null;var o=n.findIndex((function(e){return"formatBlock"===e[1]&&(null===s||void 0===s?void 0:s.nodeName)===e[2]}));return t.createElement(pi,Ba({},r,{items:n,onChange:function(e){var t=e.target,r=t.value,s=parseInt(r,10),o=n[s]||[],l=o[1],c=o[2];e.preventDefault(),document.activeElement!==i&&(null===i||void 0===i||i.focus());"function"===typeof l?l(a):l&&document.execCommand(l,!1,c);setTimeout((function(){return t.value=r}),10)},selected:o,tabIndex:-1,title:e}))}}("Styles",[["Normal","formatBlock","DIV"],["\ud835\udddb\ud835\uddf2\ud835\uddee\ud835\uddf1\ud835\uddf2\ud835\uddff \ud835\udfed","formatBlock","H1"],["Header 2","formatBlock","H2"],["\ud835\ude72\ud835\ude98\ud835\ude8d\ud835\ude8e","formatBlock","PRE"]]);function pi(e){var n=e.items,r=e.selected,a=Ha(e,["items","selected"]);return t.createElement("select",Ba({className:"rsw-dd"},a,{value:r}),t.createElement("option",{hidden:!0},a.title),n.map((function(e,n){return t.createElement("option",{key:e[2],value:n},e[0])})))}function gi(e){var n=Ha(e,[]),r=Xa();return t.createElement("button",Ba({className:"rsw-btn","data-active":r.htmlMode,onClick:function(){r.update({htmlMode:!r.htmlMode})},tabIndex:-1,title:"HTML mode",type:"button"},n),"</>")}function mi(e){return Xa().htmlMode?null:t.createElement("div",Ba({className:"rsw-separator"},e))}function vi(e){return t.createElement("div",Ba({className:"rsw-toolbar"},e))}t.forwardRef((function(e,n){return t.createElement(Ya,null,t.createElement(ti,Ba({},e,{ref:n}),e.children||t.createElement(vi,null,t.createElement(di,null),t.createElement(ci,null),t.createElement(mi,null),t.createElement(ni,null),t.createElement(ii,null),t.createElement(ui,null),t.createElement(si,null),t.createElement(mi,null),t.createElement(li,null),t.createElement(ri,null),t.createElement(mi,null),t.createElement(oi,null),t.createElement(ai,null),t.createElement(gi,null),t.createElement(mi,null),t.createElement(fi,null))))}));const ki=function(e){let{innloggetBruker:n,onLeggTilArtikkel:r,kategoriliste:a=[]}=e;const i=Je(),{user:s}=Ma(),[o,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)("nyheter"),[g,m]=(0,t.useState)(null),[v,k]=(0,t.useState)(null),[y,b]=(0,t.useState)(""),[w,x]=(0,t.useState)(""),[S,j]=(0,t.useState)(!1),[_,E]=(0,t.useState)(null),[T,N]=(0,t.useState)(!1),[C,P]=(0,t.useState)(""),[O,I]=(0,t.useState)(""),[L,A]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{s||i("/login")}),[s,i]),n?n.godkjent?S&&_?(0,Na.jsx)(lt,{to:`/artikkel/${_}`,replace:!0}):(0,Na.jsxs)("div",{className:"ny-artikkel",children:[(0,Na.jsx)("h2",{children:"Skriv ny artikkel"}),C&&(0,Na.jsx)("div",{className:"feilmelding",children:C}),O&&(0,Na.jsx)("div",{className:"melding",children:O}),(0,Na.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),P(""),I(""),A(!0);try{if(!o||!c||!d||!f)return P("Alle felt m\xe5 fylles ut"),void A(!1);const e={tittel:o,ingress:c,innhold:d,kategori:f,forfatter:s.email,godkjent:!1,opprettet:(new Date).toISOString(),sist_endret:(new Date).toISOString()},{data:t,error:n}=await va.from("artikler").insert([e]).select();if(n)throw n;r&&r(t[0]),I("Artikkelen ble lagret og venter p\xe5 godkjenning"),l(""),u(""),h(""),p("nyheter")}catch(t){P(t.message)}finally{A(!1)}},children:[(0,Na.jsxs)("div",{className:"form-gruppe",children:[(0,Na.jsx)("label",{htmlFor:"tittel",children:"Tittel:"}),(0,Na.jsx)("input",{type:"text",id:"tittel",value:o,onChange:e=>l(e.target.value),required:!0,disabled:T})]}),(0,Na.jsxs)("div",{className:"form-gruppe",children:[(0,Na.jsx)("label",{htmlFor:"kategori",children:"Kategori:"}),(0,Na.jsx)("select",{id:"kategori",value:f,onChange:e=>p(e.target.value),required:!0,disabled:T,children:a.map((e=>(0,Na.jsx)("option",{value:e.kategori,children:e.kategori},e.id)))})]}),(0,Na.jsxs)("div",{className:"form-gruppe",children:[(0,Na.jsx)("label",{htmlFor:"ingress",children:"Ingress:"}),(0,Na.jsx)("textarea",{id:"ingress",value:c,onChange:e=>u(e.target.value),required:!0,disabled:T})]}),(0,Na.jsxs)("div",{className:"form-gruppe",children:[(0,Na.jsx)("label",{htmlFor:"innhold",children:"Innhold:"}),(0,Na.jsx)(ti,{value:d,onChange:e=>{h(e.target.value),e.target.value.trim()&&x("")},containerProps:{style:{minHeight:"300px"}}})]}),(0,Na.jsxs)("div",{className:"form-gruppe",children:[(0,Na.jsx)("label",{htmlFor:"bilde",children:"Bilde:"}),(0,Na.jsx)("input",{type:"file",id:"bilde",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onloadend=()=>{m(e.result),k(e.result)},e.readAsDataURL(t)}},disabled:T}),g&&(0,Na.jsxs)("div",{className:"bilde-forh\xe5ndsvisning",children:[(0,Na.jsx)("img",{src:g,alt:"Forh\xe5ndsvisning"}),(0,Na.jsx)("button",{type:"button",onClick:()=>{m(null),k(null)},disabled:T,children:"Fjern bilde"})]})]}),(0,Na.jsx)("button",{type:"submit",disabled:T||L,children:L?"Lagrer...":"Publiser artikkel"})]})]}):(0,Na.jsxs)("div",{className:"ikke-godkjent",children:[(0,Na.jsx)("h2",{children:"Venter p\xe5 godkjenning"}),(0,Na.jsx)("p",{children:"Kontoen din m\xe5 godkjennes av en administrator f\xf8r du kan skrive artikler."})]}):(0,Na.jsxs)("div",{className:"ikke-godkjent",children:[(0,Na.jsx)("h2",{children:"Du m\xe5 v\xe6re logget inn"}),(0,Na.jsx)("p",{children:"Du m\xe5 logge inn for \xe5 skrive artikler."}),(0,Na.jsx)(xt,{to:"/login",children:"Logg inn"})]})};const yi=new class{constructor(){this.cache={},this.expiry={},this.defaultTTL=3e5,this.maxCacheSize=50,this.cacheHitCount={},this.gcInterval=null,this.startGarbageCollection()}startGarbageCollection(){this.gcInterval=setInterval((()=>{this.runGarbageCollection()}),6e4)}stopGarbageCollection(){this.gcInterval&&(clearInterval(this.gcInterval),this.gcInterval=null)}runGarbageCollection(){const e=Date.now();let t=0;return Object.keys(this.expiry).forEach((n=>{this.expiry[n]<=e&&(this.remove(n),t++)})),this.enforceCacheLimit(),t}enforceCacheLimit(){const e=Object.keys(this.cache).length;if(e<=this.maxCacheSize)return;const t=e-this.maxCacheSize,n=Object.keys(this.cache).map((e=>({key:e,hits:this.cacheHitCount[e]||0,expiry:this.expiry[e]||0}))).sort(((e,t)=>e.hits===t.hits?e.expiry-t.expiry:e.hits-t.hits));for(let r=0;r<t;r++)r<n.length&&this.remove(n[r].key)}set(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaultTTL;Object.keys(this.cache).length>=this.maxCacheSize&&this.enforceCacheLimit(),this.cache[e]=t;const r=Date.now()+n;return this.expiry[e]=r,this.cacheHitCount[e]=0,t}get(e){const t=this.cache[e],n=this.expiry[e];return void 0!==t&&n>Date.now()?(this.cacheHitCount[e]=(this.cacheHitCount[e]||0)+1,t):(void 0!==t&&this.remove(e),null)}remove(e){delete this.cache[e],delete this.expiry[e],delete this.cacheHitCount[e]}clear(){this.cache={},this.expiry={},this.cacheHitCount={}}async getOrFetch(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaultTTL;const r=this.get(e);if(null!==r)return r;try{const r=await t();return this.set(e,r,n)}catch(a){throw console.error(`Cache: Feil ved henting av '${e}'`,a),a}}invalidatePattern(e){const t=e instanceof RegExp?e:new RegExp(e);Object.keys(this.cache).forEach((e=>{t.test(e)&&this.remove(e)}))}setMaxSize(e){if(e<1)throw new Error("Maksimal cache-st\xf8rrelse m\xe5 v\xe6re minst 1");this.maxCacheSize=e,this.enforceCacheLimit()}getStats(){const e=Object.keys(this.cache),t=Date.now();let n=0,r=0;return e.forEach((e=>{this.expiry[e]>t?n++:r++})),{totalSize:e.length,activeSize:n,expiredSize:r,maxSize:this.maxCacheSize,hitCounts:{...this.cacheHitCount}}}};"undefined"!==typeof window&&window.addEventListener("beforeunload",(()=>{yi.stopGarbageCollection()}));const bi=yi,wi="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname,xi=(va.supabaseUrl,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"API-operasjon";console.warn(`${t} feilet. Bruker fallback.`)}),Si=18e4,ji=6e5,_i="artikler:alle",Ei=e=>`artikkel:${e}`,Ti=1200,Ni=1200,Ci=.85,Pi=1048576,Oi=()=>(new Date).toISOString(),Ii=async e=>new Promise(((t,n)=>{try{const r=new Image;r.onload=()=>{let n=r.width,a=r.height;if(n>Ti){const e=Ti/n;n=Ti,a=Math.round(a*e)}if(a>Ni){const e=Ni/a;a=Ni,n=Math.round(n*e)}const i=document.createElement("canvas");i.width=n,i.height=a;i.getContext("2d").drawImage(r,0,0,n,a);const s=e.split(";")[0].split(":")[1]||"image/jpeg",o="image/jpeg"===s?Ci:1,l=i.toDataURL(s,o);if(Math.round(3*l.length/4)>Pi){const e=Math.max(.5,o-.1),n=i.toDataURL(s,e);t(n)}else t(l)},r.onerror=()=>{n(new Error("Kunne ikke laste inn bildet for komprimering"))},r.src=e}catch(r){n(r)}})),Li=async()=>{const e=Ea.hentTabell(Sa);return e||Ea.hentEllerLastTabell(Sa,(async()=>bi.getOrFetch(_i,(async()=>{try{const{data:e,error:t}=await va.from("artikler").select("*").order("created_at",{ascending:!1});if(t)throw t;return{success:!0,artikler:e}}catch(e){return xi(e,"Henting av alle artikler"),{success:!1,error:e.message}}}),Si)),Si)},Ai=async(e,t)=>{try{const r=JSON.parse(localStorage.getItem("artikler"))||[],a=Date.now().toString(36)+Math.random().toString(36).substr(2,5);let i=null;if(t)try{i=await Ii(t)}catch(n){console.error("Feil ved bildekomprimering:",n),i=t}const s={artikkelID:a,...e,bilde:i,dato:Oi()};return r.push(s),localStorage.setItem("artikler",JSON.stringify(r)),bi.invalidatePattern("artikler:*"),bi.invalidatePattern(`artikler:bruker:${e.forfatter_id}`),{success:!0,artikkelID:a}}catch(r){return xi(r,"Legge til artikkel"),{success:!1,error:r.message}}};const Ri=function(e){let{artikler:n=[],innloggetBruker:r,onSlettArtikkel:a,onRedigerArtikkel:i}=e;const{id:s}=function(){let{matches:e}=t.useContext(Be),n=e[e.length-1];return n?n.params:{}}(),[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(!0),[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)(!1),[g,m]=(0,t.useState)(!1),[v,k]=(0,t.useState)(!1);if((0,t.useEffect)((()=>{window.scrollTo(0,0);(async()=>{try{u(!0);const e=n.find((e=>e.artikkelID===s));if(e)l(e);else{const e=wa.hentTabell(_a(s));if(e&&e.success&&e.artikkel)l(e.artikkel);else{const e=await(async e=>Ea.hentTabell(_a(e))||Ea.hentEllerLastTabell(_a(e),(async()=>bi.getOrFetch(Ei(e),(async()=>{try{const{data:t,error:n}=await va.from("artikler").select("*").eq("id",e).single();if(n)throw n;return{success:!0,artikkel:t}}catch(t){return xi(t,"Henting av artikkel"),{success:!1,error:t.message}}}),ji)),ji))(s);e.success?l(e.artikkel):h("Kunne ikke finne artikkelen")}}}catch(e){console.error("Feil ved henting av artikkel:",e),h("En feil oppstod ved henting av artikkelen.")}finally{u(!1),setTimeout((()=>{const e=document.querySelector(".artikkel-visning");e&&(e.style.opacity="1",e.style.transform="translateY(0)")}),100)}})()}),[s,n]),c)return(0,Na.jsxs)("div",{className:"laster-container",children:[(0,Na.jsx)("div",{className:"laster-spinner"}),(0,Na.jsx)("p",{children:"Laster artikkel..."})]});if(d)return(0,Na.jsxs)("div",{className:"feilmelding-container",children:[(0,Na.jsx)("h2",{children:"Noe gikk galt"}),(0,Na.jsx)("p",{children:d}),(0,Na.jsxs)("div",{className:"teknisk-stotte",children:[(0,Na.jsxs)("p",{children:["Fant du en feil/bug? Kontakt teknisk leder i NyskolenPosten: ",(0,Na.jsx)("a",{href:"mailto:mattis.tollefsen@nionett.no",children:"mattis.tollefsen@nionett.no"})]}),(0,Na.jsx)("p",{children:"Jeg fikser det s\xe5 fort som mulig!"})]}),(0,Na.jsx)(xt,{to:"/",className:"tilbake-lenke",children:"\u2190 Tilbake til forsiden"})]});if(!o)return(0,Na.jsxs)("div",{className:"ikke-godkjent",children:[(0,Na.jsx)("h2",{children:"Artikkel ikke funnet"}),(0,Na.jsx)("p",{children:"Artikkelen du leter etter finnes ikke."}),(0,Na.jsx)(xt,{to:"/",children:"Tilbake til forsiden"})]});if(g&&(!r||r.id!==o.forfatterID))return(0,Na.jsxs)("div",{className:"ikke-godkjent",children:[(0,Na.jsx)("h2",{children:"Tilgang nektet"}),(0,Na.jsx)("p",{children:"Du har ikke tilgang til \xe5 redigere denne artikkelen."}),(0,Na.jsx)(xt,{to:`/artikkel/${s}`,children:"Se artikkel"})]});if(v&&(!r||r.id!==o.forfatterID))return(0,Na.jsxs)("div",{className:"ikke-godkjent",children:[(0,Na.jsx)("h2",{children:"Tilgang nektet"}),(0,Na.jsx)("p",{children:"Du har ikke tilgang til \xe5 slette denne artikkelen."}),(0,Na.jsx)(xt,{to:`/artikkel/${s}`,children:"Se artikkel"})]});const y=o.dato?new Date(o.dato).toLocaleDateString("no-NO",{year:"numeric",month:"long",day:"numeric"}):"Ukjent dato",b=(e=>{if(!e)return"";let t=e.replace(/### (.*?)(\n|$)/g,"<h3>$1</h3>");return t=t.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),t=t.replace(/\*([^\*]+)\*/g,"<em>$1</em>"),t=t.split("\n\n").map((e=>e.trim()?`<p>${e}</p>`:"")).join(""),t})(o.innhold),w=r&&("admin"===r.rolle||"redakt\xf8r"===r.rolle||"teknisk_leder"===r.rolle||r.id===o.forfatterID);return(0,Na.jsxs)("div",{className:"artikkel-visning",style:{opacity:0,transform:"translateY(20px)",transition:"opacity 0.5s ease, transform 0.5s ease"},children:[!o.godkjent&&(0,Na.jsx)("div",{className:"ikke-godkjent-advarsel",children:"Denne artikkelen er ikke godkjent enn\xe5 og er kun synlig for deg og redakt\xf8rer."}),(0,Na.jsxs)("article",{className:"artikkel",children:[(0,Na.jsxs)("header",{className:"artikkel-header",children:[(0,Na.jsx)("h1",{className:"artikkel-tittel",children:o.tittel}),(0,Na.jsxs)("div",{className:"artikkel-meta",children:[(0,Na.jsxs)("span",{className:"artikkel-forfatter",children:["Av ",o.forfatterNavn||"Ukjent forfatter"]}),(0,Na.jsxs)("span",{className:"artikkel-dato",children:["Publisert ",y]}),(0,Na.jsx)("span",{className:"artikkel-kategori",children:o.kategori})]})]}),o.bilde&&(0,Na.jsx)("div",{className:"artikkel-bilde",children:(0,Na.jsx)("img",{src:o.bilde,alt:o.tittel})}),(0,Na.jsx)("div",{className:"artikkel-ingress",children:o.ingress}),(0,Na.jsx)("div",{className:"artikkel-innhold",dangerouslySetInnerHTML:{__html:b}})]}),(0,Na.jsxs)("div",{className:"artikkel-navigasjon",children:[(0,Na.jsx)(xt,{to:"/",className:"tilbake-lenke",children:"\u2190 Tilbake til forsiden"}),w&&(0,Na.jsxs)("div",{className:"administrer-knapper",children:[(0,Na.jsx)("button",{className:"rediger-knapp",onClick:()=>i(o.artikkelID),children:"Rediger artikkel"}),(0,Na.jsx)("button",{className:"slett-knapp "+(f?"bekreft-slett":""),onClick:async()=>{if(f){try{if(await a(o.artikkelID))return(0,Na.jsx)(lt,{to:"/",replace:!0});h("Kunne ikke slette artikkelen")}catch(e){console.error("Feil ved sletting av artikkel:",e),h("En feil oppstod ved sletting av artikkelen")}p(!1)}else p(!0)},children:f?"Bekreft sletting":"Slett artikkel"}),f&&(0,Na.jsx)("button",{className:"avbryt-knapp",onClick:()=>p(!1),children:"Avbryt"})]}),(0,Na.jsx)("div",{className:"deling-knapper",children:(0,Na.jsx)("button",{className:"del-knapp",onClick:()=>{navigator.share?navigator.share({title:o.tittel,text:o.ingress,url:window.location.href}).catch((e=>console.log("Kunne ikke dele",e))):navigator.clipboard.writeText(window.location.href).then((()=>alert("Lenke kopiert til utklippstavlen!"))).catch((()=>alert("Kunne ikke kopiere lenken")))},children:"Del artikkel"})})]})]})};const Di=function(e){let{innloggetBruker:n,artikler:r=[],onDeleteArticle:a,onUpdateArticle:i}=e;const[s,o]=(0,t.useState)(null),[l,c]=(0,t.useState)("");if(!n)return(0,Na.jsxs)("div",{className:"ikke-godkjent",children:[(0,Na.jsx)("h2",{children:"Du m\xe5 v\xe6re logget inn"}),(0,Na.jsx)("p",{children:"Du m\xe5 logge inn for \xe5 se dine artikler."}),(0,Na.jsx)(xt,{to:"/login",children:"Logg inn"})]});const u=r.filter((e=>e.forfatterID===n.id));return(0,Na.jsxs)("div",{className:"mine-artikler",children:[(0,Na.jsx)("h2",{children:"Mine artikler"}),l&&(0,Na.jsx)("div",{className:"melding-boks",children:l}),0===u.length?(0,Na.jsxs)("div",{className:"ingen-artikler",children:[(0,Na.jsx)("p",{children:"Du har ikke skrevet noen artikler enn\xe5."}),(0,Na.jsx)(xt,{to:"/ny-artikkel",className:"ny-artikkel-knapp",children:"Skriv din f\xf8rste artikkel"})]}):(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsxs)("div",{className:"artikkel-header",children:[(0,Na.jsxs)("p",{children:["Du har skrevet ",u.length," ",1===u.length?"artikkel":"artikler"]}),(0,Na.jsx)(xt,{to:"/ny-artikkel",className:"ny-artikkel-knapp",children:"Skriv ny artikkel"})]}),s?(0,Na.jsxs)("div",{className:"rediger-form",children:[(0,Na.jsx)("h3",{children:"Rediger artikkel"}),(0,Na.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i(s),o(null),c("Artikkelen ble oppdatert"),setTimeout((()=>c("")),3e3)},children:[(0,Na.jsxs)("div",{className:"form-gruppe",children:[(0,Na.jsx)("label",{htmlFor:"tittel",children:"Tittel:"}),(0,Na.jsx)("input",{type:"text",id:"tittel",value:s.tittel,onChange:e=>o({...s,tittel:e.target.value}),required:!0})]}),(0,Na.jsxs)("div",{className:"form-gruppe",children:[(0,Na.jsx)("label",{htmlFor:"ingress",children:"Ingress:"}),(0,Na.jsx)("textarea",{id:"ingress",value:s.ingress,onChange:e=>o({...s,ingress:e.target.value}),required:!0})]}),(0,Na.jsxs)("div",{className:"form-gruppe",children:[(0,Na.jsx)("label",{htmlFor:"innhold",children:"Innhold:"}),(0,Na.jsx)("textarea",{id:"innhold",value:s.innhold,onChange:e=>o({...s,innhold:e.target.value}),required:!0,rows:"10"})]}),(0,Na.jsxs)("div",{className:"form-gruppe",children:[(0,Na.jsx)("label",{htmlFor:"bilde",children:"Bilde URL:"}),(0,Na.jsx)("input",{type:"text",id:"bilde",value:s.bilde,onChange:e=>o({...s,bilde:e.target.value})})]}),(0,Na.jsxs)("div",{className:"form-gruppe",children:[(0,Na.jsx)("label",{htmlFor:"kategori",children:"Kategori:"}),(0,Na.jsxs)("select",{id:"kategori",value:s.kategori,onChange:e=>o({...s,kategori:e.target.value}),required:!0,children:[(0,Na.jsx)("option",{value:"nyheter",children:"Nyheter"}),(0,Na.jsx)("option",{value:"kultur",children:"Kultur"}),(0,Na.jsx)("option",{value:"sport",children:"Sport"}),(0,Na.jsx)("option",{value:"skole",children:"Skole"}),(0,Na.jsx)("option",{value:"annet",children:"Annet"})]})]}),(0,Na.jsxs)("div",{className:"form-gruppe",children:[(0,Na.jsx)("label",{htmlFor:"status",children:"Status:"}),(0,Na.jsxs)("select",{id:"status",value:s.status,onChange:e=>o({...s,status:e.target.value}),required:!0,children:[(0,Na.jsx)("option",{value:"publisert",children:"Publisert"}),(0,Na.jsx)("option",{value:"utkast",children:"Utkast"})]})]}),(0,Na.jsxs)("div",{className:"knapp-gruppe",children:[(0,Na.jsx)("button",{type:"submit",className:"lagre-knapp",children:"Lagre endringer"}),(0,Na.jsx)("button",{type:"button",className:"avbryt-knapp",onClick:()=>{o(null)},children:"Avbryt"})]})]})]}):(0,Na.jsx)("div",{className:"artikkel-liste",children:u.map((e=>(0,Na.jsxs)("div",{className:"artikkel-kort",children:[(0,Na.jsxs)("div",{className:"artikkel-info",children:[(0,Na.jsx)("h3",{children:e.tittel}),(0,Na.jsxs)("div",{className:"artikkel-meta",children:[(0,Na.jsx)("span",{className:`status-${e.status}`,children:e.status}),(0,Na.jsx)("span",{className:"kategori",children:e.kategori}),(0,Na.jsx)("span",{className:"dato",children:e.dato?new Date(e.dato).toLocaleDateString("nb-NO"):"Ukjent dato"})]}),(0,Na.jsx)("p",{className:"ingress",children:e.ingress})]}),(0,Na.jsxs)("div",{className:"artikkel-handlinger",children:[(0,Na.jsx)(xt,{to:`/artikkel/${e.id}`,className:"vis-knapp",children:"Vis"}),(0,Na.jsx)("button",{className:"rediger-knapp",onClick:()=>(e=>{o({...e})})(e),children:"Rediger"}),(0,Na.jsx)("button",{className:"slett-knapp",onClick:()=>{return t=e.id,void(window.confirm("Er du sikker p\xe5 at du vil slette denne artikkelen?")&&(a(t),c("Artikkelen ble slettet"),setTimeout((()=>c("")),3e3)));var t},children:"Slett"})]})]},e.id)))})]})]})};const $i=function(e){let{innloggetBruker:n,artikler:r=[],brukere:a=[],jobbliste:i=[],kategoriliste:s=[],onDeleteArticle:o,onUpdateArticle:l,onUpdateUser:c,onDeleteUser:u,onApproveArticle:d,onUpdateJobbliste:h,onUpdateKategoriliste:f,onEndreRolleBruker:p}=e;const{translations:g}=Aa(),[m,v]=(0,t.useState)("artikler"),[k,y]=(0,t.useState)(null),[b,w]=(0,t.useState)(null),[x,S]=(0,t.useState)(null),[j,_]=(0,t.useState)(null),[E,T]=(0,t.useState)(""),[N,C]=(0,t.useState)("");if((0,t.useEffect)((()=>{P()}),[r]),!n||"admin"!==n.rolle&&"redakt\xf8r"!==n.rolle&&"teknisk_leder"!==n.rolle)return(0,Na.jsx)(lt,{to:"/",replace:!0});const P=()=>{},O=(e,t)=>{window.confirm(`Er du sikker p\xe5 at du vil endre rollen til ${t}?`)&&(p(e,t),T(`Rollen er endret til ${t}`),setTimeout((()=>T("")),3e3))};return(0,Na.jsxs)("div",{className:"admin-panel",children:[(0,Na.jsx)("h2",{children:"Administrasjonspanel"}),E&&(0,Na.jsx)("div",{className:"melding-boks",children:E}),N&&(0,Na.jsx)("div",{className:"feilmelding",children:N}),(0,Na.jsxs)("div",{className:"admin-tabs",children:[(0,Na.jsxs)("button",{className:"artikler"===m?"tab-active":"",onClick:()=>v("artikler"),children:["Artikler (",r.length,")"]}),(0,Na.jsxs)("button",{className:"brukere"===m?"tab-active":"",onClick:()=>v("brukere"),children:["Brukere (",a.length,")"]}),(0,Na.jsxs)("button",{className:"jobbliste"===m?"tab-active":"",onClick:()=>v("jobbliste"),children:["Jobbliste (",i.length,")"]}),(0,Na.jsxs)("button",{className:"kategorier"===m?"tab-active":"",onClick:()=>v("kategorier"),children:["Kategorier (",s.length,")"]})]}),"artikler"===m&&(0,Na.jsxs)("div",{className:"admin-section",children:[(0,Na.jsx)("h3",{children:"Administrer artikler"}),(0,Na.jsxs)("table",{className:"admin-table",children:[(0,Na.jsx)("thead",{children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{children:"Tittel"}),(0,Na.jsx)("th",{children:"Forfatter"}),(0,Na.jsx)("th",{children:"Kategori"}),(0,Na.jsx)("th",{children:"Status"}),(0,Na.jsx)("th",{children:"Dato"}),(0,Na.jsx)("th",{children:"Handlinger"})]})}),(0,Na.jsx)("tbody",{children:r.map((e=>(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("td",{children:e.tittel}),(0,Na.jsx)("td",{children:e.forfatter}),(0,Na.jsx)("td",{children:e.kategori}),(0,Na.jsx)("td",{children:(0,Na.jsx)("span",{className:"status "+(e.godkjent?"godkjent":"venter"),children:e.godkjent?"Publisert":"Venter p\xe5 godkjenning"})}),(0,Na.jsx)("td",{children:e.dato?new Date(e.dato).toLocaleDateString("no-NO"):"Ukjent dato"}),(0,Na.jsxs)("td",{className:"admin-buttons",children:[(0,Na.jsx)(xt,{to:`/artikkel/${e.artikkelID}`,className:"view-button",children:"Se"}),!e.godkjent&&(0,Na.jsx)("button",{className:"approve-button",onClick:()=>{return t=e.artikkelID,void(window.confirm("Er du sikker p\xe5 at du vil godkjenne denne artikkelen?")&&(d(t),T("Artikkelen er godkjent og publisert"),setTimeout((()=>T("")),3e3)));var t},children:"Godkjenn"}),(0,Na.jsx)("button",{className:"delete-button",onClick:()=>o(e.artikkelID),children:"Slett"})]})]},e.artikkelID)))})]})]}),"brukere"===m&&(0,Na.jsxs)("div",{className:"admin-section",children:[(0,Na.jsx)("h3",{children:"Administrer brukere"}),(0,Na.jsxs)("table",{className:"admin-table",children:[(0,Na.jsx)("thead",{children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{children:"Navn"}),(0,Na.jsx)("th",{children:"E-post"}),(0,Na.jsx)("th",{children:"Klasse"}),(0,Na.jsx)("th",{children:"Rolle"}),(0,Na.jsx)("th",{children:"Registrert"}),(0,Na.jsx)("th",{children:"Handlinger"})]})}),(0,Na.jsx)("tbody",{children:a.map((e=>(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("td",{children:e.navn}),(0,Na.jsx)("td",{children:e.epost}),(0,Na.jsx)("td",{children:e.klasse||"-"}),(0,Na.jsx)("td",{children:e.rolle}),(0,Na.jsx)("td",{children:e.dato?new Date(e.dato).toLocaleDateString("no-NO"):e.opprettet?new Date(e.opprettet).toLocaleDateString("no-NO"):"Ukjent dato"}),(0,Na.jsx)("td",{className:"admin-buttons",children:e.id!==n.id&&(0,Na.jsx)("button",{className:"delete-button",onClick:()=>u(e.id),children:"Slett"})})]},e.id)))})]})]}),"jobbliste"===m&&(0,Na.jsxs)("div",{className:"admin-section",children:[(0,Na.jsx)("h3",{children:"Jobbliste - Redakt\xf8rer og journalister"}),(0,Na.jsxs)("table",{className:"admin-table",children:[(0,Na.jsx)("thead",{children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{children:"Navn"}),(0,Na.jsx)("th",{children:"Rolle"}),(0,Na.jsx)("th",{children:"Dato tillagt"}),(0,Na.jsx)("th",{children:"Handlinger"})]})}),(0,Na.jsx)("tbody",{children:i.map((e=>(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("td",{children:e.navn}),(0,Na.jsx)("td",{children:e.rolle}),(0,Na.jsx)("td",{children:e.dato?new Date(e.dato).toLocaleDateString("no-NO"):"Ukjent dato"}),(0,Na.jsxs)("td",{className:"admin-buttons",children:["Journalist"===e.rolle&&(0,Na.jsx)("button",{className:"approve-button",onClick:()=>O(e.id,"Redakt\xf8r"),children:"Gj\xf8r til redakt\xf8r"}),"Redakt\xf8r"===e.rolle&&"Administrator"!==e.navn&&(0,Na.jsx)("button",{className:"approve-button",onClick:()=>O(e.id,"Journalist"),children:"Gj\xf8r til journalist"}),(0,Na.jsx)("button",{className:"delete-button",onClick:()=>{if(window.confirm("Er du sikker p\xe5 at du vil fjerne denne personen fra jobblisten?")){const t=i.filter((t=>t.id!==e.id));h(t),T("Person fjernet fra jobblisten"),setTimeout((()=>T("")),3e3)}},children:"Fjern"})]})]},e.id)))})]}),(0,Na.jsxs)("div",{className:"admin-info",children:[(0,Na.jsx)("h4",{children:"Om jobblisten"}),(0,Na.jsx)("p",{children:"Jobblisten viser hvem som er redakt\xf8r/administrator og journalister i Nyskolen Posten."}),(0,Na.jsx)("p",{children:"N\xe5r en bruker godkjennes, legges de automatisk til i jobblisten som journalist."}),(0,Na.jsx)("p",{children:"Alle nye brukere m\xe5 godkjennes manuelt av en administrator f\xf8r de f\xe5r rettigheter."}),(0,Na.jsx)("p",{children:"Som redakt\xf8r kan du gi andre brukere redakt\xf8rrolle eller endre tilbake til journalist."})]})]}),"kategorier"===m&&(0,Na.jsxs)("div",{className:"admin-section",children:[(0,Na.jsx)("h3",{children:"Kategoriliste - Ansvarsomr\xe5der"}),(0,Na.jsxs)("table",{className:"admin-table",children:[(0,Na.jsx)("thead",{children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{children:"Kategori"}),(0,Na.jsx)("th",{children:"Ansvarlig"}),(0,Na.jsx)("th",{children:"Handlinger"})]})}),(0,Na.jsx)("tbody",{children:s.map((e=>(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("td",{children:e.kategori}),(0,Na.jsx)("td",{children:e.ansvarlig}),(0,Na.jsx)("td",{className:"admin-buttons",children:(0,Na.jsx)("button",{className:"view-button",onClick:()=>{_(e)},children:"Endre ansvarlig"})})]},e.id)))})]}),j&&(0,Na.jsxs)("div",{className:"rediger-form",children:[(0,Na.jsxs)("h4",{children:["Endre ansvarlig for ",j.kategori]}),(0,Na.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=s.map((e=>e.id===j.id?j:e));f(t),_(null),T("Kategoriansvarlig oppdatert"),setTimeout((()=>T("")),3e3)},children:[(0,Na.jsxs)("div",{className:"form-gruppe",children:[(0,Na.jsx)("label",{htmlFor:"ansvarlig",children:"Ansvarlig:"}),(0,Na.jsx)("select",{id:"ansvarlig",value:j.ansvarlig,onChange:e=>_({...j,ansvarlig:e.target.value}),required:!0,children:a.filter((e=>e.godkjent)).map((e=>(0,Na.jsxs)("option",{value:e.navn,children:[e.navn," (",e.rolle,")"]},e.id)))})]}),(0,Na.jsxs)("div",{className:"knapp-gruppe",children:[(0,Na.jsx)("button",{type:"submit",className:"lagre-knapp",children:"Lagre endringer"}),(0,Na.jsx)("button",{type:"button",className:"avbryt-knapp",onClick:()=>_(null),children:"Avbryt"})]})]})]}),(0,Na.jsxs)("div",{className:"admin-info",children:[(0,Na.jsx)("h4",{children:"Om kategorilisten"}),(0,Na.jsx)("p",{children:"Kategorilisten viser hvem som er ansvarlig for de ulike kategoriene i Nyskolen Posten."}),(0,Na.jsx)("p",{children:"Hver kategori b\xf8r ha en ansvarlig redakt\xf8r eller journalist som kvalitetssikrer innholdet."})]})]})]})};const Ui=function(e){let{innloggetBruker:n,currentSettings:r,onUpdateSettings:a}=e;const{translations:i}=Aa(),[s,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)(!1),[p,g]=(0,t.useState)(""),[m,v]=(0,t.useState)(r||{lockdown:!1,fullLockdown:!1,note:""});if((0,t.useEffect)((()=>{const e=async()=>{try{if(!await(async()=>{try{const{data:{session:e},error:t}=await va.auth.getSession();if(t)throw t;return e}catch(e){return ha(e,"Autentiseringssjekk"),null}})())throw new Error("Ikke autentisert");const e=await(async()=>{try{const{data:e,error:t}=await va.from("website_settings").select("*").single();if(t&&"PGRST116"===t.code){const{data:e,error:t}=await va.from("website_settings").insert([{id:1,lockdown:!1,full_lockdown:!1,note:"",updated_at:(new Date).toISOString()}]).select().single();if(t)throw t;return e}return e}catch(e){return ha(e,"Initialisering av website_settings"),{id:1,lockdown:!1,full_lockdown:!1,note:"",updated_at:(new Date).toISOString()}}})();e&&v({lockdown:e.lockdown,fullLockdown:e.full_lockdown,note:e.note||""})}catch(e){console.error("Feil ved henting av innstillinger:",e),c("Kunne ikke hente innstillinger fra databasen. Pr\xf8v \xe5 oppdatere siden.")}};n&&"teknisk_leder"===n.rolle&&e()}),[n]),!n||"teknisk_leder"!==n.rolle)return(0,Na.jsxs)("div",{className:"admin-container",children:[(0,Na.jsx)("h1",{children:"Tilgang nektet"}),(0,Na.jsx)("p",{children:"Du har ikke tilgang til denne siden. Kun teknisk leder har tilgang til Website Panel."}),(0,Na.jsxs)("p",{children:["Hvis du mener dette er feil, kontakt systemadministrator p\xe5 ",(0,Na.jsx)("a",{href:"mailto:mattis.tollefsen@nionett.no",children:"mattis.tollefsen@nionett.no"})]})]});const k=e=>{e.preventDefault(),"fix123"===u?(f(!0),c("")):c("Feil passord. Pr\xf8v igjen.")},y=async e=>{try{const{error:t}=await va.from("website_settings").update({lockdown:e.lockdown,full_lockdown:e.fullLockdown,note:e.note,updated_by:n.id}).eq("id",1);if(t)throw t;v(e),a(e),o("Innstillingene ble oppdatert"),c("")}catch(t){console.error("Feil ved oppdatering av innstillinger:",t),c("Kunne ikke oppdatere innstillinger i databasen"),o("")}};return h?(0,Na.jsxs)("div",{className:"website-panel",children:[(0,Na.jsx)("h1",{children:"Website Panel - Teknisk leder"}),(0,Na.jsxs)("p",{className:"welcome-text",children:["Velkommen, ",n.navn,". Her kan du styre tekniske aspekter av nettsiden."]}),s&&(0,Na.jsx)("div",{className:"success-message",children:s}),l&&(0,Na.jsx)("div",{className:"error-message",children:l}),(0,Na.jsxs)("div",{className:"panel-content",children:[(0,Na.jsxs)("div",{className:"panel-section",children:[(0,Na.jsx)("h2",{children:"Nettsidekontroll"}),(0,Na.jsxs)("div",{className:"control-buttons",children:[(0,Na.jsxs)("div",{className:"control-item",children:[(0,Na.jsx)("button",{className:"btn "+(m.lockdown?"btn-danger":"btn-primary"),onClick:()=>{const e={...m,lockdown:!m.lockdown};y(e),o("LOCKDOWN modus er n\xe5 "+(e.lockdown?"aktivert":"deaktivert"))},children:m.lockdown?"DEAKTIVER LOCKDOWN":"AKTIVER LOCKDOWN"}),(0,Na.jsx)("p",{className:"control-description",children:"LOCKDOWN: N\xe5r aktivert, kan brukere bare lese artikler. Admin-paneler er utilgjengelige og nye artikler kan ikke opprettes."})]}),(0,Na.jsxs)("div",{className:"control-item",children:[(0,Na.jsx)("button",{className:"btn "+(m.fullLockdown?"btn-danger":"btn-warning"),onClick:()=>{const e={...m,fullLockdown:!m.fullLockdown};y(e),o("WEBSITE LOCKDOWN er n\xe5 "+(e.fullLockdown?"aktivert":"deaktivert"))},children:m.fullLockdown?"DEAKTIVER WEBSITE LOCKDOWN":"AKTIVER WEBSITE LOCKDOWN"}),(0,Na.jsx)("p",{className:"control-description",children:"WEBSITE LOCKDOWN: N\xe5r aktivert, vises bare en vedlikeholdsmelding p\xe5 nettsiden. Ingen tilgang til innhold."})]})]})]}),(0,Na.jsxs)("div",{className:"panel-section",children:[(0,Na.jsx)("h2",{children:"Forsidemelding (NOTE)"}),(0,Na.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),p.trim()){const e={...m,note:p};y(e),o("NOTE er lagt til p\xe5 forsiden"),g("")}else c("Skriv inn tekst f\xf8r du legger til NOTE")},className:"note-form",children:[(0,Na.jsxs)("div",{className:"form-group",children:[(0,Na.jsx)("label",{htmlFor:"noteText",children:"Meldingstekst:"}),(0,Na.jsx)("textarea",{id:"noteText",value:p,onChange:e=>g(e.target.value),rows:"4",placeholder:"Skriv en viktig melding som skal vises p\xe5 forsiden..."})]}),(0,Na.jsxs)("div",{className:"button-group",children:[(0,Na.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Legg til NOTE"}),m.note&&(0,Na.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{const e={...m,note:""};y(e),o("NOTE er fjernet fra forsiden")},children:"Fjern NOTE"})]})]}),m.note&&(0,Na.jsxs)("div",{className:"preview-note",children:[(0,Na.jsx)("h3",{children:"Forh\xe5ndsvisning av NOTE:"}),(0,Na.jsx)("div",{className:"note-content",children:m.note})]})]}),(0,Na.jsxs)("div",{className:"panel-section",children:[(0,Na.jsx)("h2",{children:"N\xe5v\xe6rende tilstand"}),(0,Na.jsxs)("ul",{className:"status-list",children:[(0,Na.jsxs)("li",{children:[(0,Na.jsx)("strong",{children:"LOCKDOWN Status:"}),(0,Na.jsx)("span",{className:m.lockdown?"status-active":"status-inactive",children:m.lockdown?"AKTIV":"INAKTIV"})]}),(0,Na.jsxs)("li",{children:[(0,Na.jsx)("strong",{children:"WEBSITE LOCKDOWN Status:"}),(0,Na.jsx)("span",{className:m.fullLockdown?"status-active":"status-inactive",children:m.fullLockdown?"AKTIV":"INAKTIV"})]}),(0,Na.jsxs)("li",{children:[(0,Na.jsx)("strong",{children:"NOTE Status:"}),(0,Na.jsx)("span",{className:m.note?"status-active":"status-inactive",children:m.note?"VISES P\xc5 FORSIDEN":"INGEN NOTE"})]})]})]})]}),(0,Na.jsx)("style",{jsx:!0,children:"\n        .website-panel {\n          padding: 40px;\n          max-width: 1200px;\n          margin: 0 auto;\n          background: #f5f7f9;\n          min-height: 100vh;\n        }\n\n        h1 {\n          color: #2c3e50;\n          margin-bottom: 30px;\n          font-size: 2rem;\n          text-align: center;\n        }\n\n        h2 {\n          color: #34495e;\n          margin-bottom: 20px;\n          font-size: 1.5rem;\n          border-bottom: 2px solid #e0e0e0;\n          padding-bottom: 10px;\n        }\n\n        h3 {\n          color: #2c3e50;\n          margin: 20px 0 15px;\n          font-size: 1.2rem;\n        }\n\n        .welcome-text {\n          text-align: center;\n          color: #7f8c8d;\n          margin-bottom: 30px;\n          font-size: 1.1rem;\n        }\n\n        .panel-content {\n          display: flex;\n          flex-direction: column;\n          gap: 40px;\n        }\n\n        .panel-section {\n          background: white;\n          border-radius: 12px;\n          padding: 30px;\n          box-shadow: 0 4px 6px rgba(0,0,0,0.05);\n          transition: transform 0.2s, box-shadow 0.2s;\n        }\n\n        .panel-section:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 6px 12px rgba(0,0,0,0.1);\n        }\n\n        .control-buttons {\n          display: flex;\n          flex-direction: column;\n          gap: 25px;\n        }\n\n        .control-item {\n          display: flex;\n          flex-direction: column;\n          gap: 10px;\n        }\n\n        .control-description {\n          color: #7f8c8d;\n          font-size: 0.95rem;\n          background: #f8f9fa;\n          padding: 12px;\n          border-radius: 8px;\n          margin: 0;\n        }\n\n        .btn {\n          padding: 12px 20px;\n          border: none;\n          border-radius: 8px;\n          font-size: 1rem;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.2s;\n          text-transform: uppercase;\n        }\n\n        .btn:hover {\n          transform: translateY(-1px);\n          box-shadow: 0 4px 8px rgba(0,0,0,0.1);\n        }\n\n        .btn-primary {\n          background: #3498db;\n          color: white;\n        }\n\n        .btn-danger {\n          background: #e74c3c;\n          color: white;\n        }\n\n        .btn-warning {\n          background: #f1c40f;\n          color: #2c3e50;\n        }\n\n        .btn-secondary {\n          background: #95a5a6;\n          color: white;\n          margin-left: 10px;\n        }\n\n        .form-group {\n          margin-bottom: 20px;\n        }\n\n        .form-group label {\n          display: block;\n          margin-bottom: 8px;\n          color: #2c3e50;\n          font-weight: 600;\n        }\n\n        textarea {\n          width: 100%;\n          padding: 12px;\n          border: 2px solid #e0e0e0;\n          border-radius: 8px;\n          font-size: 1rem;\n          transition: border-color 0.2s;\n          resize: vertical;\n        }\n\n        textarea:focus {\n          outline: none;\n          border-color: #3498db;\n        }\n\n        .button-group {\n          display: flex;\n          gap: 10px;\n        }\n\n        .preview-note {\n          margin-top: 25px;\n          padding: 20px;\n          background: #f8f9fa;\n          border-radius: 8px;\n          border: 2px solid #e0e0e0;\n        }\n\n        .note-content {\n          color: #2c3e50;\n          font-size: 1rem;\n          line-height: 1.5;\n          white-space: pre-wrap;\n        }\n\n        .status-list {\n          list-style: none;\n          padding: 0;\n          margin: 0;\n          display: flex;\n          flex-direction: column;\n          gap: 15px;\n        }\n\n        .status-list li {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 12px;\n          background: #f8f9fa;\n          border-radius: 8px;\n          color: #2c3e50;\n        }\n\n        .status-active {\n          color: #27ae60;\n          font-weight: 600;\n        }\n\n        .status-inactive {\n          color: #7f8c8d;\n        }\n\n        .success-message {\n          background: #d4edda;\n          color: #155724;\n          padding: 15px;\n          border-radius: 8px;\n          margin-bottom: 20px;\n          text-align: center;\n        }\n\n        .error-message {\n          background: #f8d7da;\n          color: #721c24;\n          padding: 15px;\n          border-radius: 8px;\n          margin-bottom: 20px;\n          text-align: center;\n        }\n\n        @media (max-width: 768px) {\n          .website-panel {\n            padding: 20px;\n          }\n\n          .panel-section {\n            padding: 20px;\n          }\n\n          .btn {\n            width: 100%;\n          }\n\n          .button-group {\n            flex-direction: column;\n          }\n\n          .btn-secondary {\n            margin-left: 0;\n            margin-top: 10px;\n          }\n        }\n      "})]}):(0,Na.jsxs)("div",{className:"admin-container",children:[(0,Na.jsx)("h1",{children:"Teknisk leder - Tilgangskontroll"}),(0,Na.jsx)("p",{children:"Skriv inn passordet ditt for \xe5 f\xe5 tilgang til Website panel."}),l&&(0,Na.jsx)("div",{className:"error-message",children:l}),(0,Na.jsxs)("form",{onSubmit:k,className:"auth-form",children:[(0,Na.jsxs)("div",{className:"form-group",children:[(0,Na.jsx)("label",{htmlFor:"password",children:"Passord:"}),(0,Na.jsx)("input",{type:"password",id:"password",value:u,onChange:e=>d(e.target.value),required:!0})]}),(0,Na.jsx)("button",{type:"submit",className:"btn",children:"Logg inn"})]})]})},Fi=(e,t)=>{try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch(n){return console.error(`Feil ved lagring av ${e}:`,n),!1}},Mi=e=>{try{const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(t){return console.error(`Feil ved lasting av ${e}:`,t),null}};const zi=function(e){let{innloggetBruker:n}=e;const[r,a]=(0,t.useState)(""),[i,s]=(0,t.useState)(""),[o,l]=(0,t.useState)(!1),c=(0,t.useRef)(null);return!n||"admin"!==n.rolle&&"teknisk_leder"!==n.rolle&&"redakt\xf8r"!==n.rolle?(0,Na.jsxs)("div",{className:"data-panel",children:[(0,Na.jsx)("h2",{children:"Data administrasjon"}),(0,Na.jsx)("div",{className:"feilmelding",children:"Du har ikke tilgang til denne siden. Kun administratorer og tekniske ledere kan administrere data."})]}):(0,Na.jsxs)("div",{className:"data-panel",children:[(0,Na.jsx)("h2",{children:"Data administrasjon"}),r&&(0,Na.jsx)("div",{className:"melding-boks",children:r}),i&&(0,Na.jsx)("div",{className:"feilmelding",children:i}),(0,Na.jsxs)("div",{className:"data-actions",children:[(0,Na.jsxs)("div",{className:"data-section",children:[(0,Na.jsx)("h3",{children:"Eksporter Data"}),(0,Na.jsx)("p",{children:"Last ned en sikkerhetskopi av all data (artikler, brukere, innstillinger). Denne filen kan brukes til \xe5 gjenopprette dataen senere, eller for \xe5 flytte dataen til en annen maskin."}),(0,Na.jsx)("button",{className:"eksport-knapp",onClick:async()=>{a(""),s(""),l(!0);try{const e=await(async()=>{try{const e={artikler:Mi("artikler")||[],brukere:Mi("brukere")||[],jobbliste:Mi("jobbliste")||[],kategoriliste:Mi("kategoriliste")||[],websiteSettings:Mi("websiteSettings")||{}},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(t),r=document.createElement("a");return r.href=n,r.download=`nyskolen_backup_${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(r),r.click(),setTimeout((()=>{document.body.removeChild(r),URL.revokeObjectURL(n)}),0),{success:!0}}catch(e){return console.error("Feil ved eksportering av data:",e),{success:!1,error:e.message}}})();e.success?a("Data eksportert. Nedlastingen starter automatisk."):s(`Kunne ikke eksportere data: ${e.error}`)}catch(e){s(`Feil under eksportering: ${e.message}`)}finally{l(!1)}},disabled:o,children:o?"Eksporterer...":"Eksporter data"})]}),(0,Na.jsxs)("div",{className:"data-section",children:[(0,Na.jsx)("h3",{children:"Importer Data"}),(0,Na.jsxs)("p",{children:["Last opp en tidligere sikkerhetskopi for \xe5 gjenopprette dataen.",(0,Na.jsx)("strong",{children:"Advarsel:"})," Dette vil overskrive all eksisterende data."]}),(0,Na.jsx)("button",{className:"import-knapp",onClick:()=>{c.current.click()},disabled:o,children:o?"Importerer...":"Importer data"}),(0,Na.jsx)("input",{type:"file",ref:c,style:{display:"none"},onChange:async e=>{const t=e.target.files[0];if(t){a(""),s(""),l(!0);try{const e=new FileReader;e.onload=async e=>{try{const t=e.target.result,n=await(async e=>{try{const t=JSON.parse(e);if(!t.artikler||!t.brukere||!t.jobbliste||!t.kategoriliste)throw new Error("Filen inneholder ikke gyldig data for Nyskolen Posten");return Fi("artikler",t.artikler),Fi("brukere",t.brukere),Fi("jobbliste",t.jobbliste),Fi("kategoriliste",t.kategoriliste),t.websiteSettings&&Fi("websiteSettings",t.websiteSettings),window.dispatchEvent(new Event("storage")),{success:!0}}catch(t){return console.error("Feil ved importering av data:",t),{success:!1,error:t.message}}})(t);n.success?(a("Data importert. Siden vil oppdateres automatisk om 3 sekunder."),setTimeout((()=>{window.location.reload()}),3e3)):s(`Kunne ikke importere data: ${n.error}`)}catch(t){s(`Feil under import: ${t.message}`)}finally{l(!1)}},e.onerror=()=>{s("Kunne ikke lese filen"),l(!1)},e.readAsText(t)}catch(n){s(`Feil ved lesing av fil: ${n.message}`),l(!1)}e.target.value=null}},accept:".json"})]})]}),(0,Na.jsxs)("div",{className:"data-info",children:[(0,Na.jsx)("h3",{children:"Om data administrasjon"}),(0,Na.jsx)("p",{children:"All data i Nyskolen Posten lagres lokalt i nettleseren din (localStorage). Dette betyr at data ikke deles automatisk mellom ulike enheter eller nettlesere."}),(0,Na.jsx)("p",{children:"For \xe5 sikre at dataen ikke g\xe5r tapt, b\xf8r du jevnlig eksportere en sikkerhetskopi. Denne kan s\xe5 importeres p\xe5 andre enheter eller brukes til \xe5 gjenopprette dataen hvis noe skulle g\xe5 galt."}),(0,Na.jsxs)("p",{children:[(0,Na.jsx)("strong",{children:"Tips:"})," Eksporter data etter st\xf8rre endringer for \xe5 sikre at alt er lagret."]})]})]})};const Bi=function(){const e=(new Date).getFullYear(),{translations:t}=Aa();return(0,Na.jsx)("footer",{className:"footer",children:(0,Na.jsxs)("div",{className:"footer-innhold",children:[(0,Na.jsxs)("div",{className:"footer-info",children:[(0,Na.jsxs)("p",{children:["\xa9 ",e," ",t.footer.copyright]}),(0,Na.jsxs)("p",{children:[(0,Na.jsxs)("strong",{children:[t.footer.contact,":"]})," ",(0,Na.jsx)("a",{href:"mailto:redaksjonenyskolenposten@nionett.no","aria-label":t.footer.contactAriaLabel,children:"redaksjonenyskolenposten@nionett.no"})]}),(0,Na.jsxs)("p",{className:"teknisk-stotte",children:[(0,Na.jsx)("strong",{children:"Finnet feil/bug? Kontakt meg s\xe5 fikser jeg det s\xe5 fort som mulig!:"})," ",(0,Na.jsx)("a",{href:"mailto:mattis.tollefsen@nionett.no",children:"mattis.tollefsen@nionett.no"})]})]}),(0,Na.jsxs)("div",{className:"footer-lenker",children:[(0,Na.jsx)(xt,{to:"/om-oss",children:t.navigation.about}),(0,Na.jsx)(xt,{to:"/innlogging",children:t.navigation.login}),(0,Na.jsx)(xt,{to:"/registrering",children:t.navigation.register})]})]})})};const Hi=function(){const{language:e,changeLanguage:t,translations:n}=Aa(),{general:r}=n;return(0,Na.jsx)("div",{className:"language-switcher",children:(0,Na.jsx)("div",{className:"language-selector",children:(0,Na.jsxs)("select",{value:e,onChange:e=>t(e.target.value),"aria-label":r.language,children:[(0,Na.jsx)("option",{value:"no",children:r.norwegian}),(0,Na.jsx)("option",{value:"en",children:r.english})]})})})};const Wi=function(e){let{innloggetBruker:t,onLogout:n,isLockdown:r}=e;const{translations:a}=Aa(),{navigation:i,footer:s}=a,o=t&&t.id&&t.navn&&"string"===typeof t.navn&&""!==t.navn.trim(),l=o&&"teknisk_leder"===t.rolle,c=o&&("admin"===t.rolle||"redakt\xf8r"===t.rolle);return(0,Na.jsxs)("header",{className:"header",children:[(0,Na.jsxs)("div",{className:"logo-container",children:[(0,Na.jsx)(xt,{to:"/",className:"logo-link",children:(0,Na.jsx)("h1",{children:"Nyskolen Posten"})}),(0,Na.jsx)("p",{className:"slogan",children:s.copyright}),r&&(0,Na.jsx)("span",{className:"lockdown-indicator",children:"LOCKDOWN MODUS"})]}),(0,Na.jsxs)("nav",{className:"navigation",children:[(0,Na.jsx)(xt,{to:"/",children:i.home}),(0,Na.jsx)(xt,{to:"/om-oss",children:i.about}),t?(0,Na.jsxs)(Na.Fragment,{children:[!r&&o&&(0,Na.jsx)(xt,{to:"/ny-artikkel",children:i.writeArticle}),(c||l)&&!r&&(0,Na.jsx)(xt,{to:"/admin",children:i.admin}),l&&(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsx)(xt,{to:"/website-panel",className:"tech-leader-link",children:"Website Panel"}),(0,Na.jsx)(xt,{to:"/data-panel",className:"tech-leader-link",children:"Data Panel"})]}),c&&!l&&(0,Na.jsx)(xt,{to:"/data-panel",className:"admin-link",children:"Data Panel"}),!o&&(0,Na.jsx)("div",{className:"invalid-user-warning",children:"Ugyldig brukerdata oppdaget!"}),(0,Na.jsx)("button",{onClick:n,className:"logout-button "+(o?"":"urgent"),children:o?`${i.logout} (${o?t.navn||"Bruker":"Ukjent bruker"})`:"Fjern ugyldig bruker"})]}):(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsx)(xt,{to:"/login",className:"login-button",children:i.login}),(0,Na.jsx)(xt,{to:"/register",className:"register-button",children:i.register})]}),(0,Na.jsx)(Hi,{})]})]})};const Ki=function(e){let{onLogin:n}=e;const{translations:r}=Aa(),{signIn:a,authError:i,user:s}=Ma(),o=Je(),[l,c]=(0,t.useState)({email:"",password:""}),[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)(""),[p,g]=(0,t.useState)(!1),[m,v]=(0,t.useState)(!navigator.onLine);(0,t.useEffect)((()=>{const e=()=>v(!1),t=()=>v(!0);return window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}}),[]),(0,t.useEffect)((()=>{s&&o("/")}),[s,o]);const k=e=>{const{name:t,value:n}=e.target;c({...l,[t]:n}),d(""),f("")};return(0,Na.jsxs)("div",{className:"innlogging-container",children:[(0,Na.jsx)("h2",{children:r.login.title}),m&&(0,Na.jsxs)("div",{className:"offline-notice",children:[(0,Na.jsx)("strong",{children:"Du er offline."})," Innlogging vil pr\xf8ve \xe5 bruke lokalt lagrede data."]}),(i||u)&&(0,Na.jsxs)("div",{className:"feilmelding",role:"alert",children:[i||u,(0,Na.jsxs)("div",{className:"teknisk-stotte",children:[(0,Na.jsx)("p",{children:"Opplever du problemer med innloggingen?"}),(0,Na.jsxs)("ul",{children:[(0,Na.jsx)("li",{children:"Sjekk at du har internettforbindelse"}),(0,Na.jsx)("li",{children:"Pr\xf8v \xe5 oppdatere siden"}),(0,Na.jsx)("li",{children:"T\xf8m nettleserens hurtigbuffer (cache)"}),(0,Na.jsxs)("li",{children:["Kontakt teknisk leder i NyskolenPosten: ",(0,Na.jsx)("a",{href:"mailto:mattis.tollefsen@nionett.no",children:"mattis.tollefsen@nionett.no"})]})]})]})]}),h&&(0,Na.jsx)("div",{className:"suksessmelding",role:"status",children:h}),(0,Na.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),g(!0),d(""),m&&console.log("Bruker er offline, bruker lokal innlogging"),!l.email||!l.password)return d(r.login.fillBothFields),void g(!1);try{if(!await a(l.email,l.password))return d(i||r.login.loginFailed),void g(!1);f(r.login.loginSuccess),d(""),n&&"function"===typeof n&&n(),setTimeout((()=>{o("/")}),1e3)}catch(t){console.error("Innloggingsfeil:",t),t.message&&(t.message.includes("fetch")||t.message.includes("network")||t.message.includes("timeout")||t.message.includes("connection"))?d("Nettverksfeil: Kunne ikke koble til serveren. Sjekk internettforbindelsen."):d(t.message||r.login.loginFailed)}finally{g(!1)}},children:[(0,Na.jsxs)("div",{className:"form-group",children:[(0,Na.jsx)("label",{htmlFor:"email",children:r.login.email}),(0,Na.jsx)("input",{type:"email",id:"email",name:"email",value:l.email,onChange:k,placeholder:r.login.emailPlaceholder,autoComplete:"email",inputMode:"email",required:!0})]}),(0,Na.jsxs)("div",{className:"form-group",children:[(0,Na.jsx)("label",{htmlFor:"password",children:r.login.password}),(0,Na.jsx)("input",{type:"password",id:"password",name:"password",value:l.password,onChange:k,placeholder:r.login.passwordPlaceholder,autoComplete:"current-password",required:!0})]}),(0,Na.jsx)("button",{type:"submit",className:"login-knapp",disabled:p,children:p?r.general.loading:r.login.loginButton})]}),(0,Na.jsx)("div",{className:"register-link",children:(0,Na.jsxs)("p",{children:[r.login.registerPrompt," ",(0,Na.jsx)(xt,{to:"/registrer",children:r.login.registerHere})]})})]})};const Vi=function(){const{translations:e}=Aa(),{signUp:n,authError:r}=Ma(),a=Je(),[i,s]=(0,t.useState)(1),[o,l]=(0,t.useState)({navn:"",email:"",password:"",bekreftPassword:"",klasse:"Gul"}),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)(!1),g=e=>{const{name:t,value:n}=e.target;l({...o,[t]:n}),u(""),h("")},m=async t=>{if(t.preventDefault(),o.navn&&o.email&&o.password&&o.klasse?o.password!==o.bekreftPassword?(u(e.registration.passwordsMustMatch),0):o.email.includes("@")||(u(e.registration.invalidEmail),0):(u(e.registration.allFieldsRequired),0)){u(""),h(""),p(!0);try{if(!await n(o.email,o.password,o.navn,o.klasse))return u(r||e.registration.registrationFailed),void p(!1);h(e.registration.registrationSuccess),s(2),window.location.hostname.includes("github.io")&&setTimeout((()=>a("/")),1500)}catch(i){u(i.message||e.registration.registrationFailed)}finally{p(!1)}}},v=()=>(0,Na.jsx)("div",{className:"registrering-steg",children:(0,Na.jsxs)("div",{className:"steg-indikator",children:[(0,Na.jsx)("div",{className:"steg-dot "+(i>=1?"aktiv":""),role:"progressbar","aria-valuenow":"1","aria-valuemin":"1","aria-valuemax":"2"}),(0,Na.jsx)("div",{className:"steg-dot "+(i>=2?"aktiv":""),role:"progressbar","aria-valuenow":"2","aria-valuemin":"1","aria-valuemax":"2"})]})});return 1===i?(0,Na.jsxs)("div",{className:"registrering-container",children:[(0,Na.jsx)("h2",{children:e.registration.title}),(0,Na.jsx)(v,{}),c&&(0,Na.jsxs)("div",{className:"feilmelding",role:"alert",children:[c,(0,Na.jsxs)("div",{className:"teknisk-stotte",children:[(0,Na.jsxs)("p",{children:["Fant du en feil/bug? Kontakt teknisk leder i NyskolenPosten: ",(0,Na.jsx)("a",{href:"mailto:mattis.tollefsen@nionett.no",children:"mattis.tollefsen@nionett.no"})]}),(0,Na.jsx)("p",{children:"Jeg fikser det s\xe5 fort som mulig!"})]})]}),d&&(0,Na.jsx)("div",{className:"suksessmelding",role:"status",children:d}),(0,Na.jsxs)("form",{onSubmit:m,autoComplete:"on",children:[(0,Na.jsxs)("div",{className:"form-group",children:[(0,Na.jsx)("label",{htmlFor:"navn",children:e.registration.name}),(0,Na.jsx)("input",{type:"text",id:"navn",name:"navn",value:o.navn,onChange:g,placeholder:e.registration.namePlaceholder,autoComplete:"name",required:!0})]}),(0,Na.jsxs)("div",{className:"form-group",children:[(0,Na.jsx)("label",{htmlFor:"email",children:e.registration.email}),(0,Na.jsx)("input",{type:"email",id:"email",name:"email",value:o.email,onChange:g,placeholder:e.registration.emailPlaceholder,autoComplete:"email",inputMode:"email",required:!0})]}),(0,Na.jsxs)("div",{className:"form-group",children:[(0,Na.jsx)("label",{htmlFor:"password",children:e.registration.password}),(0,Na.jsx)("input",{type:"password",id:"password",name:"password",value:o.password,onChange:g,placeholder:e.registration.passwordPlaceholder,autoComplete:"new-password",minLength:"6",required:!0})]}),(0,Na.jsxs)("div",{className:"form-group",children:[(0,Na.jsx)("label",{htmlFor:"bekreftPassword",children:e.registration.confirmPassword}),(0,Na.jsx)("input",{type:"password",id:"bekreftPassword",name:"bekreftPassword",value:o.bekreftPassword,onChange:g,placeholder:e.registration.confirmPasswordPlaceholder,autoComplete:"new-password",minLength:"6",required:!0})]}),(0,Na.jsxs)("div",{className:"form-group",children:[(0,Na.jsx)("label",{htmlFor:"klasse",children:e.registration.class}),(0,Na.jsxs)("select",{id:"klasse",name:"klasse",value:o.klasse,onChange:g,required:!0,children:[(0,Na.jsx)("option",{value:"Gul",children:"Gul"}),(0,Na.jsx)("option",{value:"R\xf8d",children:"R\xf8d"}),(0,Na.jsx)("option",{value:"Bl\xe5",children:"Bl\xe5"}),(0,Na.jsx)("option",{value:"Ungdomstrinnet",children:"Ungdomstrinnet"}),(0,Na.jsx)("option",{value:"Ansatte",children:"Ansatte"})]})]}),(0,Na.jsx)("button",{type:"submit",className:"registrer-knapp",disabled:f,children:f?e.general.loading:e.registration.registerButton})]}),(0,Na.jsx)("div",{className:"innlogging-link",children:(0,Na.jsxs)("p",{children:[e.registration.haveAccount," ",(0,Na.jsx)(xt,{to:"/logg-inn",children:e.registration.loginHere})]})})]}):(0,Na.jsxs)("div",{className:"registrering-container",children:[(0,Na.jsx)("h2",{children:e.registration.registrationComplete}),(0,Na.jsx)(v,{}),(0,Na.jsx)("div",{className:"suksessmelding",role:"status",children:d}),(0,Na.jsx)("button",{className:"innlogging-knapp",onClick:()=>a("/"),children:e.registration.goToHome})]})},Ji=()=>{const[e,n]=(0,t.useState)(!1),[r,a]=(0,t.useState)([]),[i,s]=(0,t.useState)({}),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(50),[d,h]=(0,t.useState)(!0),[f,p]=(0,t.useState)(!1),[g,m]=(0,t.useState)({});(0,t.useEffect)((()=>{if(e){let e;return v(),f&&(e=setInterval((()=>{v()}),2e3)),()=>{e&&clearInterval(e)}}}),[e,o,f]);const v=()=>{const e=bi.getStats();s(e);const t=Object.keys(bi.cache).map((e=>{const t=bi.expiry[e],n=Math.round((t-Date.now())/1e3),r=bi.cacheHitCount[e]||0,a=bi.cache[e];let i=0;try{i=2*JSON.stringify(a).length}catch(Za){i=512}return{key:e,value:a,expiryTime:t,timeLeft:n,isExpired:n<=0,hitCount:r,estimatedSize:i}}));a(t.sort(((e,t)=>e.key.localeCompare(t.key))));const n=t.reduce(((e,t)=>e+t.estimatedSize),0);m({entriesSize:k(n),rawSize:n})},k=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";const n=t<0?0:t,r=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,r)).toFixed(n))+" "+["Bytes","KB","MB","GB","TB"][r]};return null},qi=window.location.hostname.includes("github.io");const Gi=function(){const e=Je(),n=Ke(),r=["/register","/registrer","/login","/logg-inn","/ny-artikkel","/mine-artikler","/admin","/profil","/website-panel","/data-panel"];return(0,t.useEffect)((()=>{if(qi){const t=n.pathname;for(const n of r)if(t.includes(n))return console.log(`Omdirigerer til kjent rute: ${n}`),void e(n,{replace:!0});if(t.includes("/artikkel/")){const n="/artikkel/"+t.split("/artikkel/")[1];return console.log(`Omdirigerer til artikkel: ${n}`),void e(n,{replace:!0})}const a=window.location.pathname,i=a.split("/");if(i.length>=2){if("NyskolenPosten"!==i[1]&&i.length>2){const t="/NyskolenPosten"+("/"+i.slice(2).join("/"));return console.log(`Omdirigerer fra ${a} til ${t}`),void e(t,{replace:!0})}}const s=sessionStorage.getItem("redirectPath");if(s)return console.log(`Omdirigerer fra NotFound til lagret sti: ${s}`),sessionStorage.removeItem("redirectPath"),void e(s,{replace:!0})}}),[e,n.pathname]),(0,Na.jsxs)("div",{className:"not-found-container",children:[(0,Na.jsx)("h1",{children:"404 - Siden finnes ikke"}),(0,Na.jsx)("p",{children:"Beklager, men siden du leter etter finnes ikke."}),(0,Na.jsxs)("div",{className:"direct-links-container",children:[(0,Na.jsx)("h3",{children:"Hurtiglenker"}),(0,Na.jsx)("div",{className:"direct-links",children:[{path:"/register",text:"Registrering"},{path:"/login",text:"Logg inn"},{path:"/",text:"Forsiden"}].map(((e,t)=>(0,Na.jsx)(xt,{to:e.path,className:"direct-link",children:e.text},t)))})]}),qi&&(0,Na.jsxs)("div",{className:"github-pages-info",children:[(0,Na.jsx)("h2",{children:"GitHub Pages informasjon"}),(0,Na.jsx)("p",{children:"Dette er en React-app p\xe5 GitHub Pages, som kan ha problemer med direkte URL-tilgang."}),(0,Na.jsx)("p",{children:"For \xe5 sikre at du n\xe5r alle sider korrekt, start fra forsiden og naviger via menyene."})]}),(0,Na.jsxs)("div",{className:"action-links",children:[(0,Na.jsx)(xt,{to:"/",className:"home-link",children:"G\xe5 til forsiden"}),(0,Na.jsx)("button",{onClick:()=>window.location.reload(),className:"reload-button",children:"Last siden p\xe5 nytt"})]})]})},Qi=(0,t.createContext)(null),Yi=()=>{const{user:e,updateUser:n,logout:r}=(()=>{const e=(0,t.useContext)(Qi);if(null===e)throw new Error("useAuth m\xe5 brukes innenfor en AuthProvider");return e})(),{translations:a}=Aa(),i=Je(),[s,o]=(0,t.useState)({navn:"",epost:"",passord:"",bekreftPassord:""}),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)(!1);(0,t.useEffect)((()=>{e?o({navn:e.navn||"",epost:e.epost||"",passord:"",bekreftPassord:""}):i("/innlogging")}),[e,i]);const p=e=>{const{name:t,value:n}=e.target;o((e=>({...e,[t]:n})))};return e?(0,Na.jsxs)("div",{className:"profil-container",children:[(0,Na.jsx)("h2",{children:"Min profil"}),l&&(0,Na.jsx)("div",{className:"feilmelding",children:l}),u&&(0,Na.jsx)("div",{className:"suksessmelding",children:u}),(0,Na.jsxs)("form",{onSubmit:t=>{if(t.preventDefault(),c(""),d(""),!s.navn.trim())return void c("Navn er p\xe5krevd");if(!s.epost.trim())return void c("E-post er p\xe5krevd");if(s.passord){if(s.passord.length<6)return void c("Passordet m\xe5 v\xe6re minst 6 tegn");if(s.passord!==s.bekreftPassord)return void c("Passordene m\xe5 v\xe6re like")}const r={...e,navn:s.navn,epost:s.epost};s.passord&&(r.passord=s.passord),n(r);const a=JSON.parse(localStorage.getItem("brukere")||"[]").map((t=>t.id===e.id?r:t));localStorage.setItem("brukere",JSON.stringify(a)),d("Profilen din er oppdatert"),o((e=>({...e,passord:"",bekreftPassord:""})))},className:"profil-form",children:[(0,Na.jsxs)("div",{className:"form-group",children:[(0,Na.jsx)("label",{htmlFor:"navn",children:"Navn"}),(0,Na.jsx)("input",{type:"text",id:"navn",name:"navn",value:s.navn,onChange:p})]}),(0,Na.jsxs)("div",{className:"form-group",children:[(0,Na.jsx)("label",{htmlFor:"epost",children:"E-post"}),(0,Na.jsx)("input",{type:"email",id:"epost",name:"epost",value:s.epost,onChange:p})]}),(0,Na.jsxs)("div",{className:"form-group",children:[(0,Na.jsx)("label",{htmlFor:"passord",children:"Nytt passord (la v\xe6re tomt for \xe5 beholde n\xe5v\xe6rende)"}),(0,Na.jsxs)("div",{className:"passord-container",children:[(0,Na.jsx)("input",{type:h?"text":"password",id:"passord",name:"passord",value:s.passord,onChange:p}),(0,Na.jsx)("button",{type:"button",className:"vis-passord-knapp",onClick:()=>f(!h),children:h?"\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f":"\ud83d\udc41\ufe0f"})]})]}),(0,Na.jsxs)("div",{className:"form-group",children:[(0,Na.jsx)("label",{htmlFor:"bekreftPassord",children:"Bekreft nytt passord"}),(0,Na.jsx)("input",{type:h?"text":"password",id:"bekreftPassord",name:"bekreftPassord",value:s.bekreftPassord,onChange:p})]}),(0,Na.jsxs)("div",{className:"profil-actions",children:[(0,Na.jsx)("button",{type:"submit",className:"lagre-knapp",children:"Lagre endringer"}),(0,Na.jsx)("button",{type:"button",className:"slett-konto-knapp",onClick:()=>{if(window.confirm("Er du sikker p\xe5 at du vil slette kontoen din? Dette kan ikke angres.")){const t=JSON.parse(localStorage.getItem("brukere")||"[]").filter((t=>t.id!==e.id));localStorage.setItem("brukere",JSON.stringify(t)),r(),i("/")}},children:"Slett konto"})]})]}),(0,Na.jsxs)("div",{className:"profil-info",children:[(0,Na.jsxs)("p",{children:[(0,Na.jsx)("strong",{children:"Brukerrolle:"})," ",e.rolle]}),(0,Na.jsxs)("p",{children:[(0,Na.jsx)("strong",{children:"Medlem siden:"})," ",e.dato?new Date(e.dato).toLocaleDateString("no-NO"):e.opprettet?new Date(e.opprettet).toLocaleDateString("no-NO"):"Ukjent dato"]})]})]}):(0,Na.jsx)("div",{className:"laster",children:"Laster profil..."})},Xi=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Autentisering";console.warn(`${t} feilet. Bruker fallback.`)},Zi=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Operasjon";const r=new Promise(((e,r)=>setTimeout((()=>r(new Error(`Tidsavbrudd for ${n}`))),t)));return Promise.race([e,r])},es="NyskolenPosten2025_HEMMELIG_N\xd8KKEL",ts=e=>{if(!e)return"";try{let t="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n)^es.charCodeAt(n%34);t+=String.fromCharCode(r)}return btoa(t)}catch(t){return console.error("Kryptering feilet:",t),""}},ns=()=>{try{const e=(()=>{try{const e=JSON.parse(localStorage.getItem("brukere"))||[];let t=0,n=0;const r=e.map((e=>e.password&&!(e=>{if(!e)return!1;try{return/^[A-Za-z0-9+/=]+$/.test(e)&&e.length%4===0}catch(t){return!1}})(e.password)?(t++,{...e,password:ts(e.password)}):(e.password&&n++,e)));return t>0&&localStorage.setItem("brukere",JSON.stringify(r)),{success:!0,total:e.length,migrerte:t,alleredeMigrert:n,ingenPassord:e.length-t-n}}catch(e){return console.error("Feil ved migrering av passord:",e),{success:!1,error:e.message}}})();return e.success&&e.migrerte>0&&console.log(`Migrerte ${e.migrerte} passord til kryptert format.`),e}catch(e){return console.error("Automatisk passordmigrering feilet:",e),{success:!1,error:e.message}}};n.p;const rs=window.location.hostname.includes("github.io"),as=("localhost"===window.location.hostname||window.location.hostname,()=>{if(rs){const e=window.location.pathname.split("/");return e.length>=2?"/"+e[1]:"/NyskolenPosten"}return"/"});function is(){const{user:e,signOut:n}=Ma(),[r,a]=(0,t.useState)([]),[i,s]=(0,t.useState)([]),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)(navigator.onLine),[f,p]=(0,t.useState)({lockdown:!1,fullLockdown:!1,note:""});(0,t.useEffect)((()=>{(()=>{try{const e=localStorage.getItem("innloggetBruker");if(e){const t=JSON.parse(e);t&&t.id&&t.email&&"object"===typeof t||(console.warn("Fjerner korrupte innloggetBruker-data"),localStorage.removeItem("innloggetBruker"))}}catch(Za){console.error("Feil ved parsing av innloggetBruker, fjerner data:",Za),localStorage.removeItem("innloggetBruker")}try{const e=localStorage.getItem("currentUser");if(e){const t=JSON.parse(e);t&&(t.id||t.uid)&&"object"===typeof t||(console.warn("Fjerner korrupte currentUser-data"),localStorage.removeItem("currentUser"))}}catch(Za){console.error("Feil ved parsing av currentUser, fjerner data:",Za),localStorage.removeItem("currentUser")}})()}),[]);const g=async()=>{try{const{data:{session:t}}=await va.auth.getSession(),{data:n,error:r}=await va.from("website_settings").select("*").single();if(r){if("PGRST116"!==r.code)throw r;{const{data:t,error:n}=await va.from("website_settings").insert([{lockdown:!1,full_lockdown:!1,note:"",updated_by:(null===e||void 0===e?void 0:e.id)||null}]).select().single();if(n)throw n;t&&p({lockdown:t.lockdown,fullLockdown:t.full_lockdown,note:t.note||""})}}else n&&p({lockdown:n.lockdown,fullLockdown:n.full_lockdown,note:n.note||""})}catch(t){console.error("Feil ved henting av website-innstillinger:",t),p({lockdown:!1,fullLockdown:!1,note:""})}};(0,t.useEffect)((()=>{Ta().then((e=>{console.log("Preloaded godkjente artikler:",e.success?e.data.length:0)})),wa.hentFraTabell("kategorier").then((e=>{console.log("Preloaded kategorier:",e.success?e.data.length:0)})),wa.hentFraTabell("website_settings").then((e=>{console.log("Preloaded settings")})),ns();(async()=>{try{console.log("Starter henting av artikler...");const n=await Li();if(n.success){var e;console.log(`Lastet ${(null===(e=n.artikler)||void 0===e?void 0:e.length)||0} artikler`),a(n.artikler||[])}else{console.error("Kunne ikke laste artikler:",n.error),console.log("Pr\xf8ver \xe5 bruke lokalt lagrede artikler som fallback...");const e=localStorage.getItem("artikler");if(e)try{const t=JSON.parse(e);a(t),console.log(`Lastet ${t.length} artikler fra lokal lagring`)}catch(t){console.error("Kunne ikke parse lokalt lagrede artikler:",t),a([])}else console.log("Ingen lokalt lagrede artikler funnet"),a([])}}catch(n){console.error("Uventet feil ved lasting av artikler:",n),a([])}})();(()=>{const e=localStorage.getItem("brukere");if(e)s(JSON.parse(e));else{const e=[];s(e),localStorage.setItem("brukere",JSON.stringify(e))}const t=localStorage.getItem("kategoriliste");if(t)u(JSON.parse(t));else{const e=[{id:"kat-1",kategori:"Nyheter",ansvarlig:"Administrator"},{id:"kat-2",kategori:"Kultur",ansvarlig:"Administrator"},{id:"kat-3",kategori:"Sport",ansvarlig:"Administrator"},{id:"kat-4",kategori:"Skole",ansvarlig:"Administrator"},{id:"kat-5",kategori:"Saksm\xf8tet",ansvarlig:"Administrator"},{id:"kat-6",kategori:"Meninger",ansvarlig:"Administrator"},{id:"kat-7",kategori:"Heureka",ansvarlig:"Administrator"},{id:"kat-8",kategori:"Klassen",ansvarlig:"Administrator"},{id:"kat-9",kategori:"Annet",ansvarlig:"Administrator"}];u(e),localStorage.setItem("kategoriliste",JSON.stringify(e))}})(),g()}),[e]),(0,t.useEffect)((()=>{e&&g()}),[e]),(0,t.useEffect)((()=>{const e=()=>h(!0),t=()=>h(!1);return window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}}),[]),(0,t.useEffect)((()=>{const e=async e=>{if("brukere"===e.key){const e=await(async()=>{try{const{data:e,error:t}=await Zi(va.from("profiles").select("*"),5e3,"henting av brukere");if(t)throw t;return e}catch(e){return Xi(e,"Henting av brukere"),[]}})();e.success&&s(e.brukere)}else if("artikler"===e.key){const e=await Li();e.success&&a(e.artikler)}};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)}),[]),(0,t.useEffect)((()=>{const e=e=>{"websiteSettings"===e.key&&p(JSON.parse(e.newValue))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)}),[]);const m=e=>{const t=i.map((t=>t.id===e.id?e:t));s(t),localStorage.setItem("brukere",JSON.stringify(t))},v=async e=>{try{const t=await(async e=>{try{const{error:t}=await va.from("artikler").delete().eq("id",e);if(t)throw t;return bi.invalidatePattern("artikler:*"),bi.remove(Ei(e)),Ea.fjernTabell(Sa),Ea.fjernTabell(xa),Object.keys(Ea.tabellData).forEach((e=>{e.startsWith("artikler:bruker:")&&Ea.fjernTabell(e)})),Ea.fjernTabell(_a(e)),{success:!0}}catch(t){return xi(t,"Slette artikkel"),{success:!1,error:t.message}}})(e);if(t.success){const e=await Li();return e.success&&a(e.artikler),!0}return console.error("Kunne ikke slette artikkel:",t.error),!1}catch(t){return console.error("Feil ved sletting av artikkel:",t),!1}},k=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{const r=await(async(e,t,n)=>{try{const a=JSON.parse(localStorage.getItem("artikler"))||[],i=a.findIndex((t=>t.artikkelID===e));if(-1===i)return{success:!1,error:"Artikkelen ble ikke funnet"};let s=a[i].bilde;if(n)try{s=await Ii(n)}catch(r){console.error("Feil ved bildekomprimering:",r),s=n}return a[i]={...a[i],...t,bilde:s,sistredigert:Oi()},localStorage.setItem("artikler",JSON.stringify(a)),bi.invalidatePattern("artikler:*"),bi.invalidatePattern(`artikler:bruker:${t.forfatter_id}`),bi.remove(Ei(e)),Ea.fjernTabell(Sa),Ea.fjernTabell(xa),Ea.fjernTabell(ja(t.forfatter_id)),Ea.fjernTabell(_a(e)),{success:!0}}catch(a){return xi(a,"Oppdatere artikkel"),{success:!1,error:a.message}}})(e,t,n);if(r.success){const e=await Li();return e.success&&a(e.artikler),!0}return console.error("Kunne ikke oppdatere artikkel:",r.error),!1}catch(r){return console.error("Feil ved oppdatering av artikkel:",r),!1}};return(0,t.useEffect)((()=>{(()=>{if(rs){const e=["/register","/registrer","/login","/logg-inn","/ny-artikkel","/mine-artikler","/admin","/profil","/website-panel","/data-panel","/artikkel"],t=sessionStorage.getItem("redirectPath");t&&(console.log("Gjenoppretter navigasjon til:",t),setTimeout((()=>{if(sessionStorage.removeItem("redirectPath"),e.some((e=>t.startsWith(e)||t.includes(e))))console.log("Omdirigerer til kjent rute:",t),window.location.href=as()+t;else if(t.includes("/artikkel/")){console.log("Omdirigerer til artikkelvisning:",t);const e=t.split("/artikkel/")[1];e&&(window.location.href=as()+"/artikkel/"+e)}}),500));const n=window.location.pathname,r=n.split("/");r.length>2&&"NyskolenPosten"===r[1]&&(console.log("H\xe5ndterer direkte URL-aksess p\xe5 GitHub Pages:",n),sessionStorage.setItem("redirectPath",n.replace("/NyskolenPosten","")))}})()}),[]),f.fullLockdown?(0,Na.jsx)("div",{className:"maintenance-mode",children:(0,Na.jsxs)("div",{className:"maintenance-container",children:[(0,Na.jsx)("h1",{children:"NyskolenPosten er nede for vedlikehold"}),(0,Na.jsx)("p",{children:"Vi jobber med \xe5 forbedre nettsiden og er straks tilbake."}),(0,Na.jsx)("p",{children:"Beklager ulempene dette medf\xf8rer."})]})}):(0,Na.jsxs)("div",{className:"app-container",children:[(0,Na.jsxs)(Z,{children:[(0,Na.jsx)("title",{children:"Nyskolen Posten"}),(0,Na.jsx)("meta",{name:"description",content:"Nyskolen Posten - Skoleavisen for Nyskolen i Oslo"}),(0,Na.jsx)("meta",{name:"keywords",content:"skoleavis, nyskolen, oslo, elever, artikler"}),(0,Na.jsx)("meta",{property:"og:title",content:"Nyskolen Posten"}),(0,Na.jsx)("meta",{property:"og:description",content:"Skoleavisen for Nyskolen i Oslo"}),(0,Na.jsx)("meta",{property:"og:type",content:"website"})]}),f.note&&(0,Na.jsx)("div",{className:"site-notification",children:(0,Na.jsx)("div",{className:"note-content",children:f.note})}),(0,Na.jsx)(Wi,{innloggetBruker:e,onLogout:async()=>{try{await n(),console.log("Du har blitt logget ut")}catch(e){console.error("Feil ved utlogging:",e)}},isLockdown:f.lockdown}),(0,Na.jsxs)("main",{className:"main-content",children:[!d&&(0,Na.jsx)("div",{className:"offline-warning",children:"Du er offline. Noen funksjoner kan v\xe6re begrenset."}),(0,Na.jsxs)(dt,{children:[(0,Na.jsx)(ct,{path:"/",element:(0,Na.jsx)(Ca,{artikler:r.filter((e=>e.godkjent))})}),(0,Na.jsx)(ct,{path:"/om-oss",element:(0,Na.jsx)($a,{})}),(0,Na.jsx)(ct,{path:"/ny-artikkel",element:e?(0,Na.jsx)(ki,{onLeggTilArtikkel:async t=>{if(!e)return console.error("Bruker m\xe5 v\xe6re logget inn for \xe5 opprette artikkel"),null;const n={...t,forfatterID:e.id,forfatterNavn:e.navn,godkjent:"admin"===e.rolle||"redakt\xf8r"===e.rolle||"teknisk_leder"===e.rolle};try{const e=await Ai(n,t.bilde);if(e.success){const t=await Li();return t.success&&a(t.artikler),e.artikkelID}return console.error("Kunne ikke legge til artikkel:",e.error),null}catch(r){return console.error("Feil ved \xe5 legge til artikkel:",r),null}}}):(0,Na.jsx)(lt,{to:"/",replace:!0})}),(0,Na.jsx)(ct,{path:"/artikkel/:id",element:(0,Na.jsx)(Ri,{artikler:r,innloggetBruker:e,onSlettArtikkel:v,onRedigerArtikkel:(e,t)=>k(e,t)})}),(0,Na.jsx)(ct,{path:"/mine-artikler",element:(0,Na.jsx)(Di,{innloggetBruker:e,artikler:r.filter((t=>t.forfatterID===(null===e||void 0===e?void 0:e.id))),onSlettArtikkel:v,onOppdaterArtikkel:k})}),(0,Na.jsx)(ct,{path:"/admin",element:(0,Na.jsx)($i,{innloggetBruker:e,artikler:r,brukere:i,jobbliste:o,kategoriliste:c,onDeleteArticle:v,onUpdateArticle:k,onUpdateUser:m,onDeleteUser:e=>{var t;const n=i.filter((t=>t.id!==e));s(n),localStorage.setItem("brukere",JSON.stringify(n));const r=null===(t=i.find((t=>t.id===e)))||void 0===t?void 0:t.navn;if(r){const e=o.filter((e=>e.navn!==r));l(e),localStorage.setItem("jobbliste",JSON.stringify(e))}},onApproveArticle:async e=>{try{const t=await(async e=>{try{const{data:t,error:n}=await va.from("artikler").update({godkjent:!0}).eq("id",e).select().single();if(n)throw n;return bi.invalidatePattern("artikler:*"),bi.remove(Ei(e)),Ea.fjernTabell(Sa),Ea.fjernTabell(xa),t&&t.forfatter_id?Ea.fjernTabell(ja(t.forfatter_id)):Object.keys(Ea.tabellData).forEach((e=>{e.startsWith("artikler:bruker:")&&Ea.fjernTabell(e)})),Ea.fjernTabell(_a(e)),{success:!0,artikkel:t}}catch(t){return xi(t,"Godkjenne artikkel"),{success:!1,error:t.message}}})(e);if(t.success){const e=await Li();return e.success&&a(e.artikler),!0}return console.error("Kunne ikke godkjenne artikkel:",t.error),!1}catch(t){return console.error("Feil ved godkjenning av artikkel:",t),!1}},onUpdateJobbliste:l,onUpdateKategoriliste:u,onEndreRolleBruker:(e,t)=>{try{const n=o.map((n=>n.id===e?{...n,rolle:t}:n));l(n),localStorage.setItem("jobbliste",JSON.stringify(n));const r=o.find((t=>t.id===e));if(r){const e=i.find((e=>e.navn===r.navn));if(e){const n="Redakt\xf8r"===t?"redakt\xf8r":"Teknisk leder"===t?"teknisk_leder":"Administrator"===t?"admin":"skribent",r={...e,rolle:n};m(r)}}return!0}catch(n){return console.error("Feil ved endring av rolle:",n),!1}}})}),(0,Na.jsx)(ct,{path:"/login",element:(0,Na.jsx)(Ki,{})}),(0,Na.jsx)(ct,{path:"/logg-inn",element:(0,Na.jsx)(Ki,{})}),(0,Na.jsx)(ct,{path:"/register",element:(0,Na.jsx)(Vi,{})}),(0,Na.jsx)(ct,{path:"/registrer",element:(0,Na.jsx)(Vi,{})}),(0,Na.jsx)(ct,{path:"/profil",element:(0,Na.jsx)(Yi,{innloggetBruker:e,onOppdaterBruker:m})}),(0,Na.jsx)(ct,{path:"/website-panel",element:(0,Na.jsx)(Ui,{innloggetBruker:e,currentSettings:f,onUpdateSettings:async t=>{try{const{data:n,error:r}=await va.from("website_settings").upsert([{...t,updated_by:null===e||void 0===e?void 0:e.id}]).select().single();if(r)throw r;return p(n),{success:!0}}catch(n){return console.error("Feil ved oppdatering av website-innstillinger:",n),{success:!1,error:n.message}}}})}),(0,Na.jsx)(ct,{path:"/data-panel",element:(0,Na.jsx)(zi,{innloggetBruker:e})}),(0,Na.jsx)(ct,{path:"/cache-monitor",element:(0,Na.jsx)(Ji,{})}),(0,Na.jsx)(ct,{path:"*",element:(0,Na.jsx)(Gi,{})})]})]}),(0,Na.jsx)(Bi,{})]})}class ss extends t.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Auth Error Boundary fanget en feil:",e,t)}render(){return this.state.hasError?(0,Na.jsxs)("div",{style:{padding:"20px",textAlign:"center",backgroundColor:"#f8f9fa",minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,Na.jsx)("h1",{children:"Noe gikk galt med autentiseringen"}),(0,Na.jsx)("p",{children:"Appen kj\xf8rer i fallback-modus. Du kan fortsatt bruke grunnleggende funksjoner."}),(0,Na.jsx)("button",{onClick:()=>window.location.reload(),style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Last inn siden p\xe5 nytt"})]}):this.props.children}}const os=function(){return(0,Na.jsx)(V,{children:(0,Na.jsx)(ss,{children:(0,Na.jsx)(za,{children:(0,Na.jsx)(La,{children:(0,Na.jsx)(yt,{basename:as(),children:(0,Na.jsx)(is,{})})})})})})},ls=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:a,getLCP:i,getTTFB:s}=t;n(e),r(e),a(e),i(e),s(e)}))};a.createRoot(document.getElementById("root")).render((0,Na.jsx)(t.StrictMode,{children:(0,Na.jsx)(V,{children:(0,Na.jsx)(os,{})})})),ls()})()})();
//# sourceMappingURL=main.82718dd2.js.map